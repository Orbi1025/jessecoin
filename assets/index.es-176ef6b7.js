import {
  j as G8,
  k as ln,
  g as Lv,
  r as i1,
  _ as W8,
} from "./index-29f8386e.js";
import { e as Hi, J as x0 } from "./events-e29ee2a1.js";
import { r as S0, i as Mf } from "./inherits_browser-98cba026.js";
var n1 =
    (globalThis && globalThis.__spreadArray) ||
    function (r, e, t) {
      if (t || arguments.length === 2)
        for (var i = 0, n = e.length, a; i < n; i++)
          (a || !(i in e)) &&
            (a || (a = Array.prototype.slice.call(e, 0, i)), (a[i] = e[i]));
      return r.concat(a || Array.prototype.slice.call(e));
    },
  J8 = (function () {
    function r(e, t, i) {
      (this.name = e),
        (this.version = t),
        (this.os = i),
        (this.type = "browser");
    }
    return r;
  })(),
  Y8 = (function () {
    function r(e) {
      (this.version = e),
        (this.type = "node"),
        (this.name = "node"),
        (this.os = process.platform);
    }
    return r;
  })(),
  Q8 = (function () {
    function r(e, t, i, n) {
      (this.name = e),
        (this.version = t),
        (this.os = i),
        (this.bot = n),
        (this.type = "bot-device");
    }
    return r;
  })(),
  X8 = (function () {
    function r() {
      (this.type = "bot"),
        (this.bot = !0),
        (this.name = "bot"),
        (this.version = null),
        (this.os = null);
    }
    return r;
  })(),
  Z8 = (function () {
    function r() {
      (this.type = "react-native"),
        (this.name = "react-native"),
        (this.version = null),
        (this.os = null);
    }
    return r;
  })(),
  e4 =
    /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,
  t4 =
    /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,
  s1 = 3,
  r4 = [
    ["aol", /AOLShield\/([0-9\._]+)/],
    ["edge", /Edge\/([0-9\._]+)/],
    ["edge-ios", /EdgiOS\/([0-9\._]+)/],
    ["yandexbrowser", /YaBrowser\/([0-9\._]+)/],
    ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/],
    ["samsung", /SamsungBrowser\/([0-9\.]+)/],
    ["silk", /\bSilk\/([0-9._-]+)\b/],
    ["miui", /MiuiBrowser\/([0-9\.]+)$/],
    ["beaker", /BeakerBrowser\/([0-9\.]+)/],
    ["edge-chromium", /EdgA?\/([0-9\.]+)/],
    [
      "chromium-webview",
      /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,
    ],
    ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/],
    ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/],
    ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
    ["fxios", /FxiOS\/([0-9\.]+)/],
    ["opera-mini", /Opera Mini.*Version\/([0-9\.]+)/],
    ["opera", /Opera\/([0-9\.]+)(?:\s|$)/],
    ["opera", /OPR\/([0-9\.]+)(:?\s|$)/],
    ["pie", /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],
    [
      "pie",
      /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/,
    ],
    ["netfront", /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],
    ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
    ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
    ["ie", /MSIE\s(7\.0)/],
    ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
    ["android", /Android\s([0-9\.]+)/],
    ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
    ["safari", /Version\/([0-9\._]+).*Safari/],
    ["facebook", /FB[AS]V\/([0-9\.]+)/],
    ["instagram", /Instagram\s([0-9\.]+)/],
    ["ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/],
    ["ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
    ["curl", /^curl\/([0-9\.]+)$/],
    ["searchbot", e4],
  ],
  a1 = [
    ["iOS", /iP(hone|od|ad)/],
    ["Android OS", /Android/],
    ["BlackBerry OS", /BlackBerry|BB10/],
    ["Windows Mobile", /IEMobile/],
    ["Amazon OS", /Kindle/],
    ["Windows 3.11", /Win16/],
    ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],
    ["Windows 98", /(Windows 98)|(Win98)/],
    ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],
    ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],
    ["Windows Server 2003", /(Windows NT 5.2)/],
    ["Windows Vista", /(Windows NT 6.0)/],
    ["Windows 7", /(Windows NT 6.1)/],
    ["Windows 8", /(Windows NT 6.2)/],
    ["Windows 8.1", /(Windows NT 6.3)/],
    ["Windows 10", /(Windows NT 10.0)/],
    ["Windows ME", /Windows ME/],
    ["Windows CE", /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],
    ["Open BSD", /OpenBSD/],
    ["Sun OS", /SunOS/],
    ["Chrome OS", /CrOS/],
    ["Linux", /(Linux)|(X11)/],
    ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],
    ["QNX", /QNX/],
    ["BeOS", /BeOS/],
    ["OS/2", /OS\/2/],
  ];
function i4(r) {
  return r
    ? o1(r)
    : typeof document > "u" &&
      typeof navigator < "u" &&
      navigator.product === "ReactNative"
    ? new Z8()
    : typeof navigator < "u"
    ? o1(navigator.userAgent)
    : a4();
}
function n4(r) {
  return (
    r !== "" &&
    r4.reduce(function (e, t) {
      var i = t[0],
        n = t[1];
      if (e) return e;
      var a = n.exec(r);
      return !!a && [i, a];
    }, !1)
  );
}
function o1(r) {
  var e = n4(r);
  if (!e) return null;
  var t = e[0],
    i = e[1];
  if (t === "searchbot") return new X8();
  var n = i[1] && i[1].split(".").join("_").split("_").slice(0, 3);
  n
    ? n.length < s1 && (n = n1(n1([], n, !0), o4(s1 - n.length), !0))
    : (n = []);
  var a = n.join("."),
    h = s4(r),
    f = t4.exec(r);
  return f && f[1] ? new Q8(t, a, h, f[1]) : new J8(t, a, h);
}
function s4(r) {
  for (var e = 0, t = a1.length; e < t; e++) {
    var i = a1[e],
      n = i[0],
      a = i[1],
      h = a.exec(r);
    if (h) return n;
  }
  return null;
}
function a4() {
  var r = typeof process < "u" && process.version;
  return r ? new Y8(process.version.slice(1)) : null;
}
function o4(r) {
  for (var e = [], t = 0; t < r; t++) e.push("0");
  return e;
}
var xe = {};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var Jl =
  function (r, e) {
    return (
      (Jl =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (t, i) {
            t.__proto__ = i;
          }) ||
        function (t, i) {
          for (var n in i) i.hasOwnProperty(n) && (t[n] = i[n]);
        }),
      Jl(r, e)
    );
  };
function c4(r, e) {
  Jl(r, e);
  function t() {
    this.constructor = r;
  }
  r.prototype =
    e === null ? Object.create(e) : ((t.prototype = e.prototype), new t());
}
var Yl = function () {
  return (
    (Yl =
      Object.assign ||
      function (e) {
        for (var t, i = 1, n = arguments.length; i < n; i++) {
          t = arguments[i];
          for (var a in t)
            Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
        }
        return e;
      }),
    Yl.apply(this, arguments)
  );
};
function h4(r, e) {
  var t = {};
  for (var i in r)
    Object.prototype.hasOwnProperty.call(r, i) &&
      e.indexOf(i) < 0 &&
      (t[i] = r[i]);
  if (r != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, i = Object.getOwnPropertySymbols(r); n < i.length; n++)
      e.indexOf(i[n]) < 0 &&
        Object.prototype.propertyIsEnumerable.call(r, i[n]) &&
        (t[i[n]] = r[i[n]]);
  return t;
}
function f4(r, e, t, i) {
  var n = arguments.length,
    a =
      n < 3 ? e : i === null ? (i = Object.getOwnPropertyDescriptor(e, t)) : i,
    h;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    a = Reflect.decorate(r, e, t, i);
  else
    for (var f = r.length - 1; f >= 0; f--)
      (h = r[f]) && (a = (n < 3 ? h(a) : n > 3 ? h(e, t, a) : h(e, t)) || a);
  return n > 3 && a && Object.defineProperty(e, t, a), a;
}
function u4(r, e) {
  return function (t, i) {
    e(t, i, r);
  };
}
function l4(r, e) {
  if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
    return Reflect.metadata(r, e);
}
function d4(r, e, t, i) {
  function n(a) {
    return a instanceof t
      ? a
      : new t(function (h) {
          h(a);
        });
  }
  return new (t || (t = Promise))(function (a, h) {
    function f(y) {
      try {
        g(i.next(y));
      } catch (_) {
        h(_);
      }
    }
    function v(y) {
      try {
        g(i.throw(y));
      } catch (_) {
        h(_);
      }
    }
    function g(y) {
      y.done ? a(y.value) : n(y.value).then(f, v);
    }
    g((i = i.apply(r, e || [])).next());
  });
}
function p4(r, e) {
  var t = {
      label: 0,
      sent: function () {
        if (a[0] & 1) throw a[1];
        return a[1];
      },
      trys: [],
      ops: [],
    },
    i,
    n,
    a,
    h;
  return (
    (h = { next: f(0), throw: f(1), return: f(2) }),
    typeof Symbol == "function" &&
      (h[Symbol.iterator] = function () {
        return this;
      }),
    h
  );
  function f(g) {
    return function (y) {
      return v([g, y]);
    };
  }
  function v(g) {
    if (i) throw new TypeError("Generator is already executing.");
    for (; t; )
      try {
        if (
          ((i = 1),
          n &&
            (a =
              g[0] & 2
                ? n.return
                : g[0]
                ? n.throw || ((a = n.return) && a.call(n), 0)
                : n.next) &&
            !(a = a.call(n, g[1])).done)
        )
          return a;
        switch (((n = 0), a && (g = [g[0] & 2, a.value]), g[0])) {
          case 0:
          case 1:
            a = g;
            break;
          case 4:
            return t.label++, { value: g[1], done: !1 };
          case 5:
            t.label++, (n = g[1]), (g = [0]);
            continue;
          case 7:
            (g = t.ops.pop()), t.trys.pop();
            continue;
          default:
            if (
              ((a = t.trys),
              !(a = a.length > 0 && a[a.length - 1]) &&
                (g[0] === 6 || g[0] === 2))
            ) {
              t = 0;
              continue;
            }
            if (g[0] === 3 && (!a || (g[1] > a[0] && g[1] < a[3]))) {
              t.label = g[1];
              break;
            }
            if (g[0] === 6 && t.label < a[1]) {
              (t.label = a[1]), (a = g);
              break;
            }
            if (a && t.label < a[2]) {
              (t.label = a[2]), t.ops.push(g);
              break;
            }
            a[2] && t.ops.pop(), t.trys.pop();
            continue;
        }
        g = e.call(r, t);
      } catch (y) {
        (g = [6, y]), (n = 0);
      } finally {
        i = a = 0;
      }
    if (g[0] & 5) throw g[1];
    return { value: g[0] ? g[1] : void 0, done: !0 };
  }
}
function g4(r, e, t, i) {
  i === void 0 && (i = t), (r[i] = e[t]);
}
function v4(r, e) {
  for (var t in r) t !== "default" && !e.hasOwnProperty(t) && (e[t] = r[t]);
}
function Ql(r) {
  var e = typeof Symbol == "function" && Symbol.iterator,
    t = e && r[e],
    i = 0;
  if (t) return t.call(r);
  if (r && typeof r.length == "number")
    return {
      next: function () {
        return (
          r && i >= r.length && (r = void 0), { value: r && r[i++], done: !r }
        );
      },
    };
  throw new TypeError(
    e ? "Object is not iterable." : "Symbol.iterator is not defined."
  );
}
function qv(r, e) {
  var t = typeof Symbol == "function" && r[Symbol.iterator];
  if (!t) return r;
  var i = t.call(r),
    n,
    a = [],
    h;
  try {
    for (; (e === void 0 || e-- > 0) && !(n = i.next()).done; ) a.push(n.value);
  } catch (f) {
    h = { error: f };
  } finally {
    try {
      n && !n.done && (t = i.return) && t.call(i);
    } finally {
      if (h) throw h.error;
    }
  }
  return a;
}
function b4() {
  for (var r = [], e = 0; e < arguments.length; e++)
    r = r.concat(qv(arguments[e]));
  return r;
}
function m4() {
  for (var r = 0, e = 0, t = arguments.length; e < t; e++)
    r += arguments[e].length;
  for (var i = Array(r), n = 0, e = 0; e < t; e++)
    for (var a = arguments[e], h = 0, f = a.length; h < f; h++, n++)
      i[n] = a[h];
  return i;
}
function dc(r) {
  return this instanceof dc ? ((this.v = r), this) : new dc(r);
}
function y4(r, e, t) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var i = t.apply(r, e || []),
    n,
    a = [];
  return (
    (n = {}),
    h("next"),
    h("throw"),
    h("return"),
    (n[Symbol.asyncIterator] = function () {
      return this;
    }),
    n
  );
  function h(C) {
    i[C] &&
      (n[C] = function (P) {
        return new Promise(function (O, H) {
          a.push([C, P, O, H]) > 1 || f(C, P);
        });
      });
  }
  function f(C, P) {
    try {
      v(i[C](P));
    } catch (O) {
      _(a[0][3], O);
    }
  }
  function v(C) {
    C.value instanceof dc
      ? Promise.resolve(C.value.v).then(g, y)
      : _(a[0][2], C);
  }
  function g(C) {
    f("next", C);
  }
  function y(C) {
    f("throw", C);
  }
  function _(C, P) {
    C(P), a.shift(), a.length && f(a[0][0], a[0][1]);
  }
}
function w4(r) {
  var e, t;
  return (
    (e = {}),
    i("next"),
    i("throw", function (n) {
      throw n;
    }),
    i("return"),
    (e[Symbol.iterator] = function () {
      return this;
    }),
    e
  );
  function i(n, a) {
    e[n] = r[n]
      ? function (h) {
          return (t = !t)
            ? { value: dc(r[n](h)), done: n === "return" }
            : a
            ? a(h)
            : h;
        }
      : a;
  }
}
function _4(r) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var e = r[Symbol.asyncIterator],
    t;
  return e
    ? e.call(r)
    : ((r = typeof Ql == "function" ? Ql(r) : r[Symbol.iterator]()),
      (t = {}),
      i("next"),
      i("throw"),
      i("return"),
      (t[Symbol.asyncIterator] = function () {
        return this;
      }),
      t);
  function i(a) {
    t[a] =
      r[a] &&
      function (h) {
        return new Promise(function (f, v) {
          (h = r[a](h)), n(f, v, h.done, h.value);
        });
      };
  }
  function n(a, h, f, v) {
    Promise.resolve(v).then(function (g) {
      a({ value: g, done: f });
    }, h);
  }
}
function A4(r, e) {
  return (
    Object.defineProperty
      ? Object.defineProperty(r, "raw", { value: e })
      : (r.raw = e),
    r
  );
}
function E4(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null)
    for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return (e.default = r), e;
}
function x4(r) {
  return r && r.__esModule ? r : { default: r };
}
function S4(r, e) {
  if (!e.has(r))
    throw new TypeError("attempted to get private field on non-instance");
  return e.get(r);
}
function M4(r, e, t) {
  if (!e.has(r))
    throw new TypeError("attempted to set private field on non-instance");
  return e.set(r, t), t;
}
const I4 = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        get __assign() {
          return Yl;
        },
        __asyncDelegator: w4,
        __asyncGenerator: y4,
        __asyncValues: _4,
        __await: dc,
        __awaiter: d4,
        __classPrivateFieldGet: S4,
        __classPrivateFieldSet: M4,
        __createBinding: g4,
        __decorate: f4,
        __exportStar: v4,
        __extends: c4,
        __generator: p4,
        __importDefault: x4,
        __importStar: E4,
        __makeTemplateObject: A4,
        __metadata: l4,
        __param: u4,
        __read: qv,
        __rest: h4,
        __spread: b4,
        __spreadArrays: m4,
        __values: Ql,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  _c = G8(I4);
var ol = {},
  Ho = {},
  c1;
function D4() {
  if (c1) return Ho;
  (c1 = 1),
    Object.defineProperty(Ho, "__esModule", { value: !0 }),
    (Ho.delay = void 0);
  function r(e) {
    return new Promise((t) => {
      setTimeout(() => {
        t(!0);
      }, e);
    });
  }
  return (Ho.delay = r), Ho;
}
var ia = {},
  cl = {},
  na = {},
  h1;
function P4() {
  return (
    h1 ||
      ((h1 = 1),
      Object.defineProperty(na, "__esModule", { value: !0 }),
      (na.ONE_THOUSAND = na.ONE_HUNDRED = void 0),
      (na.ONE_HUNDRED = 100),
      (na.ONE_THOUSAND = 1e3)),
    na
  );
}
var hl = {},
  f1;
function C4() {
  return (
    f1 ||
      ((f1 = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ONE_YEAR =
            r.FOUR_WEEKS =
            r.THREE_WEEKS =
            r.TWO_WEEKS =
            r.ONE_WEEK =
            r.THIRTY_DAYS =
            r.SEVEN_DAYS =
            r.FIVE_DAYS =
            r.THREE_DAYS =
            r.ONE_DAY =
            r.TWENTY_FOUR_HOURS =
            r.TWELVE_HOURS =
            r.SIX_HOURS =
            r.THREE_HOURS =
            r.ONE_HOUR =
            r.SIXTY_MINUTES =
            r.THIRTY_MINUTES =
            r.TEN_MINUTES =
            r.FIVE_MINUTES =
            r.ONE_MINUTE =
            r.SIXTY_SECONDS =
            r.THIRTY_SECONDS =
            r.TEN_SECONDS =
            r.FIVE_SECONDS =
            r.ONE_SECOND =
              void 0),
          (r.ONE_SECOND = 1),
          (r.FIVE_SECONDS = 5),
          (r.TEN_SECONDS = 10),
          (r.THIRTY_SECONDS = 30),
          (r.SIXTY_SECONDS = 60),
          (r.ONE_MINUTE = r.SIXTY_SECONDS),
          (r.FIVE_MINUTES = r.ONE_MINUTE * 5),
          (r.TEN_MINUTES = r.ONE_MINUTE * 10),
          (r.THIRTY_MINUTES = r.ONE_MINUTE * 30),
          (r.SIXTY_MINUTES = r.ONE_MINUTE * 60),
          (r.ONE_HOUR = r.SIXTY_MINUTES),
          (r.THREE_HOURS = r.ONE_HOUR * 3),
          (r.SIX_HOURS = r.ONE_HOUR * 6),
          (r.TWELVE_HOURS = r.ONE_HOUR * 12),
          (r.TWENTY_FOUR_HOURS = r.ONE_HOUR * 24),
          (r.ONE_DAY = r.TWENTY_FOUR_HOURS),
          (r.THREE_DAYS = r.ONE_DAY * 3),
          (r.FIVE_DAYS = r.ONE_DAY * 5),
          (r.SEVEN_DAYS = r.ONE_DAY * 7),
          (r.THIRTY_DAYS = r.ONE_DAY * 30),
          (r.ONE_WEEK = r.SEVEN_DAYS),
          (r.TWO_WEEKS = r.ONE_WEEK * 2),
          (r.THREE_WEEKS = r.ONE_WEEK * 3),
          (r.FOUR_WEEKS = r.ONE_WEEK * 4),
          (r.ONE_YEAR = r.ONE_DAY * 365);
      })(hl)),
    hl
  );
}
var u1;
function Uv() {
  return (
    u1 ||
      ((u1 = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        const e = _c;
        e.__exportStar(P4(), r), e.__exportStar(C4(), r);
      })(cl)),
    cl
  );
}
var l1;
function O4() {
  if (l1) return ia;
  (l1 = 1),
    Object.defineProperty(ia, "__esModule", { value: !0 }),
    (ia.fromMiliseconds = ia.toMiliseconds = void 0);
  const r = Uv();
  function e(i) {
    return i * r.ONE_THOUSAND;
  }
  ia.toMiliseconds = e;
  function t(i) {
    return Math.floor(i / r.ONE_THOUSAND);
  }
  return (ia.fromMiliseconds = t), ia;
}
var d1;
function N4() {
  return (
    d1 ||
      ((d1 = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        const e = _c;
        e.__exportStar(D4(), r), e.__exportStar(O4(), r);
      })(ol)),
    ol
  );
}
var Ka = {},
  p1;
function R4() {
  if (p1) return Ka;
  (p1 = 1),
    Object.defineProperty(Ka, "__esModule", { value: !0 }),
    (Ka.Watch = void 0);
  class r {
    constructor() {
      this.timestamps = new Map();
    }
    start(t) {
      if (this.timestamps.has(t))
        throw new Error(`Watch already started for label: ${t}`);
      this.timestamps.set(t, { started: Date.now() });
    }
    stop(t) {
      const i = this.get(t);
      if (typeof i.elapsed < "u")
        throw new Error(`Watch already stopped for label: ${t}`);
      const n = Date.now() - i.started;
      this.timestamps.set(t, { started: i.started, elapsed: n });
    }
    get(t) {
      const i = this.timestamps.get(t);
      if (typeof i > "u") throw new Error(`No timestamp found for label: ${t}`);
      return i;
    }
    elapsed(t) {
      const i = this.get(t);
      return i.elapsed || Date.now() - i.started;
    }
  }
  return (Ka.Watch = r), (Ka.default = r), Ka;
}
var fl = {},
  Ko = {},
  g1;
function T4() {
  if (g1) return Ko;
  (g1 = 1),
    Object.defineProperty(Ko, "__esModule", { value: !0 }),
    (Ko.IWatch = void 0);
  class r {}
  return (Ko.IWatch = r), Ko;
}
var v1;
function F4() {
  return (
    v1 ||
      ((v1 = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 }),
          _c.__exportStar(T4(), r);
      })(fl)),
    fl
  );
}
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  const e = _c;
  e.__exportStar(N4(), r),
    e.__exportStar(R4(), r),
    e.__exportStar(F4(), r),
    e.__exportStar(Uv(), r);
})(xe);
var Vt = {};
Object.defineProperty(Vt, "__esModule", { value: !0 });
Vt.getLocalStorage =
  Vt.getLocalStorageOrThrow =
  Vt.getCrypto =
  Vt.getCryptoOrThrow =
  $v =
  Vt.getLocation =
  Vt.getLocationOrThrow =
  M0 =
  Vt.getNavigator =
  Vt.getNavigatorOrThrow =
  If =
  Vt.getDocument =
  Vt.getDocumentOrThrow =
  Vt.getFromWindowOrThrow =
  Vt.getFromWindow =
    void 0;
function ya(r) {
  let e;
  return typeof window < "u" && typeof window[r] < "u" && (e = window[r]), e;
}
Vt.getFromWindow = ya;
function ho(r) {
  const e = ya(r);
  if (!e) throw new Error(`${r} is not defined in Window`);
  return e;
}
Vt.getFromWindowOrThrow = ho;
function B4() {
  return ho("document");
}
Vt.getDocumentOrThrow = B4;
function L4() {
  return ya("document");
}
var If = (Vt.getDocument = L4);
function q4() {
  return ho("navigator");
}
Vt.getNavigatorOrThrow = q4;
function U4() {
  return ya("navigator");
}
var M0 = (Vt.getNavigator = U4);
function $4() {
  return ho("location");
}
Vt.getLocationOrThrow = $4;
function z4() {
  return ya("location");
}
var $v = (Vt.getLocation = z4);
function k4() {
  return ho("crypto");
}
Vt.getCryptoOrThrow = k4;
function j4() {
  return ya("crypto");
}
Vt.getCrypto = j4;
function H4() {
  return ho("localStorage");
}
Vt.getLocalStorageOrThrow = H4;
function K4() {
  return ya("localStorage");
}
Vt.getLocalStorage = K4;
var I0 = {};
Object.defineProperty(I0, "__esModule", { value: !0 });
var zv = (I0.getWindowMetadata = void 0);
const b1 = Vt;
function V4() {
  let r, e;
  try {
    (r = b1.getDocumentOrThrow()), (e = b1.getLocationOrThrow());
  } catch {
    return null;
  }
  function t() {
    const _ = r.getElementsByTagName("link"),
      C = [];
    for (let P = 0; P < _.length; P++) {
      const O = _[P],
        H = O.getAttribute("rel");
      if (H && H.toLowerCase().indexOf("icon") > -1) {
        const G = O.getAttribute("href");
        if (G)
          if (
            G.toLowerCase().indexOf("https:") === -1 &&
            G.toLowerCase().indexOf("http:") === -1 &&
            G.indexOf("//") !== 0
          ) {
            let Q = e.protocol + "//" + e.host;
            if (G.indexOf("/") === 0) Q += G;
            else {
              const z = e.pathname.split("/");
              z.pop();
              const Y = z.join("/");
              Q += Y + "/" + G;
            }
            C.push(Q);
          } else if (G.indexOf("//") === 0) {
            const Q = e.protocol + G;
            C.push(Q);
          } else C.push(G);
      }
    }
    return C;
  }
  function i(..._) {
    const C = r.getElementsByTagName("meta");
    for (let P = 0; P < C.length; P++) {
      const O = C[P],
        H = ["itemprop", "property", "name"]
          .map((G) => O.getAttribute(G))
          .filter((G) => (G ? _.includes(G) : !1));
      if (H.length && H) {
        const G = O.getAttribute("content");
        if (G) return G;
      }
    }
    return "";
  }
  function n() {
    let _ = i("name", "og:site_name", "og:title", "twitter:title");
    return _ || (_ = r.title), _;
  }
  function a() {
    return i(
      "description",
      "og:description",
      "twitter:description",
      "keywords"
    );
  }
  const h = n(),
    f = a(),
    v = e.origin,
    g = t();
  return { description: f, url: v, icons: g, name: h };
}
zv = I0.getWindowMetadata = V4;
var pc = {},
  G4 = (r) =>
    encodeURIComponent(r).replace(
      /[!'()*]/g,
      (e) => `%${e.charCodeAt(0).toString(16).toUpperCase()}`
    ),
  kv = "%[a-f0-9]{2}",
  m1 = new RegExp("(" + kv + ")|([^%]+?)", "gi"),
  y1 = new RegExp("(" + kv + ")+", "gi");
function Xl(r, e) {
  try {
    return [decodeURIComponent(r.join(""))];
  } catch {}
  if (r.length === 1) return r;
  e = e || 1;
  var t = r.slice(0, e),
    i = r.slice(e);
  return Array.prototype.concat.call([], Xl(t), Xl(i));
}
function W4(r) {
  try {
    return decodeURIComponent(r);
  } catch {
    for (var e = r.match(m1) || [], t = 1; t < e.length; t++)
      (r = Xl(e, t).join("")), (e = r.match(m1) || []);
    return r;
  }
}
function J4(r) {
  for (var e = { "%FE%FF": "��", "%FF%FE": "��" }, t = y1.exec(r); t; ) {
    try {
      e[t[0]] = decodeURIComponent(t[0]);
    } catch {
      var i = W4(t[0]);
      i !== t[0] && (e[t[0]] = i);
    }
    t = y1.exec(r);
  }
  e["%C2"] = "�";
  for (var n = Object.keys(e), a = 0; a < n.length; a++) {
    var h = n[a];
    r = r.replace(new RegExp(h, "g"), e[h]);
  }
  return r;
}
var Y4 = function (r) {
    if (typeof r != "string")
      throw new TypeError(
        "Expected `encodedURI` to be of type `string`, got `" + typeof r + "`"
      );
    try {
      return (r = r.replace(/\+/g, " ")), decodeURIComponent(r);
    } catch {
      return J4(r);
    }
  },
  Q4 = (r, e) => {
    if (!(typeof r == "string" && typeof e == "string"))
      throw new TypeError("Expected the arguments to be of type `string`");
    if (e === "") return [r];
    const t = r.indexOf(e);
    return t === -1 ? [r] : [r.slice(0, t), r.slice(t + e.length)];
  },
  X4 = function (r, e) {
    for (
      var t = {}, i = Object.keys(r), n = Array.isArray(e), a = 0;
      a < i.length;
      a++
    ) {
      var h = i[a],
        f = r[h];
      (n ? e.indexOf(h) !== -1 : e(h, f, r)) && (t[h] = f);
    }
    return t;
  };
(function (r) {
  const e = G4,
    t = Y4,
    i = Q4,
    n = X4,
    a = (z) => z == null,
    h = Symbol("encodeFragmentIdentifier");
  function f(z) {
    switch (z.arrayFormat) {
      case "index":
        return (Y) => (q, k) => {
          const V = q.length;
          return k === void 0 ||
            (z.skipNull && k === null) ||
            (z.skipEmptyString && k === "")
            ? q
            : k === null
            ? [...q, [y(Y, z), "[", V, "]"].join("")]
            : [...q, [y(Y, z), "[", y(V, z), "]=", y(k, z)].join("")];
        };
      case "bracket":
        return (Y) => (q, k) =>
          k === void 0 ||
          (z.skipNull && k === null) ||
          (z.skipEmptyString && k === "")
            ? q
            : k === null
            ? [...q, [y(Y, z), "[]"].join("")]
            : [...q, [y(Y, z), "[]=", y(k, z)].join("")];
      case "colon-list-separator":
        return (Y) => (q, k) =>
          k === void 0 ||
          (z.skipNull && k === null) ||
          (z.skipEmptyString && k === "")
            ? q
            : k === null
            ? [...q, [y(Y, z), ":list="].join("")]
            : [...q, [y(Y, z), ":list=", y(k, z)].join("")];
      case "comma":
      case "separator":
      case "bracket-separator": {
        const Y = z.arrayFormat === "bracket-separator" ? "[]=" : "=";
        return (q) => (k, V) =>
          V === void 0 ||
          (z.skipNull && V === null) ||
          (z.skipEmptyString && V === "")
            ? k
            : ((V = V === null ? "" : V),
              k.length === 0
                ? [[y(q, z), Y, y(V, z)].join("")]
                : [[k, y(V, z)].join(z.arrayFormatSeparator)]);
      }
      default:
        return (Y) => (q, k) =>
          k === void 0 ||
          (z.skipNull && k === null) ||
          (z.skipEmptyString && k === "")
            ? q
            : k === null
            ? [...q, y(Y, z)]
            : [...q, [y(Y, z), "=", y(k, z)].join("")];
    }
  }
  function v(z) {
    let Y;
    switch (z.arrayFormat) {
      case "index":
        return (q, k, V) => {
          if (
            ((Y = /\[(\d*)\]$/.exec(q)), (q = q.replace(/\[\d*\]$/, "")), !Y)
          ) {
            V[q] = k;
            return;
          }
          V[q] === void 0 && (V[q] = {}), (V[q][Y[1]] = k);
        };
      case "bracket":
        return (q, k, V) => {
          if (((Y = /(\[\])$/.exec(q)), (q = q.replace(/\[\]$/, "")), !Y)) {
            V[q] = k;
            return;
          }
          if (V[q] === void 0) {
            V[q] = [k];
            return;
          }
          V[q] = [].concat(V[q], k);
        };
      case "colon-list-separator":
        return (q, k, V) => {
          if (((Y = /(:list)$/.exec(q)), (q = q.replace(/:list$/, "")), !Y)) {
            V[q] = k;
            return;
          }
          if (V[q] === void 0) {
            V[q] = [k];
            return;
          }
          V[q] = [].concat(V[q], k);
        };
      case "comma":
      case "separator":
        return (q, k, V) => {
          const A = typeof k == "string" && k.includes(z.arrayFormatSeparator),
            F =
              typeof k == "string" &&
              !A &&
              _(k, z).includes(z.arrayFormatSeparator);
          k = F ? _(k, z) : k;
          const ae =
            A || F
              ? k.split(z.arrayFormatSeparator).map((de) => _(de, z))
              : k === null
              ? k
              : _(k, z);
          V[q] = ae;
        };
      case "bracket-separator":
        return (q, k, V) => {
          const A = /(\[\])$/.test(q);
          if (((q = q.replace(/\[\]$/, "")), !A)) {
            V[q] = k && _(k, z);
            return;
          }
          const F =
            k === null
              ? []
              : k.split(z.arrayFormatSeparator).map((ae) => _(ae, z));
          if (V[q] === void 0) {
            V[q] = F;
            return;
          }
          V[q] = [].concat(V[q], F);
        };
      default:
        return (q, k, V) => {
          if (V[q] === void 0) {
            V[q] = k;
            return;
          }
          V[q] = [].concat(V[q], k);
        };
    }
  }
  function g(z) {
    if (typeof z != "string" || z.length !== 1)
      throw new TypeError(
        "arrayFormatSeparator must be single character string"
      );
  }
  function y(z, Y) {
    return Y.encode ? (Y.strict ? e(z) : encodeURIComponent(z)) : z;
  }
  function _(z, Y) {
    return Y.decode ? t(z) : z;
  }
  function C(z) {
    return Array.isArray(z)
      ? z.sort()
      : typeof z == "object"
      ? C(Object.keys(z))
          .sort((Y, q) => Number(Y) - Number(q))
          .map((Y) => z[Y])
      : z;
  }
  function P(z) {
    const Y = z.indexOf("#");
    return Y !== -1 && (z = z.slice(0, Y)), z;
  }
  function O(z) {
    let Y = "";
    const q = z.indexOf("#");
    return q !== -1 && (Y = z.slice(q)), Y;
  }
  function H(z) {
    z = P(z);
    const Y = z.indexOf("?");
    return Y === -1 ? "" : z.slice(Y + 1);
  }
  function G(z, Y) {
    return (
      Y.parseNumbers &&
      !Number.isNaN(Number(z)) &&
      typeof z == "string" &&
      z.trim() !== ""
        ? (z = Number(z))
        : Y.parseBooleans &&
          z !== null &&
          (z.toLowerCase() === "true" || z.toLowerCase() === "false") &&
          (z = z.toLowerCase() === "true"),
      z
    );
  }
  function Q(z, Y) {
    (Y = Object.assign(
      {
        decode: !0,
        sort: !0,
        arrayFormat: "none",
        arrayFormatSeparator: ",",
        parseNumbers: !1,
        parseBooleans: !1,
      },
      Y
    )),
      g(Y.arrayFormatSeparator);
    const q = v(Y),
      k = Object.create(null);
    if (typeof z != "string" || ((z = z.trim().replace(/^[?#&]/, "")), !z))
      return k;
    for (const V of z.split("&")) {
      if (V === "") continue;
      let [A, F] = i(Y.decode ? V.replace(/\+/g, " ") : V, "=");
      (F =
        F === void 0
          ? null
          : ["comma", "separator", "bracket-separator"].includes(Y.arrayFormat)
          ? F
          : _(F, Y)),
        q(_(A, Y), F, k);
    }
    for (const V of Object.keys(k)) {
      const A = k[V];
      if (typeof A == "object" && A !== null)
        for (const F of Object.keys(A)) A[F] = G(A[F], Y);
      else k[V] = G(A, Y);
    }
    return Y.sort === !1
      ? k
      : (Y.sort === !0
          ? Object.keys(k).sort()
          : Object.keys(k).sort(Y.sort)
        ).reduce((V, A) => {
          const F = k[A];
          return (
            F && typeof F == "object" && !Array.isArray(F)
              ? (V[A] = C(F))
              : (V[A] = F),
            V
          );
        }, Object.create(null));
  }
  (r.extract = H),
    (r.parse = Q),
    (r.stringify = (z, Y) => {
      if (!z) return "";
      (Y = Object.assign(
        {
          encode: !0,
          strict: !0,
          arrayFormat: "none",
          arrayFormatSeparator: ",",
        },
        Y
      )),
        g(Y.arrayFormatSeparator);
      const q = (F) =>
          (Y.skipNull && a(z[F])) || (Y.skipEmptyString && z[F] === ""),
        k = f(Y),
        V = {};
      for (const F of Object.keys(z)) q(F) || (V[F] = z[F]);
      const A = Object.keys(V);
      return (
        Y.sort !== !1 && A.sort(Y.sort),
        A.map((F) => {
          const ae = z[F];
          return ae === void 0
            ? ""
            : ae === null
            ? y(F, Y)
            : Array.isArray(ae)
            ? ae.length === 0 && Y.arrayFormat === "bracket-separator"
              ? y(F, Y) + "[]"
              : ae.reduce(k(F), []).join("&")
            : y(F, Y) + "=" + y(ae, Y);
        })
          .filter((F) => F.length > 0)
          .join("&")
      );
    }),
    (r.parseUrl = (z, Y) => {
      Y = Object.assign({ decode: !0 }, Y);
      const [q, k] = i(z, "#");
      return Object.assign(
        { url: q.split("?")[0] || "", query: Q(H(z), Y) },
        Y && Y.parseFragmentIdentifier && k
          ? { fragmentIdentifier: _(k, Y) }
          : {}
      );
    }),
    (r.stringifyUrl = (z, Y) => {
      Y = Object.assign({ encode: !0, strict: !0, [h]: !0 }, Y);
      const q = P(z.url).split("?")[0] || "",
        k = r.extract(z.url),
        V = r.parse(k, { sort: !1 }),
        A = Object.assign(V, z.query);
      let F = r.stringify(A, Y);
      F && (F = `?${F}`);
      let ae = O(z.url);
      return (
        z.fragmentIdentifier &&
          (ae = `#${Y[h] ? y(z.fragmentIdentifier, Y) : z.fragmentIdentifier}`),
        `${q}${F}${ae}`
      );
    }),
    (r.pick = (z, Y, q) => {
      q = Object.assign({ parseFragmentIdentifier: !0, [h]: !1 }, q);
      const { url: k, query: V, fragmentIdentifier: A } = r.parseUrl(z, q);
      return r.stringifyUrl(
        { url: k, query: n(V, Y), fragmentIdentifier: A },
        q
      );
    }),
    (r.exclude = (z, Y, q) => {
      const k = Array.isArray(Y) ? (V) => !Y.includes(V) : (V, A) => !Y(V, A);
      return r.pick(z, k, q);
    });
})(pc);
var D0 = {},
  Df = {},
  mt = {},
  jv = {};
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  function e(f, v) {
    var g = (f >>> 16) & 65535,
      y = f & 65535,
      _ = (v >>> 16) & 65535,
      C = v & 65535;
    return (y * C + (((g * C + y * _) << 16) >>> 0)) | 0;
  }
  r.mul = Math.imul || e;
  function t(f, v) {
    return (f + v) | 0;
  }
  r.add = t;
  function i(f, v) {
    return (f - v) | 0;
  }
  r.sub = i;
  function n(f, v) {
    return (f << v) | (f >>> (32 - v));
  }
  r.rotl = n;
  function a(f, v) {
    return (f << (32 - v)) | (f >>> v);
  }
  r.rotr = a;
  function h(f) {
    return typeof f == "number" && isFinite(f) && Math.floor(f) === f;
  }
  (r.isInteger = Number.isInteger || h),
    (r.MAX_SAFE_INTEGER = 9007199254740991),
    (r.isSafeInteger = function (f) {
      return (
        r.isInteger(f) && f >= -r.MAX_SAFE_INTEGER && f <= r.MAX_SAFE_INTEGER
      );
    });
})(jv);
Object.defineProperty(mt, "__esModule", { value: !0 });
var Hv = jv;
function Z4(r, e) {
  return e === void 0 && (e = 0), (((r[e + 0] << 8) | r[e + 1]) << 16) >> 16;
}
mt.readInt16BE = Z4;
function e_(r, e) {
  return e === void 0 && (e = 0), ((r[e + 0] << 8) | r[e + 1]) >>> 0;
}
mt.readUint16BE = e_;
function t_(r, e) {
  return e === void 0 && (e = 0), (((r[e + 1] << 8) | r[e]) << 16) >> 16;
}
mt.readInt16LE = t_;
function r_(r, e) {
  return e === void 0 && (e = 0), ((r[e + 1] << 8) | r[e]) >>> 0;
}
mt.readUint16LE = r_;
function Kv(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(2)),
    t === void 0 && (t = 0),
    (e[t + 0] = r >>> 8),
    (e[t + 1] = r >>> 0),
    e
  );
}
mt.writeUint16BE = Kv;
mt.writeInt16BE = Kv;
function Vv(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(2)),
    t === void 0 && (t = 0),
    (e[t + 0] = r >>> 0),
    (e[t + 1] = r >>> 8),
    e
  );
}
mt.writeUint16LE = Vv;
mt.writeInt16LE = Vv;
function Zl(r, e) {
  return (
    e === void 0 && (e = 0),
    (r[e] << 24) | (r[e + 1] << 16) | (r[e + 2] << 8) | r[e + 3]
  );
}
mt.readInt32BE = Zl;
function e0(r, e) {
  return (
    e === void 0 && (e = 0),
    ((r[e] << 24) | (r[e + 1] << 16) | (r[e + 2] << 8) | r[e + 3]) >>> 0
  );
}
mt.readUint32BE = e0;
function t0(r, e) {
  return (
    e === void 0 && (e = 0),
    (r[e + 3] << 24) | (r[e + 2] << 16) | (r[e + 1] << 8) | r[e]
  );
}
mt.readInt32LE = t0;
function r0(r, e) {
  return (
    e === void 0 && (e = 0),
    ((r[e + 3] << 24) | (r[e + 2] << 16) | (r[e + 1] << 8) | r[e]) >>> 0
  );
}
mt.readUint32LE = r0;
function cf(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(4)),
    t === void 0 && (t = 0),
    (e[t + 0] = r >>> 24),
    (e[t + 1] = r >>> 16),
    (e[t + 2] = r >>> 8),
    (e[t + 3] = r >>> 0),
    e
  );
}
mt.writeUint32BE = cf;
mt.writeInt32BE = cf;
function hf(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(4)),
    t === void 0 && (t = 0),
    (e[t + 0] = r >>> 0),
    (e[t + 1] = r >>> 8),
    (e[t + 2] = r >>> 16),
    (e[t + 3] = r >>> 24),
    e
  );
}
mt.writeUint32LE = hf;
mt.writeInt32LE = hf;
function i_(r, e) {
  e === void 0 && (e = 0);
  var t = Zl(r, e),
    i = Zl(r, e + 4);
  return t * 4294967296 + i - (i >> 31) * 4294967296;
}
mt.readInt64BE = i_;
function n_(r, e) {
  e === void 0 && (e = 0);
  var t = e0(r, e),
    i = e0(r, e + 4);
  return t * 4294967296 + i;
}
mt.readUint64BE = n_;
function s_(r, e) {
  e === void 0 && (e = 0);
  var t = t0(r, e),
    i = t0(r, e + 4);
  return i * 4294967296 + t - (t >> 31) * 4294967296;
}
mt.readInt64LE = s_;
function a_(r, e) {
  e === void 0 && (e = 0);
  var t = r0(r, e),
    i = r0(r, e + 4);
  return i * 4294967296 + t;
}
mt.readUint64LE = a_;
function Gv(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(8)),
    t === void 0 && (t = 0),
    cf((r / 4294967296) >>> 0, e, t),
    cf(r >>> 0, e, t + 4),
    e
  );
}
mt.writeUint64BE = Gv;
mt.writeInt64BE = Gv;
function Wv(r, e, t) {
  return (
    e === void 0 && (e = new Uint8Array(8)),
    t === void 0 && (t = 0),
    hf(r >>> 0, e, t),
    hf((r / 4294967296) >>> 0, e, t + 4),
    e
  );
}
mt.writeUint64LE = Wv;
mt.writeInt64LE = Wv;
function o_(r, e, t) {
  if ((t === void 0 && (t = 0), r % 8 !== 0))
    throw new Error("readUintBE supports only bitLengths divisible by 8");
  if (r / 8 > e.length - t)
    throw new Error("readUintBE: array is too short for the given bitLength");
  for (var i = 0, n = 1, a = r / 8 + t - 1; a >= t; a--)
    (i += e[a] * n), (n *= 256);
  return i;
}
mt.readUintBE = o_;
function c_(r, e, t) {
  if ((t === void 0 && (t = 0), r % 8 !== 0))
    throw new Error("readUintLE supports only bitLengths divisible by 8");
  if (r / 8 > e.length - t)
    throw new Error("readUintLE: array is too short for the given bitLength");
  for (var i = 0, n = 1, a = t; a < t + r / 8; a++) (i += e[a] * n), (n *= 256);
  return i;
}
mt.readUintLE = c_;
function h_(r, e, t, i) {
  if (
    (t === void 0 && (t = new Uint8Array(r / 8)),
    i === void 0 && (i = 0),
    r % 8 !== 0)
  )
    throw new Error("writeUintBE supports only bitLengths divisible by 8");
  if (!Hv.isSafeInteger(e))
    throw new Error("writeUintBE value must be an integer");
  for (var n = 1, a = r / 8 + i - 1; a >= i; a--)
    (t[a] = (e / n) & 255), (n *= 256);
  return t;
}
mt.writeUintBE = h_;
function f_(r, e, t, i) {
  if (
    (t === void 0 && (t = new Uint8Array(r / 8)),
    i === void 0 && (i = 0),
    r % 8 !== 0)
  )
    throw new Error("writeUintLE supports only bitLengths divisible by 8");
  if (!Hv.isSafeInteger(e))
    throw new Error("writeUintLE value must be an integer");
  for (var n = 1, a = i; a < i + r / 8; a++) (t[a] = (e / n) & 255), (n *= 256);
  return t;
}
mt.writeUintLE = f_;
function u_(r, e) {
  e === void 0 && (e = 0);
  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);
  return t.getFloat32(e);
}
mt.readFloat32BE = u_;
function l_(r, e) {
  e === void 0 && (e = 0);
  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);
  return t.getFloat32(e, !0);
}
mt.readFloat32LE = l_;
function d_(r, e) {
  e === void 0 && (e = 0);
  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);
  return t.getFloat64(e);
}
mt.readFloat64BE = d_;
function p_(r, e) {
  e === void 0 && (e = 0);
  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);
  return t.getFloat64(e, !0);
}
mt.readFloat64LE = p_;
function g_(r, e, t) {
  e === void 0 && (e = new Uint8Array(4)), t === void 0 && (t = 0);
  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return i.setFloat32(t, r), e;
}
mt.writeFloat32BE = g_;
function v_(r, e, t) {
  e === void 0 && (e = new Uint8Array(4)), t === void 0 && (t = 0);
  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return i.setFloat32(t, r, !0), e;
}
mt.writeFloat32LE = v_;
function b_(r, e, t) {
  e === void 0 && (e = new Uint8Array(8)), t === void 0 && (t = 0);
  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return i.setFloat64(t, r), e;
}
mt.writeFloat64BE = b_;
function m_(r, e, t) {
  e === void 0 && (e = new Uint8Array(8)), t === void 0 && (t = 0);
  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);
  return i.setFloat64(t, r, !0), e;
}
mt.writeFloat64LE = m_;
var xi = {};
Object.defineProperty(xi, "__esModule", { value: !0 });
function y_(r) {
  for (var e = 0; e < r.length; e++) r[e] = 0;
  return r;
}
xi.wipe = y_;
Object.defineProperty(Df, "__esModule", { value: !0 });
var $r = mt,
  i0 = xi,
  w_ = 20;
function __(r, e, t) {
  for (
    var i = 1634760805,
      n = 857760878,
      a = 2036477234,
      h = 1797285236,
      f = (t[3] << 24) | (t[2] << 16) | (t[1] << 8) | t[0],
      v = (t[7] << 24) | (t[6] << 16) | (t[5] << 8) | t[4],
      g = (t[11] << 24) | (t[10] << 16) | (t[9] << 8) | t[8],
      y = (t[15] << 24) | (t[14] << 16) | (t[13] << 8) | t[12],
      _ = (t[19] << 24) | (t[18] << 16) | (t[17] << 8) | t[16],
      C = (t[23] << 24) | (t[22] << 16) | (t[21] << 8) | t[20],
      P = (t[27] << 24) | (t[26] << 16) | (t[25] << 8) | t[24],
      O = (t[31] << 24) | (t[30] << 16) | (t[29] << 8) | t[28],
      H = (e[3] << 24) | (e[2] << 16) | (e[1] << 8) | e[0],
      G = (e[7] << 24) | (e[6] << 16) | (e[5] << 8) | e[4],
      Q = (e[11] << 24) | (e[10] << 16) | (e[9] << 8) | e[8],
      z = (e[15] << 24) | (e[14] << 16) | (e[13] << 8) | e[12],
      Y = i,
      q = n,
      k = a,
      V = h,
      A = f,
      F = v,
      ae = g,
      de = y,
      U = _,
      m = C,
      c = P,
      l = O,
      b = H,
      x = G,
      M = Q,
      D = z,
      S = 0;
    S < w_;
    S += 2
  )
    (Y = (Y + A) | 0),
      (b ^= Y),
      (b = (b >>> (32 - 16)) | (b << 16)),
      (U = (U + b) | 0),
      (A ^= U),
      (A = (A >>> (32 - 12)) | (A << 12)),
      (q = (q + F) | 0),
      (x ^= q),
      (x = (x >>> (32 - 16)) | (x << 16)),
      (m = (m + x) | 0),
      (F ^= m),
      (F = (F >>> (32 - 12)) | (F << 12)),
      (k = (k + ae) | 0),
      (M ^= k),
      (M = (M >>> (32 - 16)) | (M << 16)),
      (c = (c + M) | 0),
      (ae ^= c),
      (ae = (ae >>> (32 - 12)) | (ae << 12)),
      (V = (V + de) | 0),
      (D ^= V),
      (D = (D >>> (32 - 16)) | (D << 16)),
      (l = (l + D) | 0),
      (de ^= l),
      (de = (de >>> (32 - 12)) | (de << 12)),
      (k = (k + ae) | 0),
      (M ^= k),
      (M = (M >>> (32 - 8)) | (M << 8)),
      (c = (c + M) | 0),
      (ae ^= c),
      (ae = (ae >>> (32 - 7)) | (ae << 7)),
      (V = (V + de) | 0),
      (D ^= V),
      (D = (D >>> (32 - 8)) | (D << 8)),
      (l = (l + D) | 0),
      (de ^= l),
      (de = (de >>> (32 - 7)) | (de << 7)),
      (q = (q + F) | 0),
      (x ^= q),
      (x = (x >>> (32 - 8)) | (x << 8)),
      (m = (m + x) | 0),
      (F ^= m),
      (F = (F >>> (32 - 7)) | (F << 7)),
      (Y = (Y + A) | 0),
      (b ^= Y),
      (b = (b >>> (32 - 8)) | (b << 8)),
      (U = (U + b) | 0),
      (A ^= U),
      (A = (A >>> (32 - 7)) | (A << 7)),
      (Y = (Y + F) | 0),
      (D ^= Y),
      (D = (D >>> (32 - 16)) | (D << 16)),
      (c = (c + D) | 0),
      (F ^= c),
      (F = (F >>> (32 - 12)) | (F << 12)),
      (q = (q + ae) | 0),
      (b ^= q),
      (b = (b >>> (32 - 16)) | (b << 16)),
      (l = (l + b) | 0),
      (ae ^= l),
      (ae = (ae >>> (32 - 12)) | (ae << 12)),
      (k = (k + de) | 0),
      (x ^= k),
      (x = (x >>> (32 - 16)) | (x << 16)),
      (U = (U + x) | 0),
      (de ^= U),
      (de = (de >>> (32 - 12)) | (de << 12)),
      (V = (V + A) | 0),
      (M ^= V),
      (M = (M >>> (32 - 16)) | (M << 16)),
      (m = (m + M) | 0),
      (A ^= m),
      (A = (A >>> (32 - 12)) | (A << 12)),
      (k = (k + de) | 0),
      (x ^= k),
      (x = (x >>> (32 - 8)) | (x << 8)),
      (U = (U + x) | 0),
      (de ^= U),
      (de = (de >>> (32 - 7)) | (de << 7)),
      (V = (V + A) | 0),
      (M ^= V),
      (M = (M >>> (32 - 8)) | (M << 8)),
      (m = (m + M) | 0),
      (A ^= m),
      (A = (A >>> (32 - 7)) | (A << 7)),
      (q = (q + ae) | 0),
      (b ^= q),
      (b = (b >>> (32 - 8)) | (b << 8)),
      (l = (l + b) | 0),
      (ae ^= l),
      (ae = (ae >>> (32 - 7)) | (ae << 7)),
      (Y = (Y + F) | 0),
      (D ^= Y),
      (D = (D >>> (32 - 8)) | (D << 8)),
      (c = (c + D) | 0),
      (F ^= c),
      (F = (F >>> (32 - 7)) | (F << 7));
  $r.writeUint32LE((Y + i) | 0, r, 0),
    $r.writeUint32LE((q + n) | 0, r, 4),
    $r.writeUint32LE((k + a) | 0, r, 8),
    $r.writeUint32LE((V + h) | 0, r, 12),
    $r.writeUint32LE((A + f) | 0, r, 16),
    $r.writeUint32LE((F + v) | 0, r, 20),
    $r.writeUint32LE((ae + g) | 0, r, 24),
    $r.writeUint32LE((de + y) | 0, r, 28),
    $r.writeUint32LE((U + _) | 0, r, 32),
    $r.writeUint32LE((m + C) | 0, r, 36),
    $r.writeUint32LE((c + P) | 0, r, 40),
    $r.writeUint32LE((l + O) | 0, r, 44),
    $r.writeUint32LE((b + H) | 0, r, 48),
    $r.writeUint32LE((x + G) | 0, r, 52),
    $r.writeUint32LE((M + Q) | 0, r, 56),
    $r.writeUint32LE((D + z) | 0, r, 60);
}
function Jv(r, e, t, i, n) {
  if ((n === void 0 && (n = 0), r.length !== 32))
    throw new Error("ChaCha: key size must be 32 bytes");
  if (i.length < t.length)
    throw new Error("ChaCha: destination is shorter than source");
  var a, h;
  if (n === 0) {
    if (e.length !== 8 && e.length !== 12)
      throw new Error("ChaCha nonce must be 8 or 12 bytes");
    (a = new Uint8Array(16)), (h = a.length - e.length), a.set(e, h);
  } else {
    if (e.length !== 16)
      throw new Error("ChaCha nonce with counter must be 16 bytes");
    (a = e), (h = n);
  }
  for (var f = new Uint8Array(64), v = 0; v < t.length; v += 64) {
    __(f, a, r);
    for (var g = v; g < v + 64 && g < t.length; g++) i[g] = t[g] ^ f[g - v];
    E_(a, 0, h);
  }
  return i0.wipe(f), n === 0 && i0.wipe(a), i;
}
Df.streamXOR = Jv;
function A_(r, e, t, i) {
  return i === void 0 && (i = 0), i0.wipe(t), Jv(r, e, t, t, i);
}
Df.stream = A_;
function E_(r, e, t) {
  for (var i = 1; t--; )
    (i = (i + (r[e] & 255)) | 0), (r[e] = i & 255), (i >>>= 8), e++;
  if (i > 0) throw new Error("ChaCha: counter overflow");
}
var Yv = {},
  $s = {};
Object.defineProperty($s, "__esModule", { value: !0 });
function x_(r, e, t) {
  return (~(r - 1) & e) | ((r - 1) & t);
}
$s.select = x_;
function S_(r, e) {
  return (((r | 0) - (e | 0) - 1) >>> 31) & 1;
}
$s.lessOrEqual = S_;
function Qv(r, e) {
  if (r.length !== e.length) return 0;
  for (var t = 0, i = 0; i < r.length; i++) t |= r[i] ^ e[i];
  return 1 & ((t - 1) >>> 8);
}
$s.compare = Qv;
function M_(r, e) {
  return r.length === 0 || e.length === 0 ? !1 : Qv(r, e) !== 0;
}
$s.equal = M_;
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e = $s,
    t = xi;
  r.DIGEST_LENGTH = 16;
  var i = (function () {
    function h(f) {
      (this.digestLength = r.DIGEST_LENGTH),
        (this._buffer = new Uint8Array(16)),
        (this._r = new Uint16Array(10)),
        (this._h = new Uint16Array(10)),
        (this._pad = new Uint16Array(8)),
        (this._leftover = 0),
        (this._fin = 0),
        (this._finished = !1);
      var v = f[0] | (f[1] << 8);
      this._r[0] = v & 8191;
      var g = f[2] | (f[3] << 8);
      this._r[1] = ((v >>> 13) | (g << 3)) & 8191;
      var y = f[4] | (f[5] << 8);
      this._r[2] = ((g >>> 10) | (y << 6)) & 7939;
      var _ = f[6] | (f[7] << 8);
      this._r[3] = ((y >>> 7) | (_ << 9)) & 8191;
      var C = f[8] | (f[9] << 8);
      (this._r[4] = ((_ >>> 4) | (C << 12)) & 255),
        (this._r[5] = (C >>> 1) & 8190);
      var P = f[10] | (f[11] << 8);
      this._r[6] = ((C >>> 14) | (P << 2)) & 8191;
      var O = f[12] | (f[13] << 8);
      this._r[7] = ((P >>> 11) | (O << 5)) & 8065;
      var H = f[14] | (f[15] << 8);
      (this._r[8] = ((O >>> 8) | (H << 8)) & 8191),
        (this._r[9] = (H >>> 5) & 127),
        (this._pad[0] = f[16] | (f[17] << 8)),
        (this._pad[1] = f[18] | (f[19] << 8)),
        (this._pad[2] = f[20] | (f[21] << 8)),
        (this._pad[3] = f[22] | (f[23] << 8)),
        (this._pad[4] = f[24] | (f[25] << 8)),
        (this._pad[5] = f[26] | (f[27] << 8)),
        (this._pad[6] = f[28] | (f[29] << 8)),
        (this._pad[7] = f[30] | (f[31] << 8));
    }
    return (
      (h.prototype._blocks = function (f, v, g) {
        for (
          var y = this._fin ? 0 : 2048,
            _ = this._h[0],
            C = this._h[1],
            P = this._h[2],
            O = this._h[3],
            H = this._h[4],
            G = this._h[5],
            Q = this._h[6],
            z = this._h[7],
            Y = this._h[8],
            q = this._h[9],
            k = this._r[0],
            V = this._r[1],
            A = this._r[2],
            F = this._r[3],
            ae = this._r[4],
            de = this._r[5],
            U = this._r[6],
            m = this._r[7],
            c = this._r[8],
            l = this._r[9];
          g >= 16;

        ) {
          var b = f[v + 0] | (f[v + 1] << 8);
          _ += b & 8191;
          var x = f[v + 2] | (f[v + 3] << 8);
          C += ((b >>> 13) | (x << 3)) & 8191;
          var M = f[v + 4] | (f[v + 5] << 8);
          P += ((x >>> 10) | (M << 6)) & 8191;
          var D = f[v + 6] | (f[v + 7] << 8);
          O += ((M >>> 7) | (D << 9)) & 8191;
          var S = f[v + 8] | (f[v + 9] << 8);
          (H += ((D >>> 4) | (S << 12)) & 8191), (G += (S >>> 1) & 8191);
          var d = f[v + 10] | (f[v + 11] << 8);
          Q += ((S >>> 14) | (d << 2)) & 8191;
          var p = f[v + 12] | (f[v + 13] << 8);
          z += ((d >>> 11) | (p << 5)) & 8191;
          var R = f[v + 14] | (f[v + 15] << 8);
          (Y += ((p >>> 8) | (R << 8)) & 8191), (q += (R >>> 5) | y);
          var Z = 0,
            se = Z;
          (se += _ * k),
            (se += C * (5 * l)),
            (se += P * (5 * c)),
            (se += O * (5 * m)),
            (se += H * (5 * U)),
            (Z = se >>> 13),
            (se &= 8191),
            (se += G * (5 * de)),
            (se += Q * (5 * ae)),
            (se += z * (5 * F)),
            (se += Y * (5 * A)),
            (se += q * (5 * V)),
            (Z += se >>> 13),
            (se &= 8191);
          var I = Z;
          (I += _ * V),
            (I += C * k),
            (I += P * (5 * l)),
            (I += O * (5 * c)),
            (I += H * (5 * m)),
            (Z = I >>> 13),
            (I &= 8191),
            (I += G * (5 * U)),
            (I += Q * (5 * de)),
            (I += z * (5 * ae)),
            (I += Y * (5 * F)),
            (I += q * (5 * A)),
            (Z += I >>> 13),
            (I &= 8191);
          var ee = Z;
          (ee += _ * A),
            (ee += C * V),
            (ee += P * k),
            (ee += O * (5 * l)),
            (ee += H * (5 * c)),
            (Z = ee >>> 13),
            (ee &= 8191),
            (ee += G * (5 * m)),
            (ee += Q * (5 * U)),
            (ee += z * (5 * de)),
            (ee += Y * (5 * ae)),
            (ee += q * (5 * F)),
            (Z += ee >>> 13),
            (ee &= 8191);
          var B = Z;
          (B += _ * F),
            (B += C * A),
            (B += P * V),
            (B += O * k),
            (B += H * (5 * l)),
            (Z = B >>> 13),
            (B &= 8191),
            (B += G * (5 * c)),
            (B += Q * (5 * m)),
            (B += z * (5 * U)),
            (B += Y * (5 * de)),
            (B += q * (5 * ae)),
            (Z += B >>> 13),
            (B &= 8191);
          var j = Z;
          (j += _ * ae),
            (j += C * F),
            (j += P * A),
            (j += O * V),
            (j += H * k),
            (Z = j >>> 13),
            (j &= 8191),
            (j += G * (5 * l)),
            (j += Q * (5 * c)),
            (j += z * (5 * m)),
            (j += Y * (5 * U)),
            (j += q * (5 * de)),
            (Z += j >>> 13),
            (j &= 8191);
          var K = Z;
          (K += _ * de),
            (K += C * ae),
            (K += P * F),
            (K += O * A),
            (K += H * V),
            (Z = K >>> 13),
            (K &= 8191),
            (K += G * k),
            (K += Q * (5 * l)),
            (K += z * (5 * c)),
            (K += Y * (5 * m)),
            (K += q * (5 * U)),
            (Z += K >>> 13),
            (K &= 8191);
          var w = Z;
          (w += _ * U),
            (w += C * de),
            (w += P * ae),
            (w += O * F),
            (w += H * A),
            (Z = w >>> 13),
            (w &= 8191),
            (w += G * V),
            (w += Q * k),
            (w += z * (5 * l)),
            (w += Y * (5 * c)),
            (w += q * (5 * m)),
            (Z += w >>> 13),
            (w &= 8191);
          var $ = Z;
          ($ += _ * m),
            ($ += C * U),
            ($ += P * de),
            ($ += O * ae),
            ($ += H * F),
            (Z = $ >>> 13),
            ($ &= 8191),
            ($ += G * A),
            ($ += Q * V),
            ($ += z * k),
            ($ += Y * (5 * l)),
            ($ += q * (5 * c)),
            (Z += $ >>> 13),
            ($ &= 8191);
          var ne = Z;
          (ne += _ * c),
            (ne += C * m),
            (ne += P * U),
            (ne += O * de),
            (ne += H * ae),
            (Z = ne >>> 13),
            (ne &= 8191),
            (ne += G * F),
            (ne += Q * A),
            (ne += z * V),
            (ne += Y * k),
            (ne += q * (5 * l)),
            (Z += ne >>> 13),
            (ne &= 8191);
          var ce = Z;
          (ce += _ * l),
            (ce += C * c),
            (ce += P * m),
            (ce += O * U),
            (ce += H * de),
            (Z = ce >>> 13),
            (ce &= 8191),
            (ce += G * ae),
            (ce += Q * F),
            (ce += z * A),
            (ce += Y * V),
            (ce += q * k),
            (Z += ce >>> 13),
            (ce &= 8191),
            (Z = ((Z << 2) + Z) | 0),
            (Z = (Z + se) | 0),
            (se = Z & 8191),
            (Z = Z >>> 13),
            (I += Z),
            (_ = se),
            (C = I),
            (P = ee),
            (O = B),
            (H = j),
            (G = K),
            (Q = w),
            (z = $),
            (Y = ne),
            (q = ce),
            (v += 16),
            (g -= 16);
        }
        (this._h[0] = _),
          (this._h[1] = C),
          (this._h[2] = P),
          (this._h[3] = O),
          (this._h[4] = H),
          (this._h[5] = G),
          (this._h[6] = Q),
          (this._h[7] = z),
          (this._h[8] = Y),
          (this._h[9] = q);
      }),
      (h.prototype.finish = function (f, v) {
        v === void 0 && (v = 0);
        var g = new Uint16Array(10),
          y,
          _,
          C,
          P;
        if (this._leftover) {
          for (P = this._leftover, this._buffer[P++] = 1; P < 16; P++)
            this._buffer[P] = 0;
          (this._fin = 1), this._blocks(this._buffer, 0, 16);
        }
        for (y = this._h[1] >>> 13, this._h[1] &= 8191, P = 2; P < 10; P++)
          (this._h[P] += y), (y = this._h[P] >>> 13), (this._h[P] &= 8191);
        for (
          this._h[0] += y * 5,
            y = this._h[0] >>> 13,
            this._h[0] &= 8191,
            this._h[1] += y,
            y = this._h[1] >>> 13,
            this._h[1] &= 8191,
            this._h[2] += y,
            g[0] = this._h[0] + 5,
            y = g[0] >>> 13,
            g[0] &= 8191,
            P = 1;
          P < 10;
          P++
        )
          (g[P] = this._h[P] + y), (y = g[P] >>> 13), (g[P] &= 8191);
        for (g[9] -= 8192, _ = (y ^ 1) - 1, P = 0; P < 10; P++) g[P] &= _;
        for (_ = ~_, P = 0; P < 10; P++) this._h[P] = (this._h[P] & _) | g[P];
        for (
          this._h[0] = (this._h[0] | (this._h[1] << 13)) & 65535,
            this._h[1] = ((this._h[1] >>> 3) | (this._h[2] << 10)) & 65535,
            this._h[2] = ((this._h[2] >>> 6) | (this._h[3] << 7)) & 65535,
            this._h[3] = ((this._h[3] >>> 9) | (this._h[4] << 4)) & 65535,
            this._h[4] =
              ((this._h[4] >>> 12) | (this._h[5] << 1) | (this._h[6] << 14)) &
              65535,
            this._h[5] = ((this._h[6] >>> 2) | (this._h[7] << 11)) & 65535,
            this._h[6] = ((this._h[7] >>> 5) | (this._h[8] << 8)) & 65535,
            this._h[7] = ((this._h[8] >>> 8) | (this._h[9] << 5)) & 65535,
            C = this._h[0] + this._pad[0],
            this._h[0] = C & 65535,
            P = 1;
          P < 8;
          P++
        )
          (C = (((this._h[P] + this._pad[P]) | 0) + (C >>> 16)) | 0),
            (this._h[P] = C & 65535);
        return (
          (f[v + 0] = this._h[0] >>> 0),
          (f[v + 1] = this._h[0] >>> 8),
          (f[v + 2] = this._h[1] >>> 0),
          (f[v + 3] = this._h[1] >>> 8),
          (f[v + 4] = this._h[2] >>> 0),
          (f[v + 5] = this._h[2] >>> 8),
          (f[v + 6] = this._h[3] >>> 0),
          (f[v + 7] = this._h[3] >>> 8),
          (f[v + 8] = this._h[4] >>> 0),
          (f[v + 9] = this._h[4] >>> 8),
          (f[v + 10] = this._h[5] >>> 0),
          (f[v + 11] = this._h[5] >>> 8),
          (f[v + 12] = this._h[6] >>> 0),
          (f[v + 13] = this._h[6] >>> 8),
          (f[v + 14] = this._h[7] >>> 0),
          (f[v + 15] = this._h[7] >>> 8),
          (this._finished = !0),
          this
        );
      }),
      (h.prototype.update = function (f) {
        var v = 0,
          g = f.length,
          y;
        if (this._leftover) {
          (y = 16 - this._leftover), y > g && (y = g);
          for (var _ = 0; _ < y; _++)
            this._buffer[this._leftover + _] = f[v + _];
          if (((g -= y), (v += y), (this._leftover += y), this._leftover < 16))
            return this;
          this._blocks(this._buffer, 0, 16), (this._leftover = 0);
        }
        if (
          (g >= 16 &&
            ((y = g - (g % 16)), this._blocks(f, v, y), (v += y), (g -= y)),
          g)
        ) {
          for (var _ = 0; _ < g; _++)
            this._buffer[this._leftover + _] = f[v + _];
          this._leftover += g;
        }
        return this;
      }),
      (h.prototype.digest = function () {
        if (this._finished) throw new Error("Poly1305 was finished");
        var f = new Uint8Array(16);
        return this.finish(f), f;
      }),
      (h.prototype.clean = function () {
        return (
          t.wipe(this._buffer),
          t.wipe(this._r),
          t.wipe(this._h),
          t.wipe(this._pad),
          (this._leftover = 0),
          (this._fin = 0),
          (this._finished = !0),
          this
        );
      }),
      h
    );
  })();
  r.Poly1305 = i;
  function n(h, f) {
    var v = new i(h);
    v.update(f);
    var g = v.digest();
    return v.clean(), g;
  }
  r.oneTimeAuth = n;
  function a(h, f) {
    return h.length !== r.DIGEST_LENGTH || f.length !== r.DIGEST_LENGTH
      ? !1
      : e.equal(h, f);
  }
  r.equal = a;
})(Yv);
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e = Df,
    t = Yv,
    i = xi,
    n = mt,
    a = $s;
  (r.KEY_LENGTH = 32), (r.NONCE_LENGTH = 12), (r.TAG_LENGTH = 16);
  var h = new Uint8Array(16),
    f = (function () {
      function v(g) {
        if (
          ((this.nonceLength = r.NONCE_LENGTH),
          (this.tagLength = r.TAG_LENGTH),
          g.length !== r.KEY_LENGTH)
        )
          throw new Error("ChaCha20Poly1305 needs 32-byte key");
        this._key = new Uint8Array(g);
      }
      return (
        (v.prototype.seal = function (g, y, _, C) {
          if (g.length > 16)
            throw new Error("ChaCha20Poly1305: incorrect nonce length");
          var P = new Uint8Array(16);
          P.set(g, P.length - g.length);
          var O = new Uint8Array(32);
          e.stream(this._key, P, O, 4);
          var H = y.length + this.tagLength,
            G;
          if (C) {
            if (C.length !== H)
              throw new Error("ChaCha20Poly1305: incorrect destination length");
            G = C;
          } else G = new Uint8Array(H);
          return (
            e.streamXOR(this._key, P, y, G, 4),
            this._authenticate(
              G.subarray(G.length - this.tagLength, G.length),
              O,
              G.subarray(0, G.length - this.tagLength),
              _
            ),
            i.wipe(P),
            G
          );
        }),
        (v.prototype.open = function (g, y, _, C) {
          if (g.length > 16)
            throw new Error("ChaCha20Poly1305: incorrect nonce length");
          if (y.length < this.tagLength) return null;
          var P = new Uint8Array(16);
          P.set(g, P.length - g.length);
          var O = new Uint8Array(32);
          e.stream(this._key, P, O, 4);
          var H = new Uint8Array(this.tagLength);
          if (
            (this._authenticate(
              H,
              O,
              y.subarray(0, y.length - this.tagLength),
              _
            ),
            !a.equal(H, y.subarray(y.length - this.tagLength, y.length)))
          )
            return null;
          var G = y.length - this.tagLength,
            Q;
          if (C) {
            if (C.length !== G)
              throw new Error("ChaCha20Poly1305: incorrect destination length");
            Q = C;
          } else Q = new Uint8Array(G);
          return (
            e.streamXOR(
              this._key,
              P,
              y.subarray(0, y.length - this.tagLength),
              Q,
              4
            ),
            i.wipe(P),
            Q
          );
        }),
        (v.prototype.clean = function () {
          return i.wipe(this._key), this;
        }),
        (v.prototype._authenticate = function (g, y, _, C) {
          var P = new t.Poly1305(y);
          C &&
            (P.update(C),
            C.length % 16 > 0 && P.update(h.subarray(C.length % 16))),
            P.update(_),
            _.length % 16 > 0 && P.update(h.subarray(_.length % 16));
          var O = new Uint8Array(8);
          C && n.writeUint64LE(C.length, O),
            P.update(O),
            n.writeUint64LE(_.length, O),
            P.update(O);
          for (var H = P.digest(), G = 0; G < H.length; G++) g[G] = H[G];
          P.clean(), i.wipe(H), i.wipe(O);
        }),
        v
      );
    })();
  r.ChaCha20Poly1305 = f;
})(D0);
var Xv = {},
  Ac = {},
  P0 = {};
Object.defineProperty(P0, "__esModule", { value: !0 });
function I_(r) {
  return (
    typeof r.saveState < "u" &&
    typeof r.restoreState < "u" &&
    typeof r.cleanSavedState < "u"
  );
}
P0.isSerializableHash = I_;
Object.defineProperty(Ac, "__esModule", { value: !0 });
var En = P0,
  D_ = $s,
  P_ = xi,
  Zv = (function () {
    function r(e, t) {
      (this._finished = !1),
        (this._inner = new e()),
        (this._outer = new e()),
        (this.blockSize = this._outer.blockSize),
        (this.digestLength = this._outer.digestLength);
      var i = new Uint8Array(this.blockSize);
      t.length > this.blockSize
        ? this._inner.update(t).finish(i).clean()
        : i.set(t);
      for (var n = 0; n < i.length; n++) i[n] ^= 54;
      this._inner.update(i);
      for (var n = 0; n < i.length; n++) i[n] ^= 106;
      this._outer.update(i),
        En.isSerializableHash(this._inner) &&
          En.isSerializableHash(this._outer) &&
          ((this._innerKeyedState = this._inner.saveState()),
          (this._outerKeyedState = this._outer.saveState())),
        P_.wipe(i);
    }
    return (
      (r.prototype.reset = function () {
        if (
          !En.isSerializableHash(this._inner) ||
          !En.isSerializableHash(this._outer)
        )
          throw new Error(
            "hmac: can't reset() because hash doesn't implement restoreState()"
          );
        return (
          this._inner.restoreState(this._innerKeyedState),
          this._outer.restoreState(this._outerKeyedState),
          (this._finished = !1),
          this
        );
      }),
      (r.prototype.clean = function () {
        En.isSerializableHash(this._inner) &&
          this._inner.cleanSavedState(this._innerKeyedState),
          En.isSerializableHash(this._outer) &&
            this._outer.cleanSavedState(this._outerKeyedState),
          this._inner.clean(),
          this._outer.clean();
      }),
      (r.prototype.update = function (e) {
        return this._inner.update(e), this;
      }),
      (r.prototype.finish = function (e) {
        return this._finished
          ? (this._outer.finish(e), this)
          : (this._inner.finish(e),
            this._outer.update(e.subarray(0, this.digestLength)).finish(e),
            (this._finished = !0),
            this);
      }),
      (r.prototype.digest = function () {
        var e = new Uint8Array(this.digestLength);
        return this.finish(e), e;
      }),
      (r.prototype.saveState = function () {
        if (!En.isSerializableHash(this._inner))
          throw new Error(
            "hmac: can't saveState() because hash doesn't implement it"
          );
        return this._inner.saveState();
      }),
      (r.prototype.restoreState = function (e) {
        if (
          !En.isSerializableHash(this._inner) ||
          !En.isSerializableHash(this._outer)
        )
          throw new Error(
            "hmac: can't restoreState() because hash doesn't implement it"
          );
        return (
          this._inner.restoreState(e),
          this._outer.restoreState(this._outerKeyedState),
          (this._finished = !1),
          this
        );
      }),
      (r.prototype.cleanSavedState = function (e) {
        if (!En.isSerializableHash(this._inner))
          throw new Error(
            "hmac: can't cleanSavedState() because hash doesn't implement it"
          );
        this._inner.cleanSavedState(e);
      }),
      r
    );
  })();
Ac.HMAC = Zv;
function C_(r, e, t) {
  var i = new Zv(r, e);
  i.update(t);
  var n = i.digest();
  return i.clean(), n;
}
Ac.hmac = C_;
Ac.equal = D_.equal;
Object.defineProperty(Xv, "__esModule", { value: !0 });
var w1 = Ac,
  _1 = xi,
  O_ = (function () {
    function r(e, t, i, n) {
      i === void 0 && (i = new Uint8Array(0)),
        (this._counter = new Uint8Array(1)),
        (this._hash = e),
        (this._info = n);
      var a = w1.hmac(this._hash, i, t);
      (this._hmac = new w1.HMAC(e, a)),
        (this._buffer = new Uint8Array(this._hmac.digestLength)),
        (this._bufpos = this._buffer.length);
    }
    return (
      (r.prototype._fillBuffer = function () {
        this._counter[0]++;
        var e = this._counter[0];
        if (e === 0) throw new Error("hkdf: cannot expand more");
        this._hmac.reset(),
          e > 1 && this._hmac.update(this._buffer),
          this._info && this._hmac.update(this._info),
          this._hmac.update(this._counter),
          this._hmac.finish(this._buffer),
          (this._bufpos = 0);
      }),
      (r.prototype.expand = function (e) {
        for (var t = new Uint8Array(e), i = 0; i < t.length; i++)
          this._bufpos === this._buffer.length && this._fillBuffer(),
            (t[i] = this._buffer[this._bufpos++]);
        return t;
      }),
      (r.prototype.clean = function () {
        this._hmac.clean(),
          _1.wipe(this._buffer),
          _1.wipe(this._counter),
          (this._bufpos = 0);
      }),
      r
    );
  })(),
  N_ = (Xv.HKDF = O_),
  zs = {},
  Pf = {},
  Cf = {};
Object.defineProperty(Cf, "__esModule", { value: !0 });
Cf.BrowserRandomSource = void 0;
const A1 = 65536;
class R_ {
  constructor() {
    (this.isAvailable = !1), (this.isInstantiated = !1);
    const e = typeof self < "u" ? self.crypto || self.msCrypto : null;
    e &&
      e.getRandomValues !== void 0 &&
      ((this._crypto = e), (this.isAvailable = !0), (this.isInstantiated = !0));
  }
  randomBytes(e) {
    if (!this.isAvailable || !this._crypto)
      throw new Error("Browser random byte generator is not available.");
    const t = new Uint8Array(e);
    for (let i = 0; i < t.length; i += A1)
      this._crypto.getRandomValues(
        t.subarray(i, i + Math.min(t.length - i, A1))
      );
    return t;
  }
}
Cf.BrowserRandomSource = R_;
function T_(r) {
  throw new Error(
    'Could not dynamically require "' +
      r +
      '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.'
  );
}
var Of = {};
Object.defineProperty(Of, "__esModule", { value: !0 });
Of.NodeRandomSource = void 0;
const F_ = xi;
class B_ {
  constructor() {
    if (
      ((this.isAvailable = !1), (this.isInstantiated = !1), typeof T_ < "u")
    ) {
      const e = S0;
      e &&
        e.randomBytes &&
        ((this._crypto = e),
        (this.isAvailable = !0),
        (this.isInstantiated = !0));
    }
  }
  randomBytes(e) {
    if (!this.isAvailable || !this._crypto)
      throw new Error("Node.js random byte generator is not available.");
    let t = this._crypto.randomBytes(e);
    if (t.length !== e)
      throw new Error("NodeRandomSource: got fewer bytes than requested");
    const i = new Uint8Array(e);
    for (let n = 0; n < i.length; n++) i[n] = t[n];
    return (0, F_.wipe)(t), i;
  }
}
Of.NodeRandomSource = B_;
Object.defineProperty(Pf, "__esModule", { value: !0 });
Pf.SystemRandomSource = void 0;
const L_ = Cf,
  q_ = Of;
class U_ {
  constructor() {
    if (
      ((this.isAvailable = !1),
      (this.name = ""),
      (this._source = new L_.BrowserRandomSource()),
      this._source.isAvailable)
    ) {
      (this.isAvailable = !0), (this.name = "Browser");
      return;
    }
    if (
      ((this._source = new q_.NodeRandomSource()), this._source.isAvailable)
    ) {
      (this.isAvailable = !0), (this.name = "Node");
      return;
    }
  }
  randomBytes(e) {
    if (!this.isAvailable)
      throw new Error("System random byte generator is not available.");
    return this._source.randomBytes(e);
  }
}
Pf.SystemRandomSource = U_;
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 }),
    (r.randomStringForEntropy =
      r.randomString =
      r.randomUint32 =
      r.randomBytes =
      r.defaultRandomSource =
        void 0);
  const e = Pf,
    t = mt,
    i = xi;
  r.defaultRandomSource = new e.SystemRandomSource();
  function n(g, y = r.defaultRandomSource) {
    return y.randomBytes(g);
  }
  r.randomBytes = n;
  function a(g = r.defaultRandomSource) {
    const y = n(4, g),
      _ = (0, t.readUint32LE)(y);
    return (0, i.wipe)(y), _;
  }
  r.randomUint32 = a;
  const h = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
  function f(g, y = h, _ = r.defaultRandomSource) {
    if (y.length < 2) throw new Error("randomString charset is too short");
    if (y.length > 256) throw new Error("randomString charset is too long");
    let C = "";
    const P = y.length,
      O = 256 - (256 % P);
    for (; g > 0; ) {
      const H = n(Math.ceil((g * 256) / O), _);
      for (let G = 0; G < H.length && g > 0; G++) {
        const Q = H[G];
        Q < O && ((C += y.charAt(Q % P)), g--);
      }
      (0, i.wipe)(H);
    }
    return C;
  }
  r.randomString = f;
  function v(g, y = h, _ = r.defaultRandomSource) {
    const C = Math.ceil(g / (Math.log(y.length) / Math.LN2));
    return f(C, y, _);
  }
  r.randomStringForEntropy = v;
})(zs);
var Ec = {};
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e = mt,
    t = xi;
  (r.DIGEST_LENGTH = 32), (r.BLOCK_SIZE = 64);
  var i = (function () {
    function f() {
      (this.digestLength = r.DIGEST_LENGTH),
        (this.blockSize = r.BLOCK_SIZE),
        (this._state = new Int32Array(8)),
        (this._temp = new Int32Array(64)),
        (this._buffer = new Uint8Array(128)),
        (this._bufferLength = 0),
        (this._bytesHashed = 0),
        (this._finished = !1),
        this.reset();
    }
    return (
      (f.prototype._initState = function () {
        (this._state[0] = 1779033703),
          (this._state[1] = 3144134277),
          (this._state[2] = 1013904242),
          (this._state[3] = 2773480762),
          (this._state[4] = 1359893119),
          (this._state[5] = 2600822924),
          (this._state[6] = 528734635),
          (this._state[7] = 1541459225);
      }),
      (f.prototype.reset = function () {
        return (
          this._initState(),
          (this._bufferLength = 0),
          (this._bytesHashed = 0),
          (this._finished = !1),
          this
        );
      }),
      (f.prototype.clean = function () {
        t.wipe(this._buffer), t.wipe(this._temp), this.reset();
      }),
      (f.prototype.update = function (v, g) {
        if ((g === void 0 && (g = v.length), this._finished))
          throw new Error("SHA256: can't update because hash was finished.");
        var y = 0;
        if (((this._bytesHashed += g), this._bufferLength > 0)) {
          for (; this._bufferLength < this.blockSize && g > 0; )
            (this._buffer[this._bufferLength++] = v[y++]), g--;
          this._bufferLength === this.blockSize &&
            (a(this._temp, this._state, this._buffer, 0, this.blockSize),
            (this._bufferLength = 0));
        }
        for (
          g >= this.blockSize &&
          ((y = a(this._temp, this._state, v, y, g)), (g %= this.blockSize));
          g > 0;

        )
          (this._buffer[this._bufferLength++] = v[y++]), g--;
        return this;
      }),
      (f.prototype.finish = function (v) {
        if (!this._finished) {
          var g = this._bytesHashed,
            y = this._bufferLength,
            _ = (g / 536870912) | 0,
            C = g << 3,
            P = g % 64 < 56 ? 64 : 128;
          this._buffer[y] = 128;
          for (var O = y + 1; O < P - 8; O++) this._buffer[O] = 0;
          e.writeUint32BE(_, this._buffer, P - 8),
            e.writeUint32BE(C, this._buffer, P - 4),
            a(this._temp, this._state, this._buffer, 0, P),
            (this._finished = !0);
        }
        for (var O = 0; O < this.digestLength / 4; O++)
          e.writeUint32BE(this._state[O], v, O * 4);
        return this;
      }),
      (f.prototype.digest = function () {
        var v = new Uint8Array(this.digestLength);
        return this.finish(v), v;
      }),
      (f.prototype.saveState = function () {
        if (this._finished)
          throw new Error("SHA256: cannot save finished state");
        return {
          state: new Int32Array(this._state),
          buffer:
            this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0,
          bufferLength: this._bufferLength,
          bytesHashed: this._bytesHashed,
        };
      }),
      (f.prototype.restoreState = function (v) {
        return (
          this._state.set(v.state),
          (this._bufferLength = v.bufferLength),
          v.buffer && this._buffer.set(v.buffer),
          (this._bytesHashed = v.bytesHashed),
          (this._finished = !1),
          this
        );
      }),
      (f.prototype.cleanSavedState = function (v) {
        t.wipe(v.state),
          v.buffer && t.wipe(v.buffer),
          (v.bufferLength = 0),
          (v.bytesHashed = 0);
      }),
      f
    );
  })();
  r.SHA256 = i;
  var n = new Int32Array([
    1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
    2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
    1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
    2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
    1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
    3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
    1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
    2428436474, 2756734187, 3204031479, 3329325298,
  ]);
  function a(f, v, g, y, _) {
    for (; _ >= 64; ) {
      for (
        var C = v[0],
          P = v[1],
          O = v[2],
          H = v[3],
          G = v[4],
          Q = v[5],
          z = v[6],
          Y = v[7],
          q = 0;
        q < 16;
        q++
      ) {
        var k = y + q * 4;
        f[q] = e.readUint32BE(g, k);
      }
      for (var q = 16; q < 64; q++) {
        var V = f[q - 2],
          A =
            ((V >>> 17) | (V << (32 - 17))) ^
            ((V >>> 19) | (V << (32 - 19))) ^
            (V >>> 10);
        V = f[q - 15];
        var F =
          ((V >>> 7) | (V << (32 - 7))) ^
          ((V >>> 18) | (V << (32 - 18))) ^
          (V >>> 3);
        f[q] = ((A + f[q - 7]) | 0) + ((F + f[q - 16]) | 0);
      }
      for (var q = 0; q < 64; q++) {
        var A =
            ((((((G >>> 6) | (G << 26)) ^
              ((G >>> 11) | (G << 21)) ^
              ((G >>> 25) | (G << 7))) +
              ((G & Q) ^ (~G & z))) |
              0) +
              ((Y + ((n[q] + f[q]) | 0)) | 0)) |
            0,
          F =
            ((((C >>> 2) | (C << (32 - 2))) ^
              ((C >>> 13) | (C << (32 - 13))) ^
              ((C >>> 22) | (C << (32 - 22)))) +
              ((C & P) ^ (C & O) ^ (P & O))) |
            0;
        (Y = z),
          (z = Q),
          (Q = G),
          (G = (H + A) | 0),
          (H = O),
          (O = P),
          (P = C),
          (C = (A + F) | 0);
      }
      (v[0] += C),
        (v[1] += P),
        (v[2] += O),
        (v[3] += H),
        (v[4] += G),
        (v[5] += Q),
        (v[6] += z),
        (v[7] += Y),
        (y += 64),
        (_ -= 64);
    }
    return y;
  }
  function h(f) {
    var v = new i();
    v.update(f);
    var g = v.digest();
    return v.clean(), g;
  }
  r.hash = h;
})(Ec);
var C0 = {};
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 }),
    (r.sharedKey =
      r.generateKeyPair =
      r.generateKeyPairFromSeed =
      r.scalarMultBase =
      r.scalarMult =
      r.SHARED_KEY_LENGTH =
      r.SECRET_KEY_LENGTH =
      r.PUBLIC_KEY_LENGTH =
        void 0);
  const e = zs,
    t = xi;
  (r.PUBLIC_KEY_LENGTH = 32),
    (r.SECRET_KEY_LENGTH = 32),
    (r.SHARED_KEY_LENGTH = 32);
  function i(q) {
    const k = new Float64Array(16);
    if (q) for (let V = 0; V < q.length; V++) k[V] = q[V];
    return k;
  }
  const n = new Uint8Array(32);
  n[0] = 9;
  const a = i([56129, 1]);
  function h(q) {
    let k = 1;
    for (let V = 0; V < 16; V++) {
      let A = q[V] + k + 65535;
      (k = Math.floor(A / 65536)), (q[V] = A - k * 65536);
    }
    q[0] += k - 1 + 37 * (k - 1);
  }
  function f(q, k, V) {
    const A = ~(V - 1);
    for (let F = 0; F < 16; F++) {
      const ae = A & (q[F] ^ k[F]);
      (q[F] ^= ae), (k[F] ^= ae);
    }
  }
  function v(q, k) {
    const V = i(),
      A = i();
    for (let F = 0; F < 16; F++) A[F] = k[F];
    h(A), h(A), h(A);
    for (let F = 0; F < 2; F++) {
      V[0] = A[0] - 65517;
      for (let de = 1; de < 15; de++)
        (V[de] = A[de] - 65535 - ((V[de - 1] >> 16) & 1)), (V[de - 1] &= 65535);
      V[15] = A[15] - 32767 - ((V[14] >> 16) & 1);
      const ae = (V[15] >> 16) & 1;
      (V[14] &= 65535), f(A, V, 1 - ae);
    }
    for (let F = 0; F < 16; F++)
      (q[2 * F] = A[F] & 255), (q[2 * F + 1] = A[F] >> 8);
  }
  function g(q, k) {
    for (let V = 0; V < 16; V++) q[V] = k[2 * V] + (k[2 * V + 1] << 8);
    q[15] &= 32767;
  }
  function y(q, k, V) {
    for (let A = 0; A < 16; A++) q[A] = k[A] + V[A];
  }
  function _(q, k, V) {
    for (let A = 0; A < 16; A++) q[A] = k[A] - V[A];
  }
  function C(q, k, V) {
    let A,
      F,
      ae = 0,
      de = 0,
      U = 0,
      m = 0,
      c = 0,
      l = 0,
      b = 0,
      x = 0,
      M = 0,
      D = 0,
      S = 0,
      d = 0,
      p = 0,
      R = 0,
      Z = 0,
      se = 0,
      I = 0,
      ee = 0,
      B = 0,
      j = 0,
      K = 0,
      w = 0,
      $ = 0,
      ne = 0,
      ce = 0,
      fe = 0,
      ye = 0,
      we = 0,
      Ne = 0,
      Qe = 0,
      Pe = 0,
      Re = V[0],
      Me = V[1],
      me = V[2],
      Ce = V[3],
      Te = V[4],
      ve = V[5],
      Oe = V[6],
      Se = V[7],
      be = V[8],
      qe = V[9],
      Ie = V[10],
      _e = V[11],
      He = V[12],
      Ve = V[13],
      Ee = V[14],
      Ke = V[15];
    (A = k[0]),
      (ae += A * Re),
      (de += A * Me),
      (U += A * me),
      (m += A * Ce),
      (c += A * Te),
      (l += A * ve),
      (b += A * Oe),
      (x += A * Se),
      (M += A * be),
      (D += A * qe),
      (S += A * Ie),
      (d += A * _e),
      (p += A * He),
      (R += A * Ve),
      (Z += A * Ee),
      (se += A * Ke),
      (A = k[1]),
      (de += A * Re),
      (U += A * Me),
      (m += A * me),
      (c += A * Ce),
      (l += A * Te),
      (b += A * ve),
      (x += A * Oe),
      (M += A * Se),
      (D += A * be),
      (S += A * qe),
      (d += A * Ie),
      (p += A * _e),
      (R += A * He),
      (Z += A * Ve),
      (se += A * Ee),
      (I += A * Ke),
      (A = k[2]),
      (U += A * Re),
      (m += A * Me),
      (c += A * me),
      (l += A * Ce),
      (b += A * Te),
      (x += A * ve),
      (M += A * Oe),
      (D += A * Se),
      (S += A * be),
      (d += A * qe),
      (p += A * Ie),
      (R += A * _e),
      (Z += A * He),
      (se += A * Ve),
      (I += A * Ee),
      (ee += A * Ke),
      (A = k[3]),
      (m += A * Re),
      (c += A * Me),
      (l += A * me),
      (b += A * Ce),
      (x += A * Te),
      (M += A * ve),
      (D += A * Oe),
      (S += A * Se),
      (d += A * be),
      (p += A * qe),
      (R += A * Ie),
      (Z += A * _e),
      (se += A * He),
      (I += A * Ve),
      (ee += A * Ee),
      (B += A * Ke),
      (A = k[4]),
      (c += A * Re),
      (l += A * Me),
      (b += A * me),
      (x += A * Ce),
      (M += A * Te),
      (D += A * ve),
      (S += A * Oe),
      (d += A * Se),
      (p += A * be),
      (R += A * qe),
      (Z += A * Ie),
      (se += A * _e),
      (I += A * He),
      (ee += A * Ve),
      (B += A * Ee),
      (j += A * Ke),
      (A = k[5]),
      (l += A * Re),
      (b += A * Me),
      (x += A * me),
      (M += A * Ce),
      (D += A * Te),
      (S += A * ve),
      (d += A * Oe),
      (p += A * Se),
      (R += A * be),
      (Z += A * qe),
      (se += A * Ie),
      (I += A * _e),
      (ee += A * He),
      (B += A * Ve),
      (j += A * Ee),
      (K += A * Ke),
      (A = k[6]),
      (b += A * Re),
      (x += A * Me),
      (M += A * me),
      (D += A * Ce),
      (S += A * Te),
      (d += A * ve),
      (p += A * Oe),
      (R += A * Se),
      (Z += A * be),
      (se += A * qe),
      (I += A * Ie),
      (ee += A * _e),
      (B += A * He),
      (j += A * Ve),
      (K += A * Ee),
      (w += A * Ke),
      (A = k[7]),
      (x += A * Re),
      (M += A * Me),
      (D += A * me),
      (S += A * Ce),
      (d += A * Te),
      (p += A * ve),
      (R += A * Oe),
      (Z += A * Se),
      (se += A * be),
      (I += A * qe),
      (ee += A * Ie),
      (B += A * _e),
      (j += A * He),
      (K += A * Ve),
      (w += A * Ee),
      ($ += A * Ke),
      (A = k[8]),
      (M += A * Re),
      (D += A * Me),
      (S += A * me),
      (d += A * Ce),
      (p += A * Te),
      (R += A * ve),
      (Z += A * Oe),
      (se += A * Se),
      (I += A * be),
      (ee += A * qe),
      (B += A * Ie),
      (j += A * _e),
      (K += A * He),
      (w += A * Ve),
      ($ += A * Ee),
      (ne += A * Ke),
      (A = k[9]),
      (D += A * Re),
      (S += A * Me),
      (d += A * me),
      (p += A * Ce),
      (R += A * Te),
      (Z += A * ve),
      (se += A * Oe),
      (I += A * Se),
      (ee += A * be),
      (B += A * qe),
      (j += A * Ie),
      (K += A * _e),
      (w += A * He),
      ($ += A * Ve),
      (ne += A * Ee),
      (ce += A * Ke),
      (A = k[10]),
      (S += A * Re),
      (d += A * Me),
      (p += A * me),
      (R += A * Ce),
      (Z += A * Te),
      (se += A * ve),
      (I += A * Oe),
      (ee += A * Se),
      (B += A * be),
      (j += A * qe),
      (K += A * Ie),
      (w += A * _e),
      ($ += A * He),
      (ne += A * Ve),
      (ce += A * Ee),
      (fe += A * Ke),
      (A = k[11]),
      (d += A * Re),
      (p += A * Me),
      (R += A * me),
      (Z += A * Ce),
      (se += A * Te),
      (I += A * ve),
      (ee += A * Oe),
      (B += A * Se),
      (j += A * be),
      (K += A * qe),
      (w += A * Ie),
      ($ += A * _e),
      (ne += A * He),
      (ce += A * Ve),
      (fe += A * Ee),
      (ye += A * Ke),
      (A = k[12]),
      (p += A * Re),
      (R += A * Me),
      (Z += A * me),
      (se += A * Ce),
      (I += A * Te),
      (ee += A * ve),
      (B += A * Oe),
      (j += A * Se),
      (K += A * be),
      (w += A * qe),
      ($ += A * Ie),
      (ne += A * _e),
      (ce += A * He),
      (fe += A * Ve),
      (ye += A * Ee),
      (we += A * Ke),
      (A = k[13]),
      (R += A * Re),
      (Z += A * Me),
      (se += A * me),
      (I += A * Ce),
      (ee += A * Te),
      (B += A * ve),
      (j += A * Oe),
      (K += A * Se),
      (w += A * be),
      ($ += A * qe),
      (ne += A * Ie),
      (ce += A * _e),
      (fe += A * He),
      (ye += A * Ve),
      (we += A * Ee),
      (Ne += A * Ke),
      (A = k[14]),
      (Z += A * Re),
      (se += A * Me),
      (I += A * me),
      (ee += A * Ce),
      (B += A * Te),
      (j += A * ve),
      (K += A * Oe),
      (w += A * Se),
      ($ += A * be),
      (ne += A * qe),
      (ce += A * Ie),
      (fe += A * _e),
      (ye += A * He),
      (we += A * Ve),
      (Ne += A * Ee),
      (Qe += A * Ke),
      (A = k[15]),
      (se += A * Re),
      (I += A * Me),
      (ee += A * me),
      (B += A * Ce),
      (j += A * Te),
      (K += A * ve),
      (w += A * Oe),
      ($ += A * Se),
      (ne += A * be),
      (ce += A * qe),
      (fe += A * Ie),
      (ye += A * _e),
      (we += A * He),
      (Ne += A * Ve),
      (Qe += A * Ee),
      (Pe += A * Ke),
      (ae += 38 * I),
      (de += 38 * ee),
      (U += 38 * B),
      (m += 38 * j),
      (c += 38 * K),
      (l += 38 * w),
      (b += 38 * $),
      (x += 38 * ne),
      (M += 38 * ce),
      (D += 38 * fe),
      (S += 38 * ye),
      (d += 38 * we),
      (p += 38 * Ne),
      (R += 38 * Qe),
      (Z += 38 * Pe),
      (F = 1),
      (A = ae + F + 65535),
      (F = Math.floor(A / 65536)),
      (ae = A - F * 65536),
      (A = de + F + 65535),
      (F = Math.floor(A / 65536)),
      (de = A - F * 65536),
      (A = U + F + 65535),
      (F = Math.floor(A / 65536)),
      (U = A - F * 65536),
      (A = m + F + 65535),
      (F = Math.floor(A / 65536)),
      (m = A - F * 65536),
      (A = c + F + 65535),
      (F = Math.floor(A / 65536)),
      (c = A - F * 65536),
      (A = l + F + 65535),
      (F = Math.floor(A / 65536)),
      (l = A - F * 65536),
      (A = b + F + 65535),
      (F = Math.floor(A / 65536)),
      (b = A - F * 65536),
      (A = x + F + 65535),
      (F = Math.floor(A / 65536)),
      (x = A - F * 65536),
      (A = M + F + 65535),
      (F = Math.floor(A / 65536)),
      (M = A - F * 65536),
      (A = D + F + 65535),
      (F = Math.floor(A / 65536)),
      (D = A - F * 65536),
      (A = S + F + 65535),
      (F = Math.floor(A / 65536)),
      (S = A - F * 65536),
      (A = d + F + 65535),
      (F = Math.floor(A / 65536)),
      (d = A - F * 65536),
      (A = p + F + 65535),
      (F = Math.floor(A / 65536)),
      (p = A - F * 65536),
      (A = R + F + 65535),
      (F = Math.floor(A / 65536)),
      (R = A - F * 65536),
      (A = Z + F + 65535),
      (F = Math.floor(A / 65536)),
      (Z = A - F * 65536),
      (A = se + F + 65535),
      (F = Math.floor(A / 65536)),
      (se = A - F * 65536),
      (ae += F - 1 + 37 * (F - 1)),
      (F = 1),
      (A = ae + F + 65535),
      (F = Math.floor(A / 65536)),
      (ae = A - F * 65536),
      (A = de + F + 65535),
      (F = Math.floor(A / 65536)),
      (de = A - F * 65536),
      (A = U + F + 65535),
      (F = Math.floor(A / 65536)),
      (U = A - F * 65536),
      (A = m + F + 65535),
      (F = Math.floor(A / 65536)),
      (m = A - F * 65536),
      (A = c + F + 65535),
      (F = Math.floor(A / 65536)),
      (c = A - F * 65536),
      (A = l + F + 65535),
      (F = Math.floor(A / 65536)),
      (l = A - F * 65536),
      (A = b + F + 65535),
      (F = Math.floor(A / 65536)),
      (b = A - F * 65536),
      (A = x + F + 65535),
      (F = Math.floor(A / 65536)),
      (x = A - F * 65536),
      (A = M + F + 65535),
      (F = Math.floor(A / 65536)),
      (M = A - F * 65536),
      (A = D + F + 65535),
      (F = Math.floor(A / 65536)),
      (D = A - F * 65536),
      (A = S + F + 65535),
      (F = Math.floor(A / 65536)),
      (S = A - F * 65536),
      (A = d + F + 65535),
      (F = Math.floor(A / 65536)),
      (d = A - F * 65536),
      (A = p + F + 65535),
      (F = Math.floor(A / 65536)),
      (p = A - F * 65536),
      (A = R + F + 65535),
      (F = Math.floor(A / 65536)),
      (R = A - F * 65536),
      (A = Z + F + 65535),
      (F = Math.floor(A / 65536)),
      (Z = A - F * 65536),
      (A = se + F + 65535),
      (F = Math.floor(A / 65536)),
      (se = A - F * 65536),
      (ae += F - 1 + 37 * (F - 1)),
      (q[0] = ae),
      (q[1] = de),
      (q[2] = U),
      (q[3] = m),
      (q[4] = c),
      (q[5] = l),
      (q[6] = b),
      (q[7] = x),
      (q[8] = M),
      (q[9] = D),
      (q[10] = S),
      (q[11] = d),
      (q[12] = p),
      (q[13] = R),
      (q[14] = Z),
      (q[15] = se);
  }
  function P(q, k) {
    C(q, k, k);
  }
  function O(q, k) {
    const V = i();
    for (let A = 0; A < 16; A++) V[A] = k[A];
    for (let A = 253; A >= 0; A--) P(V, V), A !== 2 && A !== 4 && C(V, V, k);
    for (let A = 0; A < 16; A++) q[A] = V[A];
  }
  function H(q, k) {
    const V = new Uint8Array(32),
      A = new Float64Array(80),
      F = i(),
      ae = i(),
      de = i(),
      U = i(),
      m = i(),
      c = i();
    for (let M = 0; M < 31; M++) V[M] = q[M];
    (V[31] = (q[31] & 127) | 64), (V[0] &= 248), g(A, k);
    for (let M = 0; M < 16; M++) ae[M] = A[M];
    F[0] = U[0] = 1;
    for (let M = 254; M >= 0; --M) {
      const D = (V[M >>> 3] >>> (M & 7)) & 1;
      f(F, ae, D),
        f(de, U, D),
        y(m, F, de),
        _(F, F, de),
        y(de, ae, U),
        _(ae, ae, U),
        P(U, m),
        P(c, F),
        C(F, de, F),
        C(de, ae, m),
        y(m, F, de),
        _(F, F, de),
        P(ae, F),
        _(de, U, c),
        C(F, de, a),
        y(F, F, U),
        C(de, de, F),
        C(F, U, c),
        C(U, ae, A),
        P(ae, m),
        f(F, ae, D),
        f(de, U, D);
    }
    for (let M = 0; M < 16; M++)
      (A[M + 16] = F[M]),
        (A[M + 32] = de[M]),
        (A[M + 48] = ae[M]),
        (A[M + 64] = U[M]);
    const l = A.subarray(32),
      b = A.subarray(16);
    O(l, l), C(b, b, l);
    const x = new Uint8Array(32);
    return v(x, b), x;
  }
  r.scalarMult = H;
  function G(q) {
    return H(q, n);
  }
  r.scalarMultBase = G;
  function Q(q) {
    if (q.length !== r.SECRET_KEY_LENGTH)
      throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);
    const k = new Uint8Array(q);
    return { publicKey: G(k), secretKey: k };
  }
  r.generateKeyPairFromSeed = Q;
  function z(q) {
    const k = (0, e.randomBytes)(32, q),
      V = Q(k);
    return (0, t.wipe)(k), V;
  }
  r.generateKeyPair = z;
  function Y(q, k, V = !1) {
    if (q.length !== r.PUBLIC_KEY_LENGTH)
      throw new Error("X25519: incorrect secret key length");
    if (k.length !== r.PUBLIC_KEY_LENGTH)
      throw new Error("X25519: incorrect public key length");
    const A = H(q, k);
    if (V) {
      let F = 0;
      for (let ae = 0; ae < A.length; ae++) F |= A[ae];
      if (F === 0) throw new Error("X25519: invalid shared key");
    }
    return A;
  }
  r.sharedKey = Y;
})(C0);
function eb(r = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null
    ? globalThis.Buffer.allocUnsafe(r)
    : new Uint8Array(r);
}
function Qh(r, e) {
  e || (e = r.reduce((n, a) => n + a.length, 0));
  const t = eb(e);
  let i = 0;
  for (const n of r) t.set(n, i), (i += n.length);
  return t;
}
function $_(r, e) {
  if (r.length >= 255) throw new TypeError("Alphabet too long");
  for (var t = new Uint8Array(256), i = 0; i < t.length; i++) t[i] = 255;
  for (var n = 0; n < r.length; n++) {
    var a = r.charAt(n),
      h = a.charCodeAt(0);
    if (t[h] !== 255) throw new TypeError(a + " is ambiguous");
    t[h] = n;
  }
  var f = r.length,
    v = r.charAt(0),
    g = Math.log(f) / Math.log(256),
    y = Math.log(256) / Math.log(f);
  function _(O) {
    if (
      (O instanceof Uint8Array ||
        (ArrayBuffer.isView(O)
          ? (O = new Uint8Array(O.buffer, O.byteOffset, O.byteLength))
          : Array.isArray(O) && (O = Uint8Array.from(O))),
      !(O instanceof Uint8Array))
    )
      throw new TypeError("Expected Uint8Array");
    if (O.length === 0) return "";
    for (var H = 0, G = 0, Q = 0, z = O.length; Q !== z && O[Q] === 0; )
      Q++, H++;
    for (var Y = ((z - Q) * y + 1) >>> 0, q = new Uint8Array(Y); Q !== z; ) {
      for (
        var k = O[Q], V = 0, A = Y - 1;
        (k !== 0 || V < G) && A !== -1;
        A--, V++
      )
        (k += (256 * q[A]) >>> 0), (q[A] = k % f >>> 0), (k = (k / f) >>> 0);
      if (k !== 0) throw new Error("Non-zero carry");
      (G = V), Q++;
    }
    for (var F = Y - G; F !== Y && q[F] === 0; ) F++;
    for (var ae = v.repeat(H); F < Y; ++F) ae += r.charAt(q[F]);
    return ae;
  }
  function C(O) {
    if (typeof O != "string") throw new TypeError("Expected String");
    if (O.length === 0) return new Uint8Array();
    var H = 0;
    if (O[H] !== " ") {
      for (var G = 0, Q = 0; O[H] === v; ) G++, H++;
      for (
        var z = ((O.length - H) * g + 1) >>> 0, Y = new Uint8Array(z);
        O[H];

      ) {
        var q = t[O.charCodeAt(H)];
        if (q === 255) return;
        for (var k = 0, V = z - 1; (q !== 0 || k < Q) && V !== -1; V--, k++)
          (q += (f * Y[V]) >>> 0),
            (Y[V] = q % 256 >>> 0),
            (q = (q / 256) >>> 0);
        if (q !== 0) throw new Error("Non-zero carry");
        (Q = k), H++;
      }
      if (O[H] !== " ") {
        for (var A = z - Q; A !== z && Y[A] === 0; ) A++;
        for (var F = new Uint8Array(G + (z - A)), ae = G; A !== z; )
          F[ae++] = Y[A++];
        return F;
      }
    }
  }
  function P(O) {
    var H = C(O);
    if (H) return H;
    throw new Error(`Non-${e} character`);
  }
  return { encode: _, decodeUnsafe: C, decode: P };
}
var z_ = $_,
  k_ = z_;
const j_ = (r) => {
    if (r instanceof Uint8Array && r.constructor.name === "Uint8Array")
      return r;
    if (r instanceof ArrayBuffer) return new Uint8Array(r);
    if (ArrayBuffer.isView(r))
      return new Uint8Array(r.buffer, r.byteOffset, r.byteLength);
    throw new Error("Unknown type, must be binary type");
  },
  H_ = (r) => new TextEncoder().encode(r),
  K_ = (r) => new TextDecoder().decode(r);
class V_ {
  constructor(e, t, i) {
    (this.name = e), (this.prefix = t), (this.baseEncode = i);
  }
  encode(e) {
    if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`;
    throw Error("Unknown type, must be binary type");
  }
}
class G_ {
  constructor(e, t, i) {
    if (((this.name = e), (this.prefix = t), t.codePointAt(0) === void 0))
      throw new Error("Invalid prefix character");
    (this.prefixCodePoint = t.codePointAt(0)), (this.baseDecode = i);
  }
  decode(e) {
    if (typeof e == "string") {
      if (e.codePointAt(0) !== this.prefixCodePoint)
        throw Error(
          `Unable to decode multibase string ${JSON.stringify(e)}, ${
            this.name
          } decoder only supports inputs prefixed with ${this.prefix}`
        );
      return this.baseDecode(e.slice(this.prefix.length));
    } else throw Error("Can only multibase decode strings");
  }
  or(e) {
    return tb(this, e);
  }
}
class W_ {
  constructor(e) {
    this.decoders = e;
  }
  or(e) {
    return tb(this, e);
  }
  decode(e) {
    const t = e[0],
      i = this.decoders[t];
    if (i) return i.decode(e);
    throw RangeError(
      `Unable to decode multibase string ${JSON.stringify(
        e
      )}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`
    );
  }
}
const tb = (r, e) =>
  new W_({
    ...(r.decoders || { [r.prefix]: r }),
    ...(e.decoders || { [e.prefix]: e }),
  });
class J_ {
  constructor(e, t, i, n) {
    (this.name = e),
      (this.prefix = t),
      (this.baseEncode = i),
      (this.baseDecode = n),
      (this.encoder = new V_(e, t, i)),
      (this.decoder = new G_(e, t, n));
  }
  encode(e) {
    return this.encoder.encode(e);
  }
  decode(e) {
    return this.decoder.decode(e);
  }
}
const Nf = ({ name: r, prefix: e, encode: t, decode: i }) => new J_(r, e, t, i),
  xc = ({ prefix: r, name: e, alphabet: t }) => {
    const { encode: i, decode: n } = k_(t, e);
    return Nf({ prefix: r, name: e, encode: i, decode: (a) => j_(n(a)) });
  },
  Y_ = (r, e, t, i) => {
    const n = {};
    for (let y = 0; y < e.length; ++y) n[e[y]] = y;
    let a = r.length;
    for (; r[a - 1] === "="; ) --a;
    const h = new Uint8Array(((a * t) / 8) | 0);
    let f = 0,
      v = 0,
      g = 0;
    for (let y = 0; y < a; ++y) {
      const _ = n[r[y]];
      if (_ === void 0) throw new SyntaxError(`Non-${i} character`);
      (v = (v << t) | _),
        (f += t),
        f >= 8 && ((f -= 8), (h[g++] = 255 & (v >> f)));
    }
    if (f >= t || 255 & (v << (8 - f)))
      throw new SyntaxError("Unexpected end of data");
    return h;
  },
  Q_ = (r, e, t) => {
    const i = e[e.length - 1] === "=",
      n = (1 << t) - 1;
    let a = "",
      h = 0,
      f = 0;
    for (let v = 0; v < r.length; ++v)
      for (f = (f << 8) | r[v], h += 8; h > t; )
        (h -= t), (a += e[n & (f >> h)]);
    if ((h && (a += e[n & (f << (t - h))]), i))
      for (; (a.length * t) & 7; ) a += "=";
    return a;
  },
  Cr = ({ name: r, prefix: e, bitsPerChar: t, alphabet: i }) =>
    Nf({
      prefix: e,
      name: r,
      encode(n) {
        return Q_(n, i, t);
      },
      decode(n) {
        return Y_(n, i, t, r);
      },
    }),
  X_ = Nf({
    prefix: "\0",
    name: "identity",
    encode: (r) => K_(r),
    decode: (r) => H_(r),
  }),
  Z_ = Object.freeze(
    Object.defineProperty(
      { __proto__: null, identity: X_ },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  e7 = Cr({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 }),
  t7 = Object.freeze(
    Object.defineProperty({ __proto__: null, base2: e7 }, Symbol.toStringTag, {
      value: "Module",
    })
  ),
  r7 = Cr({ prefix: "7", name: "base8", alphabet: "01234567", bitsPerChar: 3 }),
  i7 = Object.freeze(
    Object.defineProperty({ __proto__: null, base8: r7 }, Symbol.toStringTag, {
      value: "Module",
    })
  ),
  n7 = xc({ prefix: "9", name: "base10", alphabet: "0123456789" }),
  s7 = Object.freeze(
    Object.defineProperty({ __proto__: null, base10: n7 }, Symbol.toStringTag, {
      value: "Module",
    })
  ),
  a7 = Cr({
    prefix: "f",
    name: "base16",
    alphabet: "0123456789abcdef",
    bitsPerChar: 4,
  }),
  o7 = Cr({
    prefix: "F",
    name: "base16upper",
    alphabet: "0123456789ABCDEF",
    bitsPerChar: 4,
  }),
  c7 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base16: a7, base16upper: o7 },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  h7 = Cr({
    prefix: "b",
    name: "base32",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567",
    bitsPerChar: 5,
  }),
  f7 = Cr({
    prefix: "B",
    name: "base32upper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",
    bitsPerChar: 5,
  }),
  u7 = Cr({
    prefix: "c",
    name: "base32pad",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567=",
    bitsPerChar: 5,
  }),
  l7 = Cr({
    prefix: "C",
    name: "base32padupper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",
    bitsPerChar: 5,
  }),
  d7 = Cr({
    prefix: "v",
    name: "base32hex",
    alphabet: "0123456789abcdefghijklmnopqrstuv",
    bitsPerChar: 5,
  }),
  p7 = Cr({
    prefix: "V",
    name: "base32hexupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV",
    bitsPerChar: 5,
  }),
  g7 = Cr({
    prefix: "t",
    name: "base32hexpad",
    alphabet: "0123456789abcdefghijklmnopqrstuv=",
    bitsPerChar: 5,
  }),
  v7 = Cr({
    prefix: "T",
    name: "base32hexpadupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=",
    bitsPerChar: 5,
  }),
  b7 = Cr({
    prefix: "h",
    name: "base32z",
    alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769",
    bitsPerChar: 5,
  }),
  m7 = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        base32: h7,
        base32hex: d7,
        base32hexpad: g7,
        base32hexpadupper: v7,
        base32hexupper: p7,
        base32pad: u7,
        base32padupper: l7,
        base32upper: f7,
        base32z: b7,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  y7 = xc({
    prefix: "k",
    name: "base36",
    alphabet: "0123456789abcdefghijklmnopqrstuvwxyz",
  }),
  w7 = xc({
    prefix: "K",
    name: "base36upper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",
  }),
  _7 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base36: y7, base36upper: w7 },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  A7 = xc({
    name: "base58btc",
    prefix: "z",
    alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",
  }),
  E7 = xc({
    name: "base58flickr",
    prefix: "Z",
    alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",
  }),
  x7 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base58btc: A7, base58flickr: E7 },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  S7 = Cr({
    prefix: "m",
    name: "base64",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
    bitsPerChar: 6,
  }),
  M7 = Cr({
    prefix: "M",
    name: "base64pad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    bitsPerChar: 6,
  }),
  I7 = Cr({
    prefix: "u",
    name: "base64url",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
    bitsPerChar: 6,
  }),
  D7 = Cr({
    prefix: "U",
    name: "base64urlpad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",
    bitsPerChar: 6,
  }),
  P7 = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        base64: S7,
        base64pad: M7,
        base64url: I7,
        base64urlpad: D7,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  rb = Array.from(
    "🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"
  ),
  C7 = rb.reduce((r, e, t) => ((r[t] = e), r), []),
  O7 = rb.reduce((r, e, t) => ((r[e.codePointAt(0)] = t), r), []);
function N7(r) {
  return r.reduce((e, t) => ((e += C7[t]), e), "");
}
function R7(r) {
  const e = [];
  for (const t of r) {
    const i = O7[t.codePointAt(0)];
    if (i === void 0) throw new Error(`Non-base256emoji character: ${t}`);
    e.push(i);
  }
  return new Uint8Array(e);
}
const T7 = Nf({ prefix: "🚀", name: "base256emoji", encode: N7, decode: R7 }),
  F7 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base256emoji: T7 },
      Symbol.toStringTag,
      { value: "Module" }
    )
  );
new TextEncoder();
new TextDecoder();
const E1 = {
  ...Z_,
  ...t7,
  ...i7,
  ...s7,
  ...c7,
  ...m7,
  ..._7,
  ...x7,
  ...P7,
  ...F7,
};
function ib(r, e, t, i) {
  return {
    name: r,
    prefix: e,
    encoder: { name: r, prefix: e, encode: t },
    decoder: { decode: i },
  };
}
const x1 = ib(
    "utf8",
    "u",
    (r) => "u" + new TextDecoder("utf8").decode(r),
    (r) => new TextEncoder().encode(r.substring(1))
  ),
  ul = ib(
    "ascii",
    "a",
    (r) => {
      let e = "a";
      for (let t = 0; t < r.length; t++) e += String.fromCharCode(r[t]);
      return e;
    },
    (r) => {
      r = r.substring(1);
      const e = eb(r.length);
      for (let t = 0; t < r.length; t++) e[t] = r.charCodeAt(t);
      return e;
    }
  ),
  nb = {
    utf8: x1,
    "utf-8": x1,
    hex: E1.base16,
    latin1: ul,
    ascii: ul,
    binary: ul,
    ...E1,
  };
function Ar(r, e = "utf8") {
  const t = nb[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r, "utf8")
    : t.decoder.decode(`${t.prefix}${r}`);
}
function Er(r, e = "utf8") {
  const t = nb[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r.buffer, r.byteOffset, r.byteLength).toString(
        "utf8"
      )
    : t.encoder.encode(r).substring(1);
}
var sb = {};
const B7 = "elliptic",
  L7 = "6.5.7",
  q7 = "EC cryptography",
  U7 = "lib/elliptic.js",
  $7 = ["lib"],
  z7 = {
    lint: "eslint lib test",
    "lint:fix": "npm run lint -- --fix",
    unit: "istanbul test _mocha --reporter=spec test/index.js",
    test: "npm run lint && npm run unit",
    version: "grunt dist && git add dist/",
  },
  k7 = { type: "git", url: "git@github.com:indutny/elliptic" },
  j7 = ["EC", "Elliptic", "curve", "Cryptography"],
  H7 = "Fedor Indutny <fedor@indutny.com>",
  K7 = "MIT",
  V7 = { url: "https://github.com/indutny/elliptic/issues" },
  G7 = "https://github.com/indutny/elliptic",
  W7 = {
    brfs: "^2.0.2",
    coveralls: "^3.1.0",
    eslint: "^7.6.0",
    grunt: "^1.2.1",
    "grunt-browserify": "^5.3.0",
    "grunt-cli": "^1.3.2",
    "grunt-contrib-connect": "^3.0.0",
    "grunt-contrib-copy": "^1.0.0",
    "grunt-contrib-uglify": "^5.0.0",
    "grunt-mocha-istanbul": "^5.0.2",
    "grunt-saucelabs": "^9.0.1",
    istanbul: "^0.4.5",
    mocha: "^8.0.1",
  },
  J7 = {
    "bn.js": "^4.11.9",
    brorand: "^1.1.0",
    "hash.js": "^1.0.0",
    "hmac-drbg": "^1.0.1",
    inherits: "^2.0.4",
    "minimalistic-assert": "^1.0.1",
    "minimalistic-crypto-utils": "^1.0.1",
  },
  Y7 = {
    name: B7,
    version: L7,
    description: q7,
    main: U7,
    files: $7,
    scripts: z7,
    repository: k7,
    keywords: j7,
    author: H7,
    license: K7,
    bugs: V7,
    homepage: G7,
    devDependencies: W7,
    dependencies: J7,
  };
var Si = {},
  O0 = { exports: {} };
O0.exports;
(function (r) {
  (function (e, t) {
    function i(U, m) {
      if (!U) throw new Error(m || "Assertion failed");
    }
    function n(U, m) {
      U.super_ = m;
      var c = function () {};
      (c.prototype = m.prototype),
        (U.prototype = new c()),
        (U.prototype.constructor = U);
    }
    function a(U, m, c) {
      if (a.isBN(U)) return U;
      (this.negative = 0),
        (this.words = null),
        (this.length = 0),
        (this.red = null),
        U !== null &&
          ((m === "le" || m === "be") && ((c = m), (m = 10)),
          this._init(U || 0, m || 10, c || "be"));
    }
    typeof e == "object" ? (e.exports = a) : (t.BN = a),
      (a.BN = a),
      (a.wordSize = 26);
    var h;
    try {
      typeof window < "u" && typeof window.Buffer < "u"
        ? (h = window.Buffer)
        : (h = S0.Buffer);
    } catch {}
    (a.isBN = function (m) {
      return m instanceof a
        ? !0
        : m !== null &&
            typeof m == "object" &&
            m.constructor.wordSize === a.wordSize &&
            Array.isArray(m.words);
    }),
      (a.max = function (m, c) {
        return m.cmp(c) > 0 ? m : c;
      }),
      (a.min = function (m, c) {
        return m.cmp(c) < 0 ? m : c;
      }),
      (a.prototype._init = function (m, c, l) {
        if (typeof m == "number") return this._initNumber(m, c, l);
        if (typeof m == "object") return this._initArray(m, c, l);
        c === "hex" && (c = 16),
          i(c === (c | 0) && c >= 2 && c <= 36),
          (m = m.toString().replace(/\s+/g, ""));
        var b = 0;
        m[0] === "-" && (b++, (this.negative = 1)),
          b < m.length &&
            (c === 16
              ? this._parseHex(m, b, l)
              : (this._parseBase(m, c, b),
                l === "le" && this._initArray(this.toArray(), c, l)));
      }),
      (a.prototype._initNumber = function (m, c, l) {
        m < 0 && ((this.negative = 1), (m = -m)),
          m < 67108864
            ? ((this.words = [m & 67108863]), (this.length = 1))
            : m < 4503599627370496
            ? ((this.words = [m & 67108863, (m / 67108864) & 67108863]),
              (this.length = 2))
            : (i(m < 9007199254740992),
              (this.words = [m & 67108863, (m / 67108864) & 67108863, 1]),
              (this.length = 3)),
          l === "le" && this._initArray(this.toArray(), c, l);
      }),
      (a.prototype._initArray = function (m, c, l) {
        if ((i(typeof m.length == "number"), m.length <= 0))
          return (this.words = [0]), (this.length = 1), this;
        (this.length = Math.ceil(m.length / 3)),
          (this.words = new Array(this.length));
        for (var b = 0; b < this.length; b++) this.words[b] = 0;
        var x,
          M,
          D = 0;
        if (l === "be")
          for (b = m.length - 1, x = 0; b >= 0; b -= 3)
            (M = m[b] | (m[b - 1] << 8) | (m[b - 2] << 16)),
              (this.words[x] |= (M << D) & 67108863),
              (this.words[x + 1] = (M >>> (26 - D)) & 67108863),
              (D += 24),
              D >= 26 && ((D -= 26), x++);
        else if (l === "le")
          for (b = 0, x = 0; b < m.length; b += 3)
            (M = m[b] | (m[b + 1] << 8) | (m[b + 2] << 16)),
              (this.words[x] |= (M << D) & 67108863),
              (this.words[x + 1] = (M >>> (26 - D)) & 67108863),
              (D += 24),
              D >= 26 && ((D -= 26), x++);
        return this.strip();
      });
    function f(U, m) {
      var c = U.charCodeAt(m);
      return c >= 65 && c <= 70
        ? c - 55
        : c >= 97 && c <= 102
        ? c - 87
        : (c - 48) & 15;
    }
    function v(U, m, c) {
      var l = f(U, c);
      return c - 1 >= m && (l |= f(U, c - 1) << 4), l;
    }
    a.prototype._parseHex = function (m, c, l) {
      (this.length = Math.ceil((m.length - c) / 6)),
        (this.words = new Array(this.length));
      for (var b = 0; b < this.length; b++) this.words[b] = 0;
      var x = 0,
        M = 0,
        D;
      if (l === "be")
        for (b = m.length - 1; b >= c; b -= 2)
          (D = v(m, c, b) << x),
            (this.words[M] |= D & 67108863),
            x >= 18
              ? ((x -= 18), (M += 1), (this.words[M] |= D >>> 26))
              : (x += 8);
      else {
        var S = m.length - c;
        for (b = S % 2 === 0 ? c + 1 : c; b < m.length; b += 2)
          (D = v(m, c, b) << x),
            (this.words[M] |= D & 67108863),
            x >= 18
              ? ((x -= 18), (M += 1), (this.words[M] |= D >>> 26))
              : (x += 8);
      }
      this.strip();
    };
    function g(U, m, c, l) {
      for (var b = 0, x = Math.min(U.length, c), M = m; M < x; M++) {
        var D = U.charCodeAt(M) - 48;
        (b *= l),
          D >= 49
            ? (b += D - 49 + 10)
            : D >= 17
            ? (b += D - 17 + 10)
            : (b += D);
      }
      return b;
    }
    (a.prototype._parseBase = function (m, c, l) {
      (this.words = [0]), (this.length = 1);
      for (var b = 0, x = 1; x <= 67108863; x *= c) b++;
      b--, (x = (x / c) | 0);
      for (
        var M = m.length - l,
          D = M % b,
          S = Math.min(M, M - D) + l,
          d = 0,
          p = l;
        p < S;
        p += b
      )
        (d = g(m, p, p + b, c)),
          this.imuln(x),
          this.words[0] + d < 67108864 ? (this.words[0] += d) : this._iaddn(d);
      if (D !== 0) {
        var R = 1;
        for (d = g(m, p, m.length, c), p = 0; p < D; p++) R *= c;
        this.imuln(R),
          this.words[0] + d < 67108864 ? (this.words[0] += d) : this._iaddn(d);
      }
      this.strip();
    }),
      (a.prototype.copy = function (m) {
        m.words = new Array(this.length);
        for (var c = 0; c < this.length; c++) m.words[c] = this.words[c];
        (m.length = this.length),
          (m.negative = this.negative),
          (m.red = this.red);
      }),
      (a.prototype.clone = function () {
        var m = new a(null);
        return this.copy(m), m;
      }),
      (a.prototype._expand = function (m) {
        for (; this.length < m; ) this.words[this.length++] = 0;
        return this;
      }),
      (a.prototype.strip = function () {
        for (; this.length > 1 && this.words[this.length - 1] === 0; )
          this.length--;
        return this._normSign();
      }),
      (a.prototype._normSign = function () {
        return (
          this.length === 1 && this.words[0] === 0 && (this.negative = 0), this
        );
      }),
      (a.prototype.inspect = function () {
        return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
      });
    var y = [
        "",
        "0",
        "00",
        "000",
        "0000",
        "00000",
        "000000",
        "0000000",
        "00000000",
        "000000000",
        "0000000000",
        "00000000000",
        "000000000000",
        "0000000000000",
        "00000000000000",
        "000000000000000",
        "0000000000000000",
        "00000000000000000",
        "000000000000000000",
        "0000000000000000000",
        "00000000000000000000",
        "000000000000000000000",
        "0000000000000000000000",
        "00000000000000000000000",
        "000000000000000000000000",
        "0000000000000000000000000",
      ],
      _ = [
        0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
      ],
      C = [
        0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607,
        16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536,
        11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101,
        5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368,
        20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875,
        60466176,
      ];
    (a.prototype.toString = function (m, c) {
      (m = m || 10), (c = c | 0 || 1);
      var l;
      if (m === 16 || m === "hex") {
        l = "";
        for (var b = 0, x = 0, M = 0; M < this.length; M++) {
          var D = this.words[M],
            S = (((D << b) | x) & 16777215).toString(16);
          (x = (D >>> (24 - b)) & 16777215),
            x !== 0 || M !== this.length - 1
              ? (l = y[6 - S.length] + S + l)
              : (l = S + l),
            (b += 2),
            b >= 26 && ((b -= 26), M--);
        }
        for (x !== 0 && (l = x.toString(16) + l); l.length % c !== 0; )
          l = "0" + l;
        return this.negative !== 0 && (l = "-" + l), l;
      }
      if (m === (m | 0) && m >= 2 && m <= 36) {
        var d = _[m],
          p = C[m];
        l = "";
        var R = this.clone();
        for (R.negative = 0; !R.isZero(); ) {
          var Z = R.modn(p).toString(m);
          (R = R.idivn(p)),
            R.isZero() ? (l = Z + l) : (l = y[d - Z.length] + Z + l);
        }
        for (this.isZero() && (l = "0" + l); l.length % c !== 0; ) l = "0" + l;
        return this.negative !== 0 && (l = "-" + l), l;
      }
      i(!1, "Base should be between 2 and 36");
    }),
      (a.prototype.toNumber = function () {
        var m = this.words[0];
        return (
          this.length === 2
            ? (m += this.words[1] * 67108864)
            : this.length === 3 && this.words[2] === 1
            ? (m += 4503599627370496 + this.words[1] * 67108864)
            : this.length > 2 &&
              i(!1, "Number can only safely store up to 53 bits"),
          this.negative !== 0 ? -m : m
        );
      }),
      (a.prototype.toJSON = function () {
        return this.toString(16);
      }),
      (a.prototype.toBuffer = function (m, c) {
        return i(typeof h < "u"), this.toArrayLike(h, m, c);
      }),
      (a.prototype.toArray = function (m, c) {
        return this.toArrayLike(Array, m, c);
      }),
      (a.prototype.toArrayLike = function (m, c, l) {
        var b = this.byteLength(),
          x = l || Math.max(1, b);
        i(b <= x, "byte array longer than desired length"),
          i(x > 0, "Requested array length <= 0"),
          this.strip();
        var M = c === "le",
          D = new m(x),
          S,
          d,
          p = this.clone();
        if (M) {
          for (d = 0; !p.isZero(); d++)
            (S = p.andln(255)), p.iushrn(8), (D[d] = S);
          for (; d < x; d++) D[d] = 0;
        } else {
          for (d = 0; d < x - b; d++) D[d] = 0;
          for (d = 0; !p.isZero(); d++)
            (S = p.andln(255)), p.iushrn(8), (D[x - d - 1] = S);
        }
        return D;
      }),
      Math.clz32
        ? (a.prototype._countBits = function (m) {
            return 32 - Math.clz32(m);
          })
        : (a.prototype._countBits = function (m) {
            var c = m,
              l = 0;
            return (
              c >= 4096 && ((l += 13), (c >>>= 13)),
              c >= 64 && ((l += 7), (c >>>= 7)),
              c >= 8 && ((l += 4), (c >>>= 4)),
              c >= 2 && ((l += 2), (c >>>= 2)),
              l + c
            );
          }),
      (a.prototype._zeroBits = function (m) {
        if (m === 0) return 26;
        var c = m,
          l = 0;
        return (
          c & 8191 || ((l += 13), (c >>>= 13)),
          c & 127 || ((l += 7), (c >>>= 7)),
          c & 15 || ((l += 4), (c >>>= 4)),
          c & 3 || ((l += 2), (c >>>= 2)),
          c & 1 || l++,
          l
        );
      }),
      (a.prototype.bitLength = function () {
        var m = this.words[this.length - 1],
          c = this._countBits(m);
        return (this.length - 1) * 26 + c;
      });
    function P(U) {
      for (var m = new Array(U.bitLength()), c = 0; c < m.length; c++) {
        var l = (c / 26) | 0,
          b = c % 26;
        m[c] = (U.words[l] & (1 << b)) >>> b;
      }
      return m;
    }
    (a.prototype.zeroBits = function () {
      if (this.isZero()) return 0;
      for (var m = 0, c = 0; c < this.length; c++) {
        var l = this._zeroBits(this.words[c]);
        if (((m += l), l !== 26)) break;
      }
      return m;
    }),
      (a.prototype.byteLength = function () {
        return Math.ceil(this.bitLength() / 8);
      }),
      (a.prototype.toTwos = function (m) {
        return this.negative !== 0
          ? this.abs().inotn(m).iaddn(1)
          : this.clone();
      }),
      (a.prototype.fromTwos = function (m) {
        return this.testn(m - 1) ? this.notn(m).iaddn(1).ineg() : this.clone();
      }),
      (a.prototype.isNeg = function () {
        return this.negative !== 0;
      }),
      (a.prototype.neg = function () {
        return this.clone().ineg();
      }),
      (a.prototype.ineg = function () {
        return this.isZero() || (this.negative ^= 1), this;
      }),
      (a.prototype.iuor = function (m) {
        for (; this.length < m.length; ) this.words[this.length++] = 0;
        for (var c = 0; c < m.length; c++)
          this.words[c] = this.words[c] | m.words[c];
        return this.strip();
      }),
      (a.prototype.ior = function (m) {
        return i((this.negative | m.negative) === 0), this.iuor(m);
      }),
      (a.prototype.or = function (m) {
        return this.length > m.length
          ? this.clone().ior(m)
          : m.clone().ior(this);
      }),
      (a.prototype.uor = function (m) {
        return this.length > m.length
          ? this.clone().iuor(m)
          : m.clone().iuor(this);
      }),
      (a.prototype.iuand = function (m) {
        var c;
        this.length > m.length ? (c = m) : (c = this);
        for (var l = 0; l < c.length; l++)
          this.words[l] = this.words[l] & m.words[l];
        return (this.length = c.length), this.strip();
      }),
      (a.prototype.iand = function (m) {
        return i((this.negative | m.negative) === 0), this.iuand(m);
      }),
      (a.prototype.and = function (m) {
        return this.length > m.length
          ? this.clone().iand(m)
          : m.clone().iand(this);
      }),
      (a.prototype.uand = function (m) {
        return this.length > m.length
          ? this.clone().iuand(m)
          : m.clone().iuand(this);
      }),
      (a.prototype.iuxor = function (m) {
        var c, l;
        this.length > m.length ? ((c = this), (l = m)) : ((c = m), (l = this));
        for (var b = 0; b < l.length; b++)
          this.words[b] = c.words[b] ^ l.words[b];
        if (this !== c) for (; b < c.length; b++) this.words[b] = c.words[b];
        return (this.length = c.length), this.strip();
      }),
      (a.prototype.ixor = function (m) {
        return i((this.negative | m.negative) === 0), this.iuxor(m);
      }),
      (a.prototype.xor = function (m) {
        return this.length > m.length
          ? this.clone().ixor(m)
          : m.clone().ixor(this);
      }),
      (a.prototype.uxor = function (m) {
        return this.length > m.length
          ? this.clone().iuxor(m)
          : m.clone().iuxor(this);
      }),
      (a.prototype.inotn = function (m) {
        i(typeof m == "number" && m >= 0);
        var c = Math.ceil(m / 26) | 0,
          l = m % 26;
        this._expand(c), l > 0 && c--;
        for (var b = 0; b < c; b++) this.words[b] = ~this.words[b] & 67108863;
        return (
          l > 0 && (this.words[b] = ~this.words[b] & (67108863 >> (26 - l))),
          this.strip()
        );
      }),
      (a.prototype.notn = function (m) {
        return this.clone().inotn(m);
      }),
      (a.prototype.setn = function (m, c) {
        i(typeof m == "number" && m >= 0);
        var l = (m / 26) | 0,
          b = m % 26;
        return (
          this._expand(l + 1),
          c
            ? (this.words[l] = this.words[l] | (1 << b))
            : (this.words[l] = this.words[l] & ~(1 << b)),
          this.strip()
        );
      }),
      (a.prototype.iadd = function (m) {
        var c;
        if (this.negative !== 0 && m.negative === 0)
          return (
            (this.negative = 0),
            (c = this.isub(m)),
            (this.negative ^= 1),
            this._normSign()
          );
        if (this.negative === 0 && m.negative !== 0)
          return (
            (m.negative = 0),
            (c = this.isub(m)),
            (m.negative = 1),
            c._normSign()
          );
        var l, b;
        this.length > m.length ? ((l = this), (b = m)) : ((l = m), (b = this));
        for (var x = 0, M = 0; M < b.length; M++)
          (c = (l.words[M] | 0) + (b.words[M] | 0) + x),
            (this.words[M] = c & 67108863),
            (x = c >>> 26);
        for (; x !== 0 && M < l.length; M++)
          (c = (l.words[M] | 0) + x),
            (this.words[M] = c & 67108863),
            (x = c >>> 26);
        if (((this.length = l.length), x !== 0))
          (this.words[this.length] = x), this.length++;
        else if (l !== this)
          for (; M < l.length; M++) this.words[M] = l.words[M];
        return this;
      }),
      (a.prototype.add = function (m) {
        var c;
        return m.negative !== 0 && this.negative === 0
          ? ((m.negative = 0), (c = this.sub(m)), (m.negative ^= 1), c)
          : m.negative === 0 && this.negative !== 0
          ? ((this.negative = 0), (c = m.sub(this)), (this.negative = 1), c)
          : this.length > m.length
          ? this.clone().iadd(m)
          : m.clone().iadd(this);
      }),
      (a.prototype.isub = function (m) {
        if (m.negative !== 0) {
          m.negative = 0;
          var c = this.iadd(m);
          return (m.negative = 1), c._normSign();
        } else if (this.negative !== 0)
          return (
            (this.negative = 0),
            this.iadd(m),
            (this.negative = 1),
            this._normSign()
          );
        var l = this.cmp(m);
        if (l === 0)
          return (
            (this.negative = 0), (this.length = 1), (this.words[0] = 0), this
          );
        var b, x;
        l > 0 ? ((b = this), (x = m)) : ((b = m), (x = this));
        for (var M = 0, D = 0; D < x.length; D++)
          (c = (b.words[D] | 0) - (x.words[D] | 0) + M),
            (M = c >> 26),
            (this.words[D] = c & 67108863);
        for (; M !== 0 && D < b.length; D++)
          (c = (b.words[D] | 0) + M),
            (M = c >> 26),
            (this.words[D] = c & 67108863);
        if (M === 0 && D < b.length && b !== this)
          for (; D < b.length; D++) this.words[D] = b.words[D];
        return (
          (this.length = Math.max(this.length, D)),
          b !== this && (this.negative = 1),
          this.strip()
        );
      }),
      (a.prototype.sub = function (m) {
        return this.clone().isub(m);
      });
    function O(U, m, c) {
      c.negative = m.negative ^ U.negative;
      var l = (U.length + m.length) | 0;
      (c.length = l), (l = (l - 1) | 0);
      var b = U.words[0] | 0,
        x = m.words[0] | 0,
        M = b * x,
        D = M & 67108863,
        S = (M / 67108864) | 0;
      c.words[0] = D;
      for (var d = 1; d < l; d++) {
        for (
          var p = S >>> 26,
            R = S & 67108863,
            Z = Math.min(d, m.length - 1),
            se = Math.max(0, d - U.length + 1);
          se <= Z;
          se++
        ) {
          var I = (d - se) | 0;
          (b = U.words[I] | 0),
            (x = m.words[se] | 0),
            (M = b * x + R),
            (p += (M / 67108864) | 0),
            (R = M & 67108863);
        }
        (c.words[d] = R | 0), (S = p | 0);
      }
      return S !== 0 ? (c.words[d] = S | 0) : c.length--, c.strip();
    }
    var H = function (m, c, l) {
      var b = m.words,
        x = c.words,
        M = l.words,
        D = 0,
        S,
        d,
        p,
        R = b[0] | 0,
        Z = R & 8191,
        se = R >>> 13,
        I = b[1] | 0,
        ee = I & 8191,
        B = I >>> 13,
        j = b[2] | 0,
        K = j & 8191,
        w = j >>> 13,
        $ = b[3] | 0,
        ne = $ & 8191,
        ce = $ >>> 13,
        fe = b[4] | 0,
        ye = fe & 8191,
        we = fe >>> 13,
        Ne = b[5] | 0,
        Qe = Ne & 8191,
        Pe = Ne >>> 13,
        Re = b[6] | 0,
        Me = Re & 8191,
        me = Re >>> 13,
        Ce = b[7] | 0,
        Te = Ce & 8191,
        ve = Ce >>> 13,
        Oe = b[8] | 0,
        Se = Oe & 8191,
        be = Oe >>> 13,
        qe = b[9] | 0,
        Ie = qe & 8191,
        _e = qe >>> 13,
        He = x[0] | 0,
        Ve = He & 8191,
        Ee = He >>> 13,
        Ke = x[1] | 0,
        ut = Ke & 8191,
        Ge = Ke >>> 13,
        _t = x[2] | 0,
        lt = _t & 8191,
        Je = _t >>> 13,
        Et = x[3] | 0,
        Mt = Et & 8191,
        Fe = Et >>> 13,
        Xe = x[4] | 0,
        tt = Xe & 8191,
        Be = Xe >>> 13,
        et = x[5] | 0,
        Ze = et & 8191,
        $e = et >>> 13,
        ht = x[6] | 0,
        rt = ht & 8191,
        ze = ht >>> 13,
        it = x[7] | 0,
        st = it & 8191,
        Le = it >>> 13,
        Ye = x[8] | 0,
        ft = Ye & 8191,
        ke = Ye >>> 13,
        Rt = x[9] | 0,
        Tt = Rt & 8191,
        at = Rt >>> 13;
      (l.negative = m.negative ^ c.negative),
        (l.length = 19),
        (S = Math.imul(Z, Ve)),
        (d = Math.imul(Z, Ee)),
        (d = (d + Math.imul(se, Ve)) | 0),
        (p = Math.imul(se, Ee));
      var bt = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (bt >>> 26)) | 0),
        (bt &= 67108863),
        (S = Math.imul(ee, Ve)),
        (d = Math.imul(ee, Ee)),
        (d = (d + Math.imul(B, Ve)) | 0),
        (p = Math.imul(B, Ee)),
        (S = (S + Math.imul(Z, ut)) | 0),
        (d = (d + Math.imul(Z, Ge)) | 0),
        (d = (d + Math.imul(se, ut)) | 0),
        (p = (p + Math.imul(se, Ge)) | 0);
      var Rr = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Rr >>> 26)) | 0),
        (Rr &= 67108863),
        (S = Math.imul(K, Ve)),
        (d = Math.imul(K, Ee)),
        (d = (d + Math.imul(w, Ve)) | 0),
        (p = Math.imul(w, Ee)),
        (S = (S + Math.imul(ee, ut)) | 0),
        (d = (d + Math.imul(ee, Ge)) | 0),
        (d = (d + Math.imul(B, ut)) | 0),
        (p = (p + Math.imul(B, Ge)) | 0),
        (S = (S + Math.imul(Z, lt)) | 0),
        (d = (d + Math.imul(Z, Je)) | 0),
        (d = (d + Math.imul(se, lt)) | 0),
        (p = (p + Math.imul(se, Je)) | 0);
      var Tr = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Tr >>> 26)) | 0),
        (Tr &= 67108863),
        (S = Math.imul(ne, Ve)),
        (d = Math.imul(ne, Ee)),
        (d = (d + Math.imul(ce, Ve)) | 0),
        (p = Math.imul(ce, Ee)),
        (S = (S + Math.imul(K, ut)) | 0),
        (d = (d + Math.imul(K, Ge)) | 0),
        (d = (d + Math.imul(w, ut)) | 0),
        (p = (p + Math.imul(w, Ge)) | 0),
        (S = (S + Math.imul(ee, lt)) | 0),
        (d = (d + Math.imul(ee, Je)) | 0),
        (d = (d + Math.imul(B, lt)) | 0),
        (p = (p + Math.imul(B, Je)) | 0),
        (S = (S + Math.imul(Z, Mt)) | 0),
        (d = (d + Math.imul(Z, Fe)) | 0),
        (d = (d + Math.imul(se, Mt)) | 0),
        (p = (p + Math.imul(se, Fe)) | 0);
      var Fr = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Fr >>> 26)) | 0),
        (Fr &= 67108863),
        (S = Math.imul(ye, Ve)),
        (d = Math.imul(ye, Ee)),
        (d = (d + Math.imul(we, Ve)) | 0),
        (p = Math.imul(we, Ee)),
        (S = (S + Math.imul(ne, ut)) | 0),
        (d = (d + Math.imul(ne, Ge)) | 0),
        (d = (d + Math.imul(ce, ut)) | 0),
        (p = (p + Math.imul(ce, Ge)) | 0),
        (S = (S + Math.imul(K, lt)) | 0),
        (d = (d + Math.imul(K, Je)) | 0),
        (d = (d + Math.imul(w, lt)) | 0),
        (p = (p + Math.imul(w, Je)) | 0),
        (S = (S + Math.imul(ee, Mt)) | 0),
        (d = (d + Math.imul(ee, Fe)) | 0),
        (d = (d + Math.imul(B, Mt)) | 0),
        (p = (p + Math.imul(B, Fe)) | 0),
        (S = (S + Math.imul(Z, tt)) | 0),
        (d = (d + Math.imul(Z, Be)) | 0),
        (d = (d + Math.imul(se, tt)) | 0),
        (p = (p + Math.imul(se, Be)) | 0);
      var Br = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Br >>> 26)) | 0),
        (Br &= 67108863),
        (S = Math.imul(Qe, Ve)),
        (d = Math.imul(Qe, Ee)),
        (d = (d + Math.imul(Pe, Ve)) | 0),
        (p = Math.imul(Pe, Ee)),
        (S = (S + Math.imul(ye, ut)) | 0),
        (d = (d + Math.imul(ye, Ge)) | 0),
        (d = (d + Math.imul(we, ut)) | 0),
        (p = (p + Math.imul(we, Ge)) | 0),
        (S = (S + Math.imul(ne, lt)) | 0),
        (d = (d + Math.imul(ne, Je)) | 0),
        (d = (d + Math.imul(ce, lt)) | 0),
        (p = (p + Math.imul(ce, Je)) | 0),
        (S = (S + Math.imul(K, Mt)) | 0),
        (d = (d + Math.imul(K, Fe)) | 0),
        (d = (d + Math.imul(w, Mt)) | 0),
        (p = (p + Math.imul(w, Fe)) | 0),
        (S = (S + Math.imul(ee, tt)) | 0),
        (d = (d + Math.imul(ee, Be)) | 0),
        (d = (d + Math.imul(B, tt)) | 0),
        (p = (p + Math.imul(B, Be)) | 0),
        (S = (S + Math.imul(Z, Ze)) | 0),
        (d = (d + Math.imul(Z, $e)) | 0),
        (d = (d + Math.imul(se, Ze)) | 0),
        (p = (p + Math.imul(se, $e)) | 0);
      var Lr = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Lr >>> 26)) | 0),
        (Lr &= 67108863),
        (S = Math.imul(Me, Ve)),
        (d = Math.imul(Me, Ee)),
        (d = (d + Math.imul(me, Ve)) | 0),
        (p = Math.imul(me, Ee)),
        (S = (S + Math.imul(Qe, ut)) | 0),
        (d = (d + Math.imul(Qe, Ge)) | 0),
        (d = (d + Math.imul(Pe, ut)) | 0),
        (p = (p + Math.imul(Pe, Ge)) | 0),
        (S = (S + Math.imul(ye, lt)) | 0),
        (d = (d + Math.imul(ye, Je)) | 0),
        (d = (d + Math.imul(we, lt)) | 0),
        (p = (p + Math.imul(we, Je)) | 0),
        (S = (S + Math.imul(ne, Mt)) | 0),
        (d = (d + Math.imul(ne, Fe)) | 0),
        (d = (d + Math.imul(ce, Mt)) | 0),
        (p = (p + Math.imul(ce, Fe)) | 0),
        (S = (S + Math.imul(K, tt)) | 0),
        (d = (d + Math.imul(K, Be)) | 0),
        (d = (d + Math.imul(w, tt)) | 0),
        (p = (p + Math.imul(w, Be)) | 0),
        (S = (S + Math.imul(ee, Ze)) | 0),
        (d = (d + Math.imul(ee, $e)) | 0),
        (d = (d + Math.imul(B, Ze)) | 0),
        (p = (p + Math.imul(B, $e)) | 0),
        (S = (S + Math.imul(Z, rt)) | 0),
        (d = (d + Math.imul(Z, ze)) | 0),
        (d = (d + Math.imul(se, rt)) | 0),
        (p = (p + Math.imul(se, ze)) | 0);
      var er = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (er >>> 26)) | 0),
        (er &= 67108863),
        (S = Math.imul(Te, Ve)),
        (d = Math.imul(Te, Ee)),
        (d = (d + Math.imul(ve, Ve)) | 0),
        (p = Math.imul(ve, Ee)),
        (S = (S + Math.imul(Me, ut)) | 0),
        (d = (d + Math.imul(Me, Ge)) | 0),
        (d = (d + Math.imul(me, ut)) | 0),
        (p = (p + Math.imul(me, Ge)) | 0),
        (S = (S + Math.imul(Qe, lt)) | 0),
        (d = (d + Math.imul(Qe, Je)) | 0),
        (d = (d + Math.imul(Pe, lt)) | 0),
        (p = (p + Math.imul(Pe, Je)) | 0),
        (S = (S + Math.imul(ye, Mt)) | 0),
        (d = (d + Math.imul(ye, Fe)) | 0),
        (d = (d + Math.imul(we, Mt)) | 0),
        (p = (p + Math.imul(we, Fe)) | 0),
        (S = (S + Math.imul(ne, tt)) | 0),
        (d = (d + Math.imul(ne, Be)) | 0),
        (d = (d + Math.imul(ce, tt)) | 0),
        (p = (p + Math.imul(ce, Be)) | 0),
        (S = (S + Math.imul(K, Ze)) | 0),
        (d = (d + Math.imul(K, $e)) | 0),
        (d = (d + Math.imul(w, Ze)) | 0),
        (p = (p + Math.imul(w, $e)) | 0),
        (S = (S + Math.imul(ee, rt)) | 0),
        (d = (d + Math.imul(ee, ze)) | 0),
        (d = (d + Math.imul(B, rt)) | 0),
        (p = (p + Math.imul(B, ze)) | 0),
        (S = (S + Math.imul(Z, st)) | 0),
        (d = (d + Math.imul(Z, Le)) | 0),
        (d = (d + Math.imul(se, st)) | 0),
        (p = (p + Math.imul(se, Le)) | 0);
      var ei = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (ei >>> 26)) | 0),
        (ei &= 67108863),
        (S = Math.imul(Se, Ve)),
        (d = Math.imul(Se, Ee)),
        (d = (d + Math.imul(be, Ve)) | 0),
        (p = Math.imul(be, Ee)),
        (S = (S + Math.imul(Te, ut)) | 0),
        (d = (d + Math.imul(Te, Ge)) | 0),
        (d = (d + Math.imul(ve, ut)) | 0),
        (p = (p + Math.imul(ve, Ge)) | 0),
        (S = (S + Math.imul(Me, lt)) | 0),
        (d = (d + Math.imul(Me, Je)) | 0),
        (d = (d + Math.imul(me, lt)) | 0),
        (p = (p + Math.imul(me, Je)) | 0),
        (S = (S + Math.imul(Qe, Mt)) | 0),
        (d = (d + Math.imul(Qe, Fe)) | 0),
        (d = (d + Math.imul(Pe, Mt)) | 0),
        (p = (p + Math.imul(Pe, Fe)) | 0),
        (S = (S + Math.imul(ye, tt)) | 0),
        (d = (d + Math.imul(ye, Be)) | 0),
        (d = (d + Math.imul(we, tt)) | 0),
        (p = (p + Math.imul(we, Be)) | 0),
        (S = (S + Math.imul(ne, Ze)) | 0),
        (d = (d + Math.imul(ne, $e)) | 0),
        (d = (d + Math.imul(ce, Ze)) | 0),
        (p = (p + Math.imul(ce, $e)) | 0),
        (S = (S + Math.imul(K, rt)) | 0),
        (d = (d + Math.imul(K, ze)) | 0),
        (d = (d + Math.imul(w, rt)) | 0),
        (p = (p + Math.imul(w, ze)) | 0),
        (S = (S + Math.imul(ee, st)) | 0),
        (d = (d + Math.imul(ee, Le)) | 0),
        (d = (d + Math.imul(B, st)) | 0),
        (p = (p + Math.imul(B, Le)) | 0),
        (S = (S + Math.imul(Z, ft)) | 0),
        (d = (d + Math.imul(Z, ke)) | 0),
        (d = (d + Math.imul(se, ft)) | 0),
        (p = (p + Math.imul(se, ke)) | 0);
      var Gi = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Gi >>> 26)) | 0),
        (Gi &= 67108863),
        (S = Math.imul(Ie, Ve)),
        (d = Math.imul(Ie, Ee)),
        (d = (d + Math.imul(_e, Ve)) | 0),
        (p = Math.imul(_e, Ee)),
        (S = (S + Math.imul(Se, ut)) | 0),
        (d = (d + Math.imul(Se, Ge)) | 0),
        (d = (d + Math.imul(be, ut)) | 0),
        (p = (p + Math.imul(be, Ge)) | 0),
        (S = (S + Math.imul(Te, lt)) | 0),
        (d = (d + Math.imul(Te, Je)) | 0),
        (d = (d + Math.imul(ve, lt)) | 0),
        (p = (p + Math.imul(ve, Je)) | 0),
        (S = (S + Math.imul(Me, Mt)) | 0),
        (d = (d + Math.imul(Me, Fe)) | 0),
        (d = (d + Math.imul(me, Mt)) | 0),
        (p = (p + Math.imul(me, Fe)) | 0),
        (S = (S + Math.imul(Qe, tt)) | 0),
        (d = (d + Math.imul(Qe, Be)) | 0),
        (d = (d + Math.imul(Pe, tt)) | 0),
        (p = (p + Math.imul(Pe, Be)) | 0),
        (S = (S + Math.imul(ye, Ze)) | 0),
        (d = (d + Math.imul(ye, $e)) | 0),
        (d = (d + Math.imul(we, Ze)) | 0),
        (p = (p + Math.imul(we, $e)) | 0),
        (S = (S + Math.imul(ne, rt)) | 0),
        (d = (d + Math.imul(ne, ze)) | 0),
        (d = (d + Math.imul(ce, rt)) | 0),
        (p = (p + Math.imul(ce, ze)) | 0),
        (S = (S + Math.imul(K, st)) | 0),
        (d = (d + Math.imul(K, Le)) | 0),
        (d = (d + Math.imul(w, st)) | 0),
        (p = (p + Math.imul(w, Le)) | 0),
        (S = (S + Math.imul(ee, ft)) | 0),
        (d = (d + Math.imul(ee, ke)) | 0),
        (d = (d + Math.imul(B, ft)) | 0),
        (p = (p + Math.imul(B, ke)) | 0),
        (S = (S + Math.imul(Z, Tt)) | 0),
        (d = (d + Math.imul(Z, at)) | 0),
        (d = (d + Math.imul(se, Tt)) | 0),
        (p = (p + Math.imul(se, at)) | 0);
      var ti = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (ti >>> 26)) | 0),
        (ti &= 67108863),
        (S = Math.imul(Ie, ut)),
        (d = Math.imul(Ie, Ge)),
        (d = (d + Math.imul(_e, ut)) | 0),
        (p = Math.imul(_e, Ge)),
        (S = (S + Math.imul(Se, lt)) | 0),
        (d = (d + Math.imul(Se, Je)) | 0),
        (d = (d + Math.imul(be, lt)) | 0),
        (p = (p + Math.imul(be, Je)) | 0),
        (S = (S + Math.imul(Te, Mt)) | 0),
        (d = (d + Math.imul(Te, Fe)) | 0),
        (d = (d + Math.imul(ve, Mt)) | 0),
        (p = (p + Math.imul(ve, Fe)) | 0),
        (S = (S + Math.imul(Me, tt)) | 0),
        (d = (d + Math.imul(Me, Be)) | 0),
        (d = (d + Math.imul(me, tt)) | 0),
        (p = (p + Math.imul(me, Be)) | 0),
        (S = (S + Math.imul(Qe, Ze)) | 0),
        (d = (d + Math.imul(Qe, $e)) | 0),
        (d = (d + Math.imul(Pe, Ze)) | 0),
        (p = (p + Math.imul(Pe, $e)) | 0),
        (S = (S + Math.imul(ye, rt)) | 0),
        (d = (d + Math.imul(ye, ze)) | 0),
        (d = (d + Math.imul(we, rt)) | 0),
        (p = (p + Math.imul(we, ze)) | 0),
        (S = (S + Math.imul(ne, st)) | 0),
        (d = (d + Math.imul(ne, Le)) | 0),
        (d = (d + Math.imul(ce, st)) | 0),
        (p = (p + Math.imul(ce, Le)) | 0),
        (S = (S + Math.imul(K, ft)) | 0),
        (d = (d + Math.imul(K, ke)) | 0),
        (d = (d + Math.imul(w, ft)) | 0),
        (p = (p + Math.imul(w, ke)) | 0),
        (S = (S + Math.imul(ee, Tt)) | 0),
        (d = (d + Math.imul(ee, at)) | 0),
        (d = (d + Math.imul(B, Tt)) | 0),
        (p = (p + Math.imul(B, at)) | 0);
      var Wi = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Wi >>> 26)) | 0),
        (Wi &= 67108863),
        (S = Math.imul(Ie, lt)),
        (d = Math.imul(Ie, Je)),
        (d = (d + Math.imul(_e, lt)) | 0),
        (p = Math.imul(_e, Je)),
        (S = (S + Math.imul(Se, Mt)) | 0),
        (d = (d + Math.imul(Se, Fe)) | 0),
        (d = (d + Math.imul(be, Mt)) | 0),
        (p = (p + Math.imul(be, Fe)) | 0),
        (S = (S + Math.imul(Te, tt)) | 0),
        (d = (d + Math.imul(Te, Be)) | 0),
        (d = (d + Math.imul(ve, tt)) | 0),
        (p = (p + Math.imul(ve, Be)) | 0),
        (S = (S + Math.imul(Me, Ze)) | 0),
        (d = (d + Math.imul(Me, $e)) | 0),
        (d = (d + Math.imul(me, Ze)) | 0),
        (p = (p + Math.imul(me, $e)) | 0),
        (S = (S + Math.imul(Qe, rt)) | 0),
        (d = (d + Math.imul(Qe, ze)) | 0),
        (d = (d + Math.imul(Pe, rt)) | 0),
        (p = (p + Math.imul(Pe, ze)) | 0),
        (S = (S + Math.imul(ye, st)) | 0),
        (d = (d + Math.imul(ye, Le)) | 0),
        (d = (d + Math.imul(we, st)) | 0),
        (p = (p + Math.imul(we, Le)) | 0),
        (S = (S + Math.imul(ne, ft)) | 0),
        (d = (d + Math.imul(ne, ke)) | 0),
        (d = (d + Math.imul(ce, ft)) | 0),
        (p = (p + Math.imul(ce, ke)) | 0),
        (S = (S + Math.imul(K, Tt)) | 0),
        (d = (d + Math.imul(K, at)) | 0),
        (d = (d + Math.imul(w, Tt)) | 0),
        (p = (p + Math.imul(w, at)) | 0);
      var Ji = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Ji >>> 26)) | 0),
        (Ji &= 67108863),
        (S = Math.imul(Ie, Mt)),
        (d = Math.imul(Ie, Fe)),
        (d = (d + Math.imul(_e, Mt)) | 0),
        (p = Math.imul(_e, Fe)),
        (S = (S + Math.imul(Se, tt)) | 0),
        (d = (d + Math.imul(Se, Be)) | 0),
        (d = (d + Math.imul(be, tt)) | 0),
        (p = (p + Math.imul(be, Be)) | 0),
        (S = (S + Math.imul(Te, Ze)) | 0),
        (d = (d + Math.imul(Te, $e)) | 0),
        (d = (d + Math.imul(ve, Ze)) | 0),
        (p = (p + Math.imul(ve, $e)) | 0),
        (S = (S + Math.imul(Me, rt)) | 0),
        (d = (d + Math.imul(Me, ze)) | 0),
        (d = (d + Math.imul(me, rt)) | 0),
        (p = (p + Math.imul(me, ze)) | 0),
        (S = (S + Math.imul(Qe, st)) | 0),
        (d = (d + Math.imul(Qe, Le)) | 0),
        (d = (d + Math.imul(Pe, st)) | 0),
        (p = (p + Math.imul(Pe, Le)) | 0),
        (S = (S + Math.imul(ye, ft)) | 0),
        (d = (d + Math.imul(ye, ke)) | 0),
        (d = (d + Math.imul(we, ft)) | 0),
        (p = (p + Math.imul(we, ke)) | 0),
        (S = (S + Math.imul(ne, Tt)) | 0),
        (d = (d + Math.imul(ne, at)) | 0),
        (d = (d + Math.imul(ce, Tt)) | 0),
        (p = (p + Math.imul(ce, at)) | 0);
      var ri = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (ri >>> 26)) | 0),
        (ri &= 67108863),
        (S = Math.imul(Ie, tt)),
        (d = Math.imul(Ie, Be)),
        (d = (d + Math.imul(_e, tt)) | 0),
        (p = Math.imul(_e, Be)),
        (S = (S + Math.imul(Se, Ze)) | 0),
        (d = (d + Math.imul(Se, $e)) | 0),
        (d = (d + Math.imul(be, Ze)) | 0),
        (p = (p + Math.imul(be, $e)) | 0),
        (S = (S + Math.imul(Te, rt)) | 0),
        (d = (d + Math.imul(Te, ze)) | 0),
        (d = (d + Math.imul(ve, rt)) | 0),
        (p = (p + Math.imul(ve, ze)) | 0),
        (S = (S + Math.imul(Me, st)) | 0),
        (d = (d + Math.imul(Me, Le)) | 0),
        (d = (d + Math.imul(me, st)) | 0),
        (p = (p + Math.imul(me, Le)) | 0),
        (S = (S + Math.imul(Qe, ft)) | 0),
        (d = (d + Math.imul(Qe, ke)) | 0),
        (d = (d + Math.imul(Pe, ft)) | 0),
        (p = (p + Math.imul(Pe, ke)) | 0),
        (S = (S + Math.imul(ye, Tt)) | 0),
        (d = (d + Math.imul(ye, at)) | 0),
        (d = (d + Math.imul(we, Tt)) | 0),
        (p = (p + Math.imul(we, at)) | 0);
      var Mi = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Mi >>> 26)) | 0),
        (Mi &= 67108863),
        (S = Math.imul(Ie, Ze)),
        (d = Math.imul(Ie, $e)),
        (d = (d + Math.imul(_e, Ze)) | 0),
        (p = Math.imul(_e, $e)),
        (S = (S + Math.imul(Se, rt)) | 0),
        (d = (d + Math.imul(Se, ze)) | 0),
        (d = (d + Math.imul(be, rt)) | 0),
        (p = (p + Math.imul(be, ze)) | 0),
        (S = (S + Math.imul(Te, st)) | 0),
        (d = (d + Math.imul(Te, Le)) | 0),
        (d = (d + Math.imul(ve, st)) | 0),
        (p = (p + Math.imul(ve, Le)) | 0),
        (S = (S + Math.imul(Me, ft)) | 0),
        (d = (d + Math.imul(Me, ke)) | 0),
        (d = (d + Math.imul(me, ft)) | 0),
        (p = (p + Math.imul(me, ke)) | 0),
        (S = (S + Math.imul(Qe, Tt)) | 0),
        (d = (d + Math.imul(Qe, at)) | 0),
        (d = (d + Math.imul(Pe, Tt)) | 0),
        (p = (p + Math.imul(Pe, at)) | 0);
      var Ii = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Ii >>> 26)) | 0),
        (Ii &= 67108863),
        (S = Math.imul(Ie, rt)),
        (d = Math.imul(Ie, ze)),
        (d = (d + Math.imul(_e, rt)) | 0),
        (p = Math.imul(_e, ze)),
        (S = (S + Math.imul(Se, st)) | 0),
        (d = (d + Math.imul(Se, Le)) | 0),
        (d = (d + Math.imul(be, st)) | 0),
        (p = (p + Math.imul(be, Le)) | 0),
        (S = (S + Math.imul(Te, ft)) | 0),
        (d = (d + Math.imul(Te, ke)) | 0),
        (d = (d + Math.imul(ve, ft)) | 0),
        (p = (p + Math.imul(ve, ke)) | 0),
        (S = (S + Math.imul(Me, Tt)) | 0),
        (d = (d + Math.imul(Me, at)) | 0),
        (d = (d + Math.imul(me, Tt)) | 0),
        (p = (p + Math.imul(me, at)) | 0);
      var lr = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (lr >>> 26)) | 0),
        (lr &= 67108863),
        (S = Math.imul(Ie, st)),
        (d = Math.imul(Ie, Le)),
        (d = (d + Math.imul(_e, st)) | 0),
        (p = Math.imul(_e, Le)),
        (S = (S + Math.imul(Se, ft)) | 0),
        (d = (d + Math.imul(Se, ke)) | 0),
        (d = (d + Math.imul(be, ft)) | 0),
        (p = (p + Math.imul(be, ke)) | 0),
        (S = (S + Math.imul(Te, Tt)) | 0),
        (d = (d + Math.imul(Te, at)) | 0),
        (d = (d + Math.imul(ve, Tt)) | 0),
        (p = (p + Math.imul(ve, at)) | 0);
      var Yi = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Yi >>> 26)) | 0),
        (Yi &= 67108863),
        (S = Math.imul(Ie, ft)),
        (d = Math.imul(Ie, ke)),
        (d = (d + Math.imul(_e, ft)) | 0),
        (p = Math.imul(_e, ke)),
        (S = (S + Math.imul(Se, Tt)) | 0),
        (d = (d + Math.imul(Se, at)) | 0),
        (d = (d + Math.imul(be, Tt)) | 0),
        (p = (p + Math.imul(be, at)) | 0);
      var Qi = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      (D = (((p + (d >>> 13)) | 0) + (Qi >>> 26)) | 0),
        (Qi &= 67108863),
        (S = Math.imul(Ie, Tt)),
        (d = Math.imul(Ie, at)),
        (d = (d + Math.imul(_e, Tt)) | 0),
        (p = Math.imul(_e, at));
      var Xi = (((D + S) | 0) + ((d & 8191) << 13)) | 0;
      return (
        (D = (((p + (d >>> 13)) | 0) + (Xi >>> 26)) | 0),
        (Xi &= 67108863),
        (M[0] = bt),
        (M[1] = Rr),
        (M[2] = Tr),
        (M[3] = Fr),
        (M[4] = Br),
        (M[5] = Lr),
        (M[6] = er),
        (M[7] = ei),
        (M[8] = Gi),
        (M[9] = ti),
        (M[10] = Wi),
        (M[11] = Ji),
        (M[12] = ri),
        (M[13] = Mi),
        (M[14] = Ii),
        (M[15] = lr),
        (M[16] = Yi),
        (M[17] = Qi),
        (M[18] = Xi),
        D !== 0 && ((M[19] = D), l.length++),
        l
      );
    };
    Math.imul || (H = O);
    function G(U, m, c) {
      (c.negative = m.negative ^ U.negative), (c.length = U.length + m.length);
      for (var l = 0, b = 0, x = 0; x < c.length - 1; x++) {
        var M = b;
        b = 0;
        for (
          var D = l & 67108863,
            S = Math.min(x, m.length - 1),
            d = Math.max(0, x - U.length + 1);
          d <= S;
          d++
        ) {
          var p = x - d,
            R = U.words[p] | 0,
            Z = m.words[d] | 0,
            se = R * Z,
            I = se & 67108863;
          (M = (M + ((se / 67108864) | 0)) | 0),
            (I = (I + D) | 0),
            (D = I & 67108863),
            (M = (M + (I >>> 26)) | 0),
            (b += M >>> 26),
            (M &= 67108863);
        }
        (c.words[x] = D), (l = M), (M = b);
      }
      return l !== 0 ? (c.words[x] = l) : c.length--, c.strip();
    }
    function Q(U, m, c) {
      var l = new z();
      return l.mulp(U, m, c);
    }
    a.prototype.mulTo = function (m, c) {
      var l,
        b = this.length + m.length;
      return (
        this.length === 10 && m.length === 10
          ? (l = H(this, m, c))
          : b < 63
          ? (l = O(this, m, c))
          : b < 1024
          ? (l = G(this, m, c))
          : (l = Q(this, m, c)),
        l
      );
    };
    function z(U, m) {
      (this.x = U), (this.y = m);
    }
    (z.prototype.makeRBT = function (m) {
      for (
        var c = new Array(m), l = a.prototype._countBits(m) - 1, b = 0;
        b < m;
        b++
      )
        c[b] = this.revBin(b, l, m);
      return c;
    }),
      (z.prototype.revBin = function (m, c, l) {
        if (m === 0 || m === l - 1) return m;
        for (var b = 0, x = 0; x < c; x++)
          (b |= (m & 1) << (c - x - 1)), (m >>= 1);
        return b;
      }),
      (z.prototype.permute = function (m, c, l, b, x, M) {
        for (var D = 0; D < M; D++) (b[D] = c[m[D]]), (x[D] = l[m[D]]);
      }),
      (z.prototype.transform = function (m, c, l, b, x, M) {
        this.permute(M, m, c, l, b, x);
        for (var D = 1; D < x; D <<= 1)
          for (
            var S = D << 1,
              d = Math.cos((2 * Math.PI) / S),
              p = Math.sin((2 * Math.PI) / S),
              R = 0;
            R < x;
            R += S
          )
            for (var Z = d, se = p, I = 0; I < D; I++) {
              var ee = l[R + I],
                B = b[R + I],
                j = l[R + I + D],
                K = b[R + I + D],
                w = Z * j - se * K;
              (K = Z * K + se * j),
                (j = w),
                (l[R + I] = ee + j),
                (b[R + I] = B + K),
                (l[R + I + D] = ee - j),
                (b[R + I + D] = B - K),
                I !== S &&
                  ((w = d * Z - p * se), (se = d * se + p * Z), (Z = w));
            }
      }),
      (z.prototype.guessLen13b = function (m, c) {
        var l = Math.max(c, m) | 1,
          b = l & 1,
          x = 0;
        for (l = (l / 2) | 0; l; l = l >>> 1) x++;
        return 1 << (x + 1 + b);
      }),
      (z.prototype.conjugate = function (m, c, l) {
        if (!(l <= 1))
          for (var b = 0; b < l / 2; b++) {
            var x = m[b];
            (m[b] = m[l - b - 1]),
              (m[l - b - 1] = x),
              (x = c[b]),
              (c[b] = -c[l - b - 1]),
              (c[l - b - 1] = -x);
          }
      }),
      (z.prototype.normalize13b = function (m, c) {
        for (var l = 0, b = 0; b < c / 2; b++) {
          var x =
            Math.round(m[2 * b + 1] / c) * 8192 + Math.round(m[2 * b] / c) + l;
          (m[b] = x & 67108863),
            x < 67108864 ? (l = 0) : (l = (x / 67108864) | 0);
        }
        return m;
      }),
      (z.prototype.convert13b = function (m, c, l, b) {
        for (var x = 0, M = 0; M < c; M++)
          (x = x + (m[M] | 0)),
            (l[2 * M] = x & 8191),
            (x = x >>> 13),
            (l[2 * M + 1] = x & 8191),
            (x = x >>> 13);
        for (M = 2 * c; M < b; ++M) l[M] = 0;
        i(x === 0), i((x & -8192) === 0);
      }),
      (z.prototype.stub = function (m) {
        for (var c = new Array(m), l = 0; l < m; l++) c[l] = 0;
        return c;
      }),
      (z.prototype.mulp = function (m, c, l) {
        var b = 2 * this.guessLen13b(m.length, c.length),
          x = this.makeRBT(b),
          M = this.stub(b),
          D = new Array(b),
          S = new Array(b),
          d = new Array(b),
          p = new Array(b),
          R = new Array(b),
          Z = new Array(b),
          se = l.words;
        (se.length = b),
          this.convert13b(m.words, m.length, D, b),
          this.convert13b(c.words, c.length, p, b),
          this.transform(D, M, S, d, b, x),
          this.transform(p, M, R, Z, b, x);
        for (var I = 0; I < b; I++) {
          var ee = S[I] * R[I] - d[I] * Z[I];
          (d[I] = S[I] * Z[I] + d[I] * R[I]), (S[I] = ee);
        }
        return (
          this.conjugate(S, d, b),
          this.transform(S, d, se, M, b, x),
          this.conjugate(se, M, b),
          this.normalize13b(se, b),
          (l.negative = m.negative ^ c.negative),
          (l.length = m.length + c.length),
          l.strip()
        );
      }),
      (a.prototype.mul = function (m) {
        var c = new a(null);
        return (c.words = new Array(this.length + m.length)), this.mulTo(m, c);
      }),
      (a.prototype.mulf = function (m) {
        var c = new a(null);
        return (c.words = new Array(this.length + m.length)), Q(this, m, c);
      }),
      (a.prototype.imul = function (m) {
        return this.clone().mulTo(m, this);
      }),
      (a.prototype.imuln = function (m) {
        i(typeof m == "number"), i(m < 67108864);
        for (var c = 0, l = 0; l < this.length; l++) {
          var b = (this.words[l] | 0) * m,
            x = (b & 67108863) + (c & 67108863);
          (c >>= 26),
            (c += (b / 67108864) | 0),
            (c += x >>> 26),
            (this.words[l] = x & 67108863);
        }
        return c !== 0 && ((this.words[l] = c), this.length++), this;
      }),
      (a.prototype.muln = function (m) {
        return this.clone().imuln(m);
      }),
      (a.prototype.sqr = function () {
        return this.mul(this);
      }),
      (a.prototype.isqr = function () {
        return this.imul(this.clone());
      }),
      (a.prototype.pow = function (m) {
        var c = P(m);
        if (c.length === 0) return new a(1);
        for (var l = this, b = 0; b < c.length && c[b] === 0; b++, l = l.sqr());
        if (++b < c.length)
          for (var x = l.sqr(); b < c.length; b++, x = x.sqr())
            c[b] !== 0 && (l = l.mul(x));
        return l;
      }),
      (a.prototype.iushln = function (m) {
        i(typeof m == "number" && m >= 0);
        var c = m % 26,
          l = (m - c) / 26,
          b = (67108863 >>> (26 - c)) << (26 - c),
          x;
        if (c !== 0) {
          var M = 0;
          for (x = 0; x < this.length; x++) {
            var D = this.words[x] & b,
              S = ((this.words[x] | 0) - D) << c;
            (this.words[x] = S | M), (M = D >>> (26 - c));
          }
          M && ((this.words[x] = M), this.length++);
        }
        if (l !== 0) {
          for (x = this.length - 1; x >= 0; x--)
            this.words[x + l] = this.words[x];
          for (x = 0; x < l; x++) this.words[x] = 0;
          this.length += l;
        }
        return this.strip();
      }),
      (a.prototype.ishln = function (m) {
        return i(this.negative === 0), this.iushln(m);
      }),
      (a.prototype.iushrn = function (m, c, l) {
        i(typeof m == "number" && m >= 0);
        var b;
        c ? (b = (c - (c % 26)) / 26) : (b = 0);
        var x = m % 26,
          M = Math.min((m - x) / 26, this.length),
          D = 67108863 ^ ((67108863 >>> x) << x),
          S = l;
        if (((b -= M), (b = Math.max(0, b)), S)) {
          for (var d = 0; d < M; d++) S.words[d] = this.words[d];
          S.length = M;
        }
        if (M !== 0)
          if (this.length > M)
            for (this.length -= M, d = 0; d < this.length; d++)
              this.words[d] = this.words[d + M];
          else (this.words[0] = 0), (this.length = 1);
        var p = 0;
        for (d = this.length - 1; d >= 0 && (p !== 0 || d >= b); d--) {
          var R = this.words[d] | 0;
          (this.words[d] = (p << (26 - x)) | (R >>> x)), (p = R & D);
        }
        return (
          S && p !== 0 && (S.words[S.length++] = p),
          this.length === 0 && ((this.words[0] = 0), (this.length = 1)),
          this.strip()
        );
      }),
      (a.prototype.ishrn = function (m, c, l) {
        return i(this.negative === 0), this.iushrn(m, c, l);
      }),
      (a.prototype.shln = function (m) {
        return this.clone().ishln(m);
      }),
      (a.prototype.ushln = function (m) {
        return this.clone().iushln(m);
      }),
      (a.prototype.shrn = function (m) {
        return this.clone().ishrn(m);
      }),
      (a.prototype.ushrn = function (m) {
        return this.clone().iushrn(m);
      }),
      (a.prototype.testn = function (m) {
        i(typeof m == "number" && m >= 0);
        var c = m % 26,
          l = (m - c) / 26,
          b = 1 << c;
        if (this.length <= l) return !1;
        var x = this.words[l];
        return !!(x & b);
      }),
      (a.prototype.imaskn = function (m) {
        i(typeof m == "number" && m >= 0);
        var c = m % 26,
          l = (m - c) / 26;
        if (
          (i(this.negative === 0, "imaskn works only with positive numbers"),
          this.length <= l)
        )
          return this;
        if (
          (c !== 0 && l++, (this.length = Math.min(l, this.length)), c !== 0)
        ) {
          var b = 67108863 ^ ((67108863 >>> c) << c);
          this.words[this.length - 1] &= b;
        }
        return this.strip();
      }),
      (a.prototype.maskn = function (m) {
        return this.clone().imaskn(m);
      }),
      (a.prototype.iaddn = function (m) {
        return (
          i(typeof m == "number"),
          i(m < 67108864),
          m < 0
            ? this.isubn(-m)
            : this.negative !== 0
            ? this.length === 1 && (this.words[0] | 0) < m
              ? ((this.words[0] = m - (this.words[0] | 0)),
                (this.negative = 0),
                this)
              : ((this.negative = 0), this.isubn(m), (this.negative = 1), this)
            : this._iaddn(m)
        );
      }),
      (a.prototype._iaddn = function (m) {
        this.words[0] += m;
        for (var c = 0; c < this.length && this.words[c] >= 67108864; c++)
          (this.words[c] -= 67108864),
            c === this.length - 1
              ? (this.words[c + 1] = 1)
              : this.words[c + 1]++;
        return (this.length = Math.max(this.length, c + 1)), this;
      }),
      (a.prototype.isubn = function (m) {
        if ((i(typeof m == "number"), i(m < 67108864), m < 0))
          return this.iaddn(-m);
        if (this.negative !== 0)
          return (this.negative = 0), this.iaddn(m), (this.negative = 1), this;
        if (((this.words[0] -= m), this.length === 1 && this.words[0] < 0))
          (this.words[0] = -this.words[0]), (this.negative = 1);
        else
          for (var c = 0; c < this.length && this.words[c] < 0; c++)
            (this.words[c] += 67108864), (this.words[c + 1] -= 1);
        return this.strip();
      }),
      (a.prototype.addn = function (m) {
        return this.clone().iaddn(m);
      }),
      (a.prototype.subn = function (m) {
        return this.clone().isubn(m);
      }),
      (a.prototype.iabs = function () {
        return (this.negative = 0), this;
      }),
      (a.prototype.abs = function () {
        return this.clone().iabs();
      }),
      (a.prototype._ishlnsubmul = function (m, c, l) {
        var b = m.length + l,
          x;
        this._expand(b);
        var M,
          D = 0;
        for (x = 0; x < m.length; x++) {
          M = (this.words[x + l] | 0) + D;
          var S = (m.words[x] | 0) * c;
          (M -= S & 67108863),
            (D = (M >> 26) - ((S / 67108864) | 0)),
            (this.words[x + l] = M & 67108863);
        }
        for (; x < this.length - l; x++)
          (M = (this.words[x + l] | 0) + D),
            (D = M >> 26),
            (this.words[x + l] = M & 67108863);
        if (D === 0) return this.strip();
        for (i(D === -1), D = 0, x = 0; x < this.length; x++)
          (M = -(this.words[x] | 0) + D),
            (D = M >> 26),
            (this.words[x] = M & 67108863);
        return (this.negative = 1), this.strip();
      }),
      (a.prototype._wordDiv = function (m, c) {
        var l = this.length - m.length,
          b = this.clone(),
          x = m,
          M = x.words[x.length - 1] | 0,
          D = this._countBits(M);
        (l = 26 - D),
          l !== 0 &&
            ((x = x.ushln(l)), b.iushln(l), (M = x.words[x.length - 1] | 0));
        var S = b.length - x.length,
          d;
        if (c !== "mod") {
          (d = new a(null)),
            (d.length = S + 1),
            (d.words = new Array(d.length));
          for (var p = 0; p < d.length; p++) d.words[p] = 0;
        }
        var R = b.clone()._ishlnsubmul(x, 1, S);
        R.negative === 0 && ((b = R), d && (d.words[S] = 1));
        for (var Z = S - 1; Z >= 0; Z--) {
          var se =
            (b.words[x.length + Z] | 0) * 67108864 +
            (b.words[x.length + Z - 1] | 0);
          for (
            se = Math.min((se / M) | 0, 67108863), b._ishlnsubmul(x, se, Z);
            b.negative !== 0;

          )
            se--,
              (b.negative = 0),
              b._ishlnsubmul(x, 1, Z),
              b.isZero() || (b.negative ^= 1);
          d && (d.words[Z] = se);
        }
        return (
          d && d.strip(),
          b.strip(),
          c !== "div" && l !== 0 && b.iushrn(l),
          { div: d || null, mod: b }
        );
      }),
      (a.prototype.divmod = function (m, c, l) {
        if ((i(!m.isZero()), this.isZero()))
          return { div: new a(0), mod: new a(0) };
        var b, x, M;
        return this.negative !== 0 && m.negative === 0
          ? ((M = this.neg().divmod(m, c)),
            c !== "mod" && (b = M.div.neg()),
            c !== "div" &&
              ((x = M.mod.neg()), l && x.negative !== 0 && x.iadd(m)),
            { div: b, mod: x })
          : this.negative === 0 && m.negative !== 0
          ? ((M = this.divmod(m.neg(), c)),
            c !== "mod" && (b = M.div.neg()),
            { div: b, mod: M.mod })
          : this.negative & m.negative
          ? ((M = this.neg().divmod(m.neg(), c)),
            c !== "div" &&
              ((x = M.mod.neg()), l && x.negative !== 0 && x.isub(m)),
            { div: M.div, mod: x })
          : m.length > this.length || this.cmp(m) < 0
          ? { div: new a(0), mod: this }
          : m.length === 1
          ? c === "div"
            ? { div: this.divn(m.words[0]), mod: null }
            : c === "mod"
            ? { div: null, mod: new a(this.modn(m.words[0])) }
            : { div: this.divn(m.words[0]), mod: new a(this.modn(m.words[0])) }
          : this._wordDiv(m, c);
      }),
      (a.prototype.div = function (m) {
        return this.divmod(m, "div", !1).div;
      }),
      (a.prototype.mod = function (m) {
        return this.divmod(m, "mod", !1).mod;
      }),
      (a.prototype.umod = function (m) {
        return this.divmod(m, "mod", !0).mod;
      }),
      (a.prototype.divRound = function (m) {
        var c = this.divmod(m);
        if (c.mod.isZero()) return c.div;
        var l = c.div.negative !== 0 ? c.mod.isub(m) : c.mod,
          b = m.ushrn(1),
          x = m.andln(1),
          M = l.cmp(b);
        return M < 0 || (x === 1 && M === 0)
          ? c.div
          : c.div.negative !== 0
          ? c.div.isubn(1)
          : c.div.iaddn(1);
      }),
      (a.prototype.modn = function (m) {
        i(m <= 67108863);
        for (var c = (1 << 26) % m, l = 0, b = this.length - 1; b >= 0; b--)
          l = (c * l + (this.words[b] | 0)) % m;
        return l;
      }),
      (a.prototype.idivn = function (m) {
        i(m <= 67108863);
        for (var c = 0, l = this.length - 1; l >= 0; l--) {
          var b = (this.words[l] | 0) + c * 67108864;
          (this.words[l] = (b / m) | 0), (c = b % m);
        }
        return this.strip();
      }),
      (a.prototype.divn = function (m) {
        return this.clone().idivn(m);
      }),
      (a.prototype.egcd = function (m) {
        i(m.negative === 0), i(!m.isZero());
        var c = this,
          l = m.clone();
        c.negative !== 0 ? (c = c.umod(m)) : (c = c.clone());
        for (
          var b = new a(1), x = new a(0), M = new a(0), D = new a(1), S = 0;
          c.isEven() && l.isEven();

        )
          c.iushrn(1), l.iushrn(1), ++S;
        for (var d = l.clone(), p = c.clone(); !c.isZero(); ) {
          for (var R = 0, Z = 1; !(c.words[0] & Z) && R < 26; ++R, Z <<= 1);
          if (R > 0)
            for (c.iushrn(R); R-- > 0; )
              (b.isOdd() || x.isOdd()) && (b.iadd(d), x.isub(p)),
                b.iushrn(1),
                x.iushrn(1);
          for (var se = 0, I = 1; !(l.words[0] & I) && se < 26; ++se, I <<= 1);
          if (se > 0)
            for (l.iushrn(se); se-- > 0; )
              (M.isOdd() || D.isOdd()) && (M.iadd(d), D.isub(p)),
                M.iushrn(1),
                D.iushrn(1);
          c.cmp(l) >= 0
            ? (c.isub(l), b.isub(M), x.isub(D))
            : (l.isub(c), M.isub(b), D.isub(x));
        }
        return { a: M, b: D, gcd: l.iushln(S) };
      }),
      (a.prototype._invmp = function (m) {
        i(m.negative === 0), i(!m.isZero());
        var c = this,
          l = m.clone();
        c.negative !== 0 ? (c = c.umod(m)) : (c = c.clone());
        for (
          var b = new a(1), x = new a(0), M = l.clone();
          c.cmpn(1) > 0 && l.cmpn(1) > 0;

        ) {
          for (var D = 0, S = 1; !(c.words[0] & S) && D < 26; ++D, S <<= 1);
          if (D > 0)
            for (c.iushrn(D); D-- > 0; ) b.isOdd() && b.iadd(M), b.iushrn(1);
          for (var d = 0, p = 1; !(l.words[0] & p) && d < 26; ++d, p <<= 1);
          if (d > 0)
            for (l.iushrn(d); d-- > 0; ) x.isOdd() && x.iadd(M), x.iushrn(1);
          c.cmp(l) >= 0 ? (c.isub(l), b.isub(x)) : (l.isub(c), x.isub(b));
        }
        var R;
        return (
          c.cmpn(1) === 0 ? (R = b) : (R = x), R.cmpn(0) < 0 && R.iadd(m), R
        );
      }),
      (a.prototype.gcd = function (m) {
        if (this.isZero()) return m.abs();
        if (m.isZero()) return this.abs();
        var c = this.clone(),
          l = m.clone();
        (c.negative = 0), (l.negative = 0);
        for (var b = 0; c.isEven() && l.isEven(); b++) c.iushrn(1), l.iushrn(1);
        do {
          for (; c.isEven(); ) c.iushrn(1);
          for (; l.isEven(); ) l.iushrn(1);
          var x = c.cmp(l);
          if (x < 0) {
            var M = c;
            (c = l), (l = M);
          } else if (x === 0 || l.cmpn(1) === 0) break;
          c.isub(l);
        } while (!0);
        return l.iushln(b);
      }),
      (a.prototype.invm = function (m) {
        return this.egcd(m).a.umod(m);
      }),
      (a.prototype.isEven = function () {
        return (this.words[0] & 1) === 0;
      }),
      (a.prototype.isOdd = function () {
        return (this.words[0] & 1) === 1;
      }),
      (a.prototype.andln = function (m) {
        return this.words[0] & m;
      }),
      (a.prototype.bincn = function (m) {
        i(typeof m == "number");
        var c = m % 26,
          l = (m - c) / 26,
          b = 1 << c;
        if (this.length <= l)
          return this._expand(l + 1), (this.words[l] |= b), this;
        for (var x = b, M = l; x !== 0 && M < this.length; M++) {
          var D = this.words[M] | 0;
          (D += x), (x = D >>> 26), (D &= 67108863), (this.words[M] = D);
        }
        return x !== 0 && ((this.words[M] = x), this.length++), this;
      }),
      (a.prototype.isZero = function () {
        return this.length === 1 && this.words[0] === 0;
      }),
      (a.prototype.cmpn = function (m) {
        var c = m < 0;
        if (this.negative !== 0 && !c) return -1;
        if (this.negative === 0 && c) return 1;
        this.strip();
        var l;
        if (this.length > 1) l = 1;
        else {
          c && (m = -m), i(m <= 67108863, "Number is too big");
          var b = this.words[0] | 0;
          l = b === m ? 0 : b < m ? -1 : 1;
        }
        return this.negative !== 0 ? -l | 0 : l;
      }),
      (a.prototype.cmp = function (m) {
        if (this.negative !== 0 && m.negative === 0) return -1;
        if (this.negative === 0 && m.negative !== 0) return 1;
        var c = this.ucmp(m);
        return this.negative !== 0 ? -c | 0 : c;
      }),
      (a.prototype.ucmp = function (m) {
        if (this.length > m.length) return 1;
        if (this.length < m.length) return -1;
        for (var c = 0, l = this.length - 1; l >= 0; l--) {
          var b = this.words[l] | 0,
            x = m.words[l] | 0;
          if (b !== x) {
            b < x ? (c = -1) : b > x && (c = 1);
            break;
          }
        }
        return c;
      }),
      (a.prototype.gtn = function (m) {
        return this.cmpn(m) === 1;
      }),
      (a.prototype.gt = function (m) {
        return this.cmp(m) === 1;
      }),
      (a.prototype.gten = function (m) {
        return this.cmpn(m) >= 0;
      }),
      (a.prototype.gte = function (m) {
        return this.cmp(m) >= 0;
      }),
      (a.prototype.ltn = function (m) {
        return this.cmpn(m) === -1;
      }),
      (a.prototype.lt = function (m) {
        return this.cmp(m) === -1;
      }),
      (a.prototype.lten = function (m) {
        return this.cmpn(m) <= 0;
      }),
      (a.prototype.lte = function (m) {
        return this.cmp(m) <= 0;
      }),
      (a.prototype.eqn = function (m) {
        return this.cmpn(m) === 0;
      }),
      (a.prototype.eq = function (m) {
        return this.cmp(m) === 0;
      }),
      (a.red = function (m) {
        return new ae(m);
      }),
      (a.prototype.toRed = function (m) {
        return (
          i(!this.red, "Already a number in reduction context"),
          i(this.negative === 0, "red works only with positives"),
          m.convertTo(this)._forceRed(m)
        );
      }),
      (a.prototype.fromRed = function () {
        return (
          i(this.red, "fromRed works only with numbers in reduction context"),
          this.red.convertFrom(this)
        );
      }),
      (a.prototype._forceRed = function (m) {
        return (this.red = m), this;
      }),
      (a.prototype.forceRed = function (m) {
        return (
          i(!this.red, "Already a number in reduction context"),
          this._forceRed(m)
        );
      }),
      (a.prototype.redAdd = function (m) {
        return (
          i(this.red, "redAdd works only with red numbers"),
          this.red.add(this, m)
        );
      }),
      (a.prototype.redIAdd = function (m) {
        return (
          i(this.red, "redIAdd works only with red numbers"),
          this.red.iadd(this, m)
        );
      }),
      (a.prototype.redSub = function (m) {
        return (
          i(this.red, "redSub works only with red numbers"),
          this.red.sub(this, m)
        );
      }),
      (a.prototype.redISub = function (m) {
        return (
          i(this.red, "redISub works only with red numbers"),
          this.red.isub(this, m)
        );
      }),
      (a.prototype.redShl = function (m) {
        return (
          i(this.red, "redShl works only with red numbers"),
          this.red.shl(this, m)
        );
      }),
      (a.prototype.redMul = function (m) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, m),
          this.red.mul(this, m)
        );
      }),
      (a.prototype.redIMul = function (m) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, m),
          this.red.imul(this, m)
        );
      }),
      (a.prototype.redSqr = function () {
        return (
          i(this.red, "redSqr works only with red numbers"),
          this.red._verify1(this),
          this.red.sqr(this)
        );
      }),
      (a.prototype.redISqr = function () {
        return (
          i(this.red, "redISqr works only with red numbers"),
          this.red._verify1(this),
          this.red.isqr(this)
        );
      }),
      (a.prototype.redSqrt = function () {
        return (
          i(this.red, "redSqrt works only with red numbers"),
          this.red._verify1(this),
          this.red.sqrt(this)
        );
      }),
      (a.prototype.redInvm = function () {
        return (
          i(this.red, "redInvm works only with red numbers"),
          this.red._verify1(this),
          this.red.invm(this)
        );
      }),
      (a.prototype.redNeg = function () {
        return (
          i(this.red, "redNeg works only with red numbers"),
          this.red._verify1(this),
          this.red.neg(this)
        );
      }),
      (a.prototype.redPow = function (m) {
        return (
          i(this.red && !m.red, "redPow(normalNum)"),
          this.red._verify1(this),
          this.red.pow(this, m)
        );
      });
    var Y = { k256: null, p224: null, p192: null, p25519: null };
    function q(U, m) {
      (this.name = U),
        (this.p = new a(m, 16)),
        (this.n = this.p.bitLength()),
        (this.k = new a(1).iushln(this.n).isub(this.p)),
        (this.tmp = this._tmp());
    }
    (q.prototype._tmp = function () {
      var m = new a(null);
      return (m.words = new Array(Math.ceil(this.n / 13))), m;
    }),
      (q.prototype.ireduce = function (m) {
        var c = m,
          l;
        do
          this.split(c, this.tmp),
            (c = this.imulK(c)),
            (c = c.iadd(this.tmp)),
            (l = c.bitLength());
        while (l > this.n);
        var b = l < this.n ? -1 : c.ucmp(this.p);
        return (
          b === 0
            ? ((c.words[0] = 0), (c.length = 1))
            : b > 0
            ? c.isub(this.p)
            : c.strip !== void 0
            ? c.strip()
            : c._strip(),
          c
        );
      }),
      (q.prototype.split = function (m, c) {
        m.iushrn(this.n, 0, c);
      }),
      (q.prototype.imulK = function (m) {
        return m.imul(this.k);
      });
    function k() {
      q.call(
        this,
        "k256",
        "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
      );
    }
    n(k, q),
      (k.prototype.split = function (m, c) {
        for (var l = 4194303, b = Math.min(m.length, 9), x = 0; x < b; x++)
          c.words[x] = m.words[x];
        if (((c.length = b), m.length <= 9)) {
          (m.words[0] = 0), (m.length = 1);
          return;
        }
        var M = m.words[9];
        for (c.words[c.length++] = M & l, x = 10; x < m.length; x++) {
          var D = m.words[x] | 0;
          (m.words[x - 10] = ((D & l) << 4) | (M >>> 22)), (M = D);
        }
        (M >>>= 22),
          (m.words[x - 10] = M),
          M === 0 && m.length > 10 ? (m.length -= 10) : (m.length -= 9);
      }),
      (k.prototype.imulK = function (m) {
        (m.words[m.length] = 0), (m.words[m.length + 1] = 0), (m.length += 2);
        for (var c = 0, l = 0; l < m.length; l++) {
          var b = m.words[l] | 0;
          (c += b * 977),
            (m.words[l] = c & 67108863),
            (c = b * 64 + ((c / 67108864) | 0));
        }
        return (
          m.words[m.length - 1] === 0 &&
            (m.length--, m.words[m.length - 1] === 0 && m.length--),
          m
        );
      });
    function V() {
      q.call(
        this,
        "p224",
        "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
      );
    }
    n(V, q);
    function A() {
      q.call(
        this,
        "p192",
        "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
      );
    }
    n(A, q);
    function F() {
      q.call(
        this,
        "25519",
        "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
      );
    }
    n(F, q),
      (F.prototype.imulK = function (m) {
        for (var c = 0, l = 0; l < m.length; l++) {
          var b = (m.words[l] | 0) * 19 + c,
            x = b & 67108863;
          (b >>>= 26), (m.words[l] = x), (c = b);
        }
        return c !== 0 && (m.words[m.length++] = c), m;
      }),
      (a._prime = function (m) {
        if (Y[m]) return Y[m];
        var c;
        if (m === "k256") c = new k();
        else if (m === "p224") c = new V();
        else if (m === "p192") c = new A();
        else if (m === "p25519") c = new F();
        else throw new Error("Unknown prime " + m);
        return (Y[m] = c), c;
      });
    function ae(U) {
      if (typeof U == "string") {
        var m = a._prime(U);
        (this.m = m.p), (this.prime = m);
      } else
        i(U.gtn(1), "modulus must be greater than 1"),
          (this.m = U),
          (this.prime = null);
    }
    (ae.prototype._verify1 = function (m) {
      i(m.negative === 0, "red works only with positives"),
        i(m.red, "red works only with red numbers");
    }),
      (ae.prototype._verify2 = function (m, c) {
        i((m.negative | c.negative) === 0, "red works only with positives"),
          i(m.red && m.red === c.red, "red works only with red numbers");
      }),
      (ae.prototype.imod = function (m) {
        return this.prime
          ? this.prime.ireduce(m)._forceRed(this)
          : m.umod(this.m)._forceRed(this);
      }),
      (ae.prototype.neg = function (m) {
        return m.isZero() ? m.clone() : this.m.sub(m)._forceRed(this);
      }),
      (ae.prototype.add = function (m, c) {
        this._verify2(m, c);
        var l = m.add(c);
        return l.cmp(this.m) >= 0 && l.isub(this.m), l._forceRed(this);
      }),
      (ae.prototype.iadd = function (m, c) {
        this._verify2(m, c);
        var l = m.iadd(c);
        return l.cmp(this.m) >= 0 && l.isub(this.m), l;
      }),
      (ae.prototype.sub = function (m, c) {
        this._verify2(m, c);
        var l = m.sub(c);
        return l.cmpn(0) < 0 && l.iadd(this.m), l._forceRed(this);
      }),
      (ae.prototype.isub = function (m, c) {
        this._verify2(m, c);
        var l = m.isub(c);
        return l.cmpn(0) < 0 && l.iadd(this.m), l;
      }),
      (ae.prototype.shl = function (m, c) {
        return this._verify1(m), this.imod(m.ushln(c));
      }),
      (ae.prototype.imul = function (m, c) {
        return this._verify2(m, c), this.imod(m.imul(c));
      }),
      (ae.prototype.mul = function (m, c) {
        return this._verify2(m, c), this.imod(m.mul(c));
      }),
      (ae.prototype.isqr = function (m) {
        return this.imul(m, m.clone());
      }),
      (ae.prototype.sqr = function (m) {
        return this.mul(m, m);
      }),
      (ae.prototype.sqrt = function (m) {
        if (m.isZero()) return m.clone();
        var c = this.m.andln(3);
        if ((i(c % 2 === 1), c === 3)) {
          var l = this.m.add(new a(1)).iushrn(2);
          return this.pow(m, l);
        }
        for (var b = this.m.subn(1), x = 0; !b.isZero() && b.andln(1) === 0; )
          x++, b.iushrn(1);
        i(!b.isZero());
        var M = new a(1).toRed(this),
          D = M.redNeg(),
          S = this.m.subn(1).iushrn(1),
          d = this.m.bitLength();
        for (d = new a(2 * d * d).toRed(this); this.pow(d, S).cmp(D) !== 0; )
          d.redIAdd(D);
        for (
          var p = this.pow(d, b),
            R = this.pow(m, b.addn(1).iushrn(1)),
            Z = this.pow(m, b),
            se = x;
          Z.cmp(M) !== 0;

        ) {
          for (var I = Z, ee = 0; I.cmp(M) !== 0; ee++) I = I.redSqr();
          i(ee < se);
          var B = this.pow(p, new a(1).iushln(se - ee - 1));
          (R = R.redMul(B)), (p = B.redSqr()), (Z = Z.redMul(p)), (se = ee);
        }
        return R;
      }),
      (ae.prototype.invm = function (m) {
        var c = m._invmp(this.m);
        return c.negative !== 0
          ? ((c.negative = 0), this.imod(c).redNeg())
          : this.imod(c);
      }),
      (ae.prototype.pow = function (m, c) {
        if (c.isZero()) return new a(1).toRed(this);
        if (c.cmpn(1) === 0) return m.clone();
        var l = 4,
          b = new Array(1 << l);
        (b[0] = new a(1).toRed(this)), (b[1] = m);
        for (var x = 2; x < b.length; x++) b[x] = this.mul(b[x - 1], m);
        var M = b[0],
          D = 0,
          S = 0,
          d = c.bitLength() % 26;
        for (d === 0 && (d = 26), x = c.length - 1; x >= 0; x--) {
          for (var p = c.words[x], R = d - 1; R >= 0; R--) {
            var Z = (p >> R) & 1;
            if ((M !== b[0] && (M = this.sqr(M)), Z === 0 && D === 0)) {
              S = 0;
              continue;
            }
            (D <<= 1),
              (D |= Z),
              S++,
              !(S !== l && (x !== 0 || R !== 0)) &&
                ((M = this.mul(M, b[D])), (S = 0), (D = 0));
          }
          d = 26;
        }
        return M;
      }),
      (ae.prototype.convertTo = function (m) {
        var c = m.umod(this.m);
        return c === m ? c.clone() : c;
      }),
      (ae.prototype.convertFrom = function (m) {
        var c = m.clone();
        return (c.red = null), c;
      }),
      (a.mont = function (m) {
        return new de(m);
      });
    function de(U) {
      ae.call(this, U),
        (this.shift = this.m.bitLength()),
        this.shift % 26 !== 0 && (this.shift += 26 - (this.shift % 26)),
        (this.r = new a(1).iushln(this.shift)),
        (this.r2 = this.imod(this.r.sqr())),
        (this.rinv = this.r._invmp(this.m)),
        (this.minv = this.rinv.mul(this.r).isubn(1).div(this.m)),
        (this.minv = this.minv.umod(this.r)),
        (this.minv = this.r.sub(this.minv));
    }
    n(de, ae),
      (de.prototype.convertTo = function (m) {
        return this.imod(m.ushln(this.shift));
      }),
      (de.prototype.convertFrom = function (m) {
        var c = this.imod(m.mul(this.rinv));
        return (c.red = null), c;
      }),
      (de.prototype.imul = function (m, c) {
        if (m.isZero() || c.isZero())
          return (m.words[0] = 0), (m.length = 1), m;
        var l = m.imul(c),
          b = l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          x = l.isub(b).iushrn(this.shift),
          M = x;
        return (
          x.cmp(this.m) >= 0
            ? (M = x.isub(this.m))
            : x.cmpn(0) < 0 && (M = x.iadd(this.m)),
          M._forceRed(this)
        );
      }),
      (de.prototype.mul = function (m, c) {
        if (m.isZero() || c.isZero()) return new a(0)._forceRed(this);
        var l = m.mul(c),
          b = l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          x = l.isub(b).iushrn(this.shift),
          M = x;
        return (
          x.cmp(this.m) >= 0
            ? (M = x.isub(this.m))
            : x.cmpn(0) < 0 && (M = x.iadd(this.m)),
          M._forceRed(this)
        );
      }),
      (de.prototype.invm = function (m) {
        var c = this.imod(m._invmp(this.m).mul(this.r2));
        return c._forceRed(this);
      });
  })(r, ln);
})(O0);
var ys = O0.exports,
  wa = ab;
function ab(r, e) {
  if (!r) throw new Error(e || "Assertion failed");
}
ab.equal = function (e, t, i) {
  if (e != t) throw new Error(i || "Assertion failed: " + e + " != " + t);
};
var N0 = {};
(function (r) {
  var e = r;
  function t(a, h) {
    if (Array.isArray(a)) return a.slice();
    if (!a) return [];
    var f = [];
    if (typeof a != "string") {
      for (var v = 0; v < a.length; v++) f[v] = a[v] | 0;
      return f;
    }
    if (h === "hex") {
      (a = a.replace(/[^a-z0-9]+/gi, "")), a.length % 2 !== 0 && (a = "0" + a);
      for (var v = 0; v < a.length; v += 2)
        f.push(parseInt(a[v] + a[v + 1], 16));
    } else
      for (var v = 0; v < a.length; v++) {
        var g = a.charCodeAt(v),
          y = g >> 8,
          _ = g & 255;
        y ? f.push(y, _) : f.push(_);
      }
    return f;
  }
  e.toArray = t;
  function i(a) {
    return a.length === 1 ? "0" + a : a;
  }
  e.zero2 = i;
  function n(a) {
    for (var h = "", f = 0; f < a.length; f++) h += i(a[f].toString(16));
    return h;
  }
  (e.toHex = n),
    (e.encode = function (h, f) {
      return f === "hex" ? n(h) : h;
    });
})(N0);
(function (r) {
  var e = r,
    t = ys,
    i = wa,
    n = N0;
  (e.assert = i),
    (e.toArray = n.toArray),
    (e.zero2 = n.zero2),
    (e.toHex = n.toHex),
    (e.encode = n.encode);
  function a(y, _, C) {
    var P = new Array(Math.max(y.bitLength(), C) + 1),
      O;
    for (O = 0; O < P.length; O += 1) P[O] = 0;
    var H = 1 << (_ + 1),
      G = y.clone();
    for (O = 0; O < P.length; O++) {
      var Q,
        z = G.andln(H - 1);
      G.isOdd()
        ? (z > (H >> 1) - 1 ? (Q = (H >> 1) - z) : (Q = z), G.isubn(Q))
        : (Q = 0),
        (P[O] = Q),
        G.iushrn(1);
    }
    return P;
  }
  e.getNAF = a;
  function h(y, _) {
    var C = [[], []];
    (y = y.clone()), (_ = _.clone());
    for (var P = 0, O = 0, H; y.cmpn(-P) > 0 || _.cmpn(-O) > 0; ) {
      var G = (y.andln(3) + P) & 3,
        Q = (_.andln(3) + O) & 3;
      G === 3 && (G = -1), Q === 3 && (Q = -1);
      var z;
      G & 1
        ? ((H = (y.andln(7) + P) & 7),
          (H === 3 || H === 5) && Q === 2 ? (z = -G) : (z = G))
        : (z = 0),
        C[0].push(z);
      var Y;
      Q & 1
        ? ((H = (_.andln(7) + O) & 7),
          (H === 3 || H === 5) && G === 2 ? (Y = -Q) : (Y = Q))
        : (Y = 0),
        C[1].push(Y),
        2 * P === z + 1 && (P = 1 - P),
        2 * O === Y + 1 && (O = 1 - O),
        y.iushrn(1),
        _.iushrn(1);
    }
    return C;
  }
  e.getJSF = h;
  function f(y, _, C) {
    var P = "_" + _;
    y.prototype[_] = function () {
      return this[P] !== void 0 ? this[P] : (this[P] = C.call(this));
    };
  }
  e.cachedProperty = f;
  function v(y) {
    return typeof y == "string" ? e.toArray(y, "hex") : y;
  }
  e.parseBytes = v;
  function g(y) {
    return new t(y, "hex", "le");
  }
  e.intFromLE = g;
})(Si);
var R0 = { exports: {} },
  ll;
R0.exports = function (e) {
  return ll || (ll = new Bs(null)), ll.generate(e);
};
function Bs(r) {
  this.rand = r;
}
R0.exports.Rand = Bs;
Bs.prototype.generate = function (e) {
  return this._rand(e);
};
Bs.prototype._rand = function (e) {
  if (this.rand.getBytes) return this.rand.getBytes(e);
  for (var t = new Uint8Array(e), i = 0; i < t.length; i++)
    t[i] = this.rand.getByte();
  return t;
};
if (typeof self == "object")
  self.crypto && self.crypto.getRandomValues
    ? (Bs.prototype._rand = function (e) {
        var t = new Uint8Array(e);
        return self.crypto.getRandomValues(t), t;
      })
    : self.msCrypto && self.msCrypto.getRandomValues
    ? (Bs.prototype._rand = function (e) {
        var t = new Uint8Array(e);
        return self.msCrypto.getRandomValues(t), t;
      })
    : typeof window == "object" &&
      (Bs.prototype._rand = function () {
        throw new Error("Not implemented yet");
      });
else
  try {
    var S1 = S0;
    if (typeof S1.randomBytes != "function") throw new Error("Not supported");
    Bs.prototype._rand = function (e) {
      return S1.randomBytes(e);
    };
  } catch {}
var ob = R0.exports,
  T0 = {},
  sa = ys,
  Sc = Si,
  ff = Sc.getNAF,
  Q7 = Sc.getJSF,
  uf = Sc.assert;
function ks(r, e) {
  (this.type = r),
    (this.p = new sa(e.p, 16)),
    (this.red = e.prime ? sa.red(e.prime) : sa.mont(this.p)),
    (this.zero = new sa(0).toRed(this.red)),
    (this.one = new sa(1).toRed(this.red)),
    (this.two = new sa(2).toRed(this.red)),
    (this.n = e.n && new sa(e.n, 16)),
    (this.g = e.g && this.pointFromJSON(e.g, e.gRed)),
    (this._wnafT1 = new Array(4)),
    (this._wnafT2 = new Array(4)),
    (this._wnafT3 = new Array(4)),
    (this._wnafT4 = new Array(4)),
    (this._bitLength = this.n ? this.n.bitLength() : 0);
  var t = this.n && this.p.div(this.n);
  !t || t.cmpn(100) > 0
    ? (this.redN = null)
    : ((this._maxwellTrick = !0), (this.redN = this.n.toRed(this.red)));
}
var Rf = ks;
ks.prototype.point = function () {
  throw new Error("Not implemented");
};
ks.prototype.validate = function () {
  throw new Error("Not implemented");
};
ks.prototype._fixedNafMul = function (e, t) {
  uf(e.precomputed);
  var i = e._getDoubles(),
    n = ff(t, 1, this._bitLength),
    a = (1 << (i.step + 1)) - (i.step % 2 === 0 ? 2 : 1);
  a /= 3;
  var h = [],
    f,
    v;
  for (f = 0; f < n.length; f += i.step) {
    v = 0;
    for (var g = f + i.step - 1; g >= f; g--) v = (v << 1) + n[g];
    h.push(v);
  }
  for (
    var y = this.jpoint(null, null, null),
      _ = this.jpoint(null, null, null),
      C = a;
    C > 0;
    C--
  ) {
    for (f = 0; f < h.length; f++)
      (v = h[f]),
        v === C
          ? (_ = _.mixedAdd(i.points[f]))
          : v === -C && (_ = _.mixedAdd(i.points[f].neg()));
    y = y.add(_);
  }
  return y.toP();
};
ks.prototype._wnafMul = function (e, t) {
  var i = 4,
    n = e._getNAFPoints(i);
  i = n.wnd;
  for (
    var a = n.points,
      h = ff(t, i, this._bitLength),
      f = this.jpoint(null, null, null),
      v = h.length - 1;
    v >= 0;
    v--
  ) {
    for (var g = 0; v >= 0 && h[v] === 0; v--) g++;
    if ((v >= 0 && g++, (f = f.dblp(g)), v < 0)) break;
    var y = h[v];
    uf(y !== 0),
      e.type === "affine"
        ? y > 0
          ? (f = f.mixedAdd(a[(y - 1) >> 1]))
          : (f = f.mixedAdd(a[(-y - 1) >> 1].neg()))
        : y > 0
        ? (f = f.add(a[(y - 1) >> 1]))
        : (f = f.add(a[(-y - 1) >> 1].neg()));
  }
  return e.type === "affine" ? f.toP() : f;
};
ks.prototype._wnafMulAdd = function (e, t, i, n, a) {
  var h = this._wnafT1,
    f = this._wnafT2,
    v = this._wnafT3,
    g = 0,
    y,
    _,
    C;
  for (y = 0; y < n; y++) {
    C = t[y];
    var P = C._getNAFPoints(e);
    (h[y] = P.wnd), (f[y] = P.points);
  }
  for (y = n - 1; y >= 1; y -= 2) {
    var O = y - 1,
      H = y;
    if (h[O] !== 1 || h[H] !== 1) {
      (v[O] = ff(i[O], h[O], this._bitLength)),
        (v[H] = ff(i[H], h[H], this._bitLength)),
        (g = Math.max(v[O].length, g)),
        (g = Math.max(v[H].length, g));
      continue;
    }
    var G = [t[O], null, null, t[H]];
    t[O].y.cmp(t[H].y) === 0
      ? ((G[1] = t[O].add(t[H])), (G[2] = t[O].toJ().mixedAdd(t[H].neg())))
      : t[O].y.cmp(t[H].y.redNeg()) === 0
      ? ((G[1] = t[O].toJ().mixedAdd(t[H])), (G[2] = t[O].add(t[H].neg())))
      : ((G[1] = t[O].toJ().mixedAdd(t[H])),
        (G[2] = t[O].toJ().mixedAdd(t[H].neg())));
    var Q = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
      z = Q7(i[O], i[H]);
    for (
      g = Math.max(z[0].length, g),
        v[O] = new Array(g),
        v[H] = new Array(g),
        _ = 0;
      _ < g;
      _++
    ) {
      var Y = z[0][_] | 0,
        q = z[1][_] | 0;
      (v[O][_] = Q[(Y + 1) * 3 + (q + 1)]), (v[H][_] = 0), (f[O] = G);
    }
  }
  var k = this.jpoint(null, null, null),
    V = this._wnafT4;
  for (y = g; y >= 0; y--) {
    for (var A = 0; y >= 0; ) {
      var F = !0;
      for (_ = 0; _ < n; _++) (V[_] = v[_][y] | 0), V[_] !== 0 && (F = !1);
      if (!F) break;
      A++, y--;
    }
    if ((y >= 0 && A++, (k = k.dblp(A)), y < 0)) break;
    for (_ = 0; _ < n; _++) {
      var ae = V[_];
      ae !== 0 &&
        (ae > 0
          ? (C = f[_][(ae - 1) >> 1])
          : ae < 0 && (C = f[_][(-ae - 1) >> 1].neg()),
        C.type === "affine" ? (k = k.mixedAdd(C)) : (k = k.add(C)));
    }
  }
  for (y = 0; y < n; y++) f[y] = null;
  return a ? k : k.toP();
};
function Ki(r, e) {
  (this.curve = r), (this.type = e), (this.precomputed = null);
}
ks.BasePoint = Ki;
Ki.prototype.eq = function () {
  throw new Error("Not implemented");
};
Ki.prototype.validate = function () {
  return this.curve.validate(this);
};
ks.prototype.decodePoint = function (e, t) {
  e = Sc.toArray(e, t);
  var i = this.p.byteLength();
  if ((e[0] === 4 || e[0] === 6 || e[0] === 7) && e.length - 1 === 2 * i) {
    e[0] === 6
      ? uf(e[e.length - 1] % 2 === 0)
      : e[0] === 7 && uf(e[e.length - 1] % 2 === 1);
    var n = this.point(e.slice(1, 1 + i), e.slice(1 + i, 1 + 2 * i));
    return n;
  } else if ((e[0] === 2 || e[0] === 3) && e.length - 1 === i)
    return this.pointFromX(e.slice(1, 1 + i), e[0] === 3);
  throw new Error("Unknown point format");
};
Ki.prototype.encodeCompressed = function (e) {
  return this.encode(e, !0);
};
Ki.prototype._encode = function (e) {
  var t = this.curve.p.byteLength(),
    i = this.getX().toArray("be", t);
  return e
    ? [this.getY().isEven() ? 2 : 3].concat(i)
    : [4].concat(i, this.getY().toArray("be", t));
};
Ki.prototype.encode = function (e, t) {
  return Sc.encode(this._encode(t), e);
};
Ki.prototype.precompute = function (e) {
  if (this.precomputed) return this;
  var t = { doubles: null, naf: null, beta: null };
  return (
    (t.naf = this._getNAFPoints(8)),
    (t.doubles = this._getDoubles(4, e)),
    (t.beta = this._getBeta()),
    (this.precomputed = t),
    this
  );
};
Ki.prototype._hasDoubles = function (e) {
  if (!this.precomputed) return !1;
  var t = this.precomputed.doubles;
  return t ? t.points.length >= Math.ceil((e.bitLength() + 1) / t.step) : !1;
};
Ki.prototype._getDoubles = function (e, t) {
  if (this.precomputed && this.precomputed.doubles)
    return this.precomputed.doubles;
  for (var i = [this], n = this, a = 0; a < t; a += e) {
    for (var h = 0; h < e; h++) n = n.dbl();
    i.push(n);
  }
  return { step: e, points: i };
};
Ki.prototype._getNAFPoints = function (e) {
  if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;
  for (
    var t = [this], i = (1 << e) - 1, n = i === 1 ? null : this.dbl(), a = 1;
    a < i;
    a++
  )
    t[a] = t[a - 1].add(n);
  return { wnd: e, points: t };
};
Ki.prototype._getBeta = function () {
  return null;
};
Ki.prototype.dblp = function (e) {
  for (var t = this, i = 0; i < e; i++) t = t.dbl();
  return t;
};
var X7 = Si,
  nr = ys,
  F0 = Mf,
  fo = Rf,
  Z7 = X7.assert;
function Vi(r) {
  fo.call(this, "short", r),
    (this.a = new nr(r.a, 16).toRed(this.red)),
    (this.b = new nr(r.b, 16).toRed(this.red)),
    (this.tinv = this.two.redInvm()),
    (this.zeroA = this.a.fromRed().cmpn(0) === 0),
    (this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0),
    (this.endo = this._getEndomorphism(r)),
    (this._endoWnafT1 = new Array(4)),
    (this._endoWnafT2 = new Array(4));
}
F0(Vi, fo);
var e9 = Vi;
Vi.prototype._getEndomorphism = function (e) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var t, i;
    if (e.beta) t = new nr(e.beta, 16).toRed(this.red);
    else {
      var n = this._getEndoRoots(this.p);
      (t = n[0].cmp(n[1]) < 0 ? n[0] : n[1]), (t = t.toRed(this.red));
    }
    if (e.lambda) i = new nr(e.lambda, 16);
    else {
      var a = this._getEndoRoots(this.n);
      this.g.mul(a[0]).x.cmp(this.g.x.redMul(t)) === 0
        ? (i = a[0])
        : ((i = a[1]), Z7(this.g.mul(i).x.cmp(this.g.x.redMul(t)) === 0));
    }
    var h;
    return (
      e.basis
        ? (h = e.basis.map(function (f) {
            return { a: new nr(f.a, 16), b: new nr(f.b, 16) };
          }))
        : (h = this._getEndoBasis(i)),
      { beta: t, lambda: i, basis: h }
    );
  }
};
Vi.prototype._getEndoRoots = function (e) {
  var t = e === this.p ? this.red : nr.mont(e),
    i = new nr(2).toRed(t).redInvm(),
    n = i.redNeg(),
    a = new nr(3).toRed(t).redNeg().redSqrt().redMul(i),
    h = n.redAdd(a).fromRed(),
    f = n.redSub(a).fromRed();
  return [h, f];
};
Vi.prototype._getEndoBasis = function (e) {
  for (
    var t = this.n.ushrn(Math.floor(this.n.bitLength() / 2)),
      i = e,
      n = this.n.clone(),
      a = new nr(1),
      h = new nr(0),
      f = new nr(0),
      v = new nr(1),
      g,
      y,
      _,
      C,
      P,
      O,
      H,
      G = 0,
      Q,
      z;
    i.cmpn(0) !== 0;

  ) {
    var Y = n.div(i);
    (Q = n.sub(Y.mul(i))), (z = f.sub(Y.mul(a)));
    var q = v.sub(Y.mul(h));
    if (!_ && Q.cmp(t) < 0) (g = H.neg()), (y = a), (_ = Q.neg()), (C = z);
    else if (_ && ++G === 2) break;
    (H = Q), (n = i), (i = Q), (f = a), (a = z), (v = h), (h = q);
  }
  (P = Q.neg()), (O = z);
  var k = _.sqr().add(C.sqr()),
    V = P.sqr().add(O.sqr());
  return (
    V.cmp(k) >= 0 && ((P = g), (O = y)),
    _.negative && ((_ = _.neg()), (C = C.neg())),
    P.negative && ((P = P.neg()), (O = O.neg())),
    [
      { a: _, b: C },
      { a: P, b: O },
    ]
  );
};
Vi.prototype._endoSplit = function (e) {
  var t = this.endo.basis,
    i = t[0],
    n = t[1],
    a = n.b.mul(e).divRound(this.n),
    h = i.b.neg().mul(e).divRound(this.n),
    f = a.mul(i.a),
    v = h.mul(n.a),
    g = a.mul(i.b),
    y = h.mul(n.b),
    _ = e.sub(f).sub(v),
    C = g.add(y).neg();
  return { k1: _, k2: C };
};
Vi.prototype.pointFromX = function (e, t) {
  (e = new nr(e, 16)), e.red || (e = e.toRed(this.red));
  var i = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),
    n = i.redSqrt();
  if (n.redSqr().redSub(i).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var a = n.fromRed().isOdd();
  return ((t && !a) || (!t && a)) && (n = n.redNeg()), this.point(e, n);
};
Vi.prototype.validate = function (e) {
  if (e.inf) return !0;
  var t = e.x,
    i = e.y,
    n = this.a.redMul(t),
    a = t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);
  return i.redSqr().redISub(a).cmpn(0) === 0;
};
Vi.prototype._endoWnafMulAdd = function (e, t, i) {
  for (
    var n = this._endoWnafT1, a = this._endoWnafT2, h = 0;
    h < e.length;
    h++
  ) {
    var f = this._endoSplit(t[h]),
      v = e[h],
      g = v._getBeta();
    f.k1.negative && (f.k1.ineg(), (v = v.neg(!0))),
      f.k2.negative && (f.k2.ineg(), (g = g.neg(!0))),
      (n[h * 2] = v),
      (n[h * 2 + 1] = g),
      (a[h * 2] = f.k1),
      (a[h * 2 + 1] = f.k2);
  }
  for (var y = this._wnafMulAdd(1, n, a, h * 2, i), _ = 0; _ < h * 2; _++)
    (n[_] = null), (a[_] = null);
  return y;
};
function Mr(r, e, t, i) {
  fo.BasePoint.call(this, r, "affine"),
    e === null && t === null
      ? ((this.x = null), (this.y = null), (this.inf = !0))
      : ((this.x = new nr(e, 16)),
        (this.y = new nr(t, 16)),
        i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)),
        this.x.red || (this.x = this.x.toRed(this.curve.red)),
        this.y.red || (this.y = this.y.toRed(this.curve.red)),
        (this.inf = !1));
}
F0(Mr, fo.BasePoint);
Vi.prototype.point = function (e, t, i) {
  return new Mr(this, e, t, i);
};
Vi.prototype.pointFromJSON = function (e, t) {
  return Mr.fromJSON(this, e, t);
};
Mr.prototype._getBeta = function () {
  if (this.curve.endo) {
    var e = this.precomputed;
    if (e && e.beta) return e.beta;
    var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
    if (e) {
      var i = this.curve,
        n = function (a) {
          return i.point(a.x.redMul(i.endo.beta), a.y);
        };
      (e.beta = t),
        (t.precomputed = {
          beta: null,
          naf: e.naf && { wnd: e.naf.wnd, points: e.naf.points.map(n) },
          doubles: e.doubles && {
            step: e.doubles.step,
            points: e.doubles.points.map(n),
          },
        });
    }
    return t;
  }
};
Mr.prototype.toJSON = function () {
  return this.precomputed
    ? [
        this.x,
        this.y,
        this.precomputed && {
          doubles: this.precomputed.doubles && {
            step: this.precomputed.doubles.step,
            points: this.precomputed.doubles.points.slice(1),
          },
          naf: this.precomputed.naf && {
            wnd: this.precomputed.naf.wnd,
            points: this.precomputed.naf.points.slice(1),
          },
        },
      ]
    : [this.x, this.y];
};
Mr.fromJSON = function (e, t, i) {
  typeof t == "string" && (t = JSON.parse(t));
  var n = e.point(t[0], t[1], i);
  if (!t[2]) return n;
  function a(f) {
    return e.point(f[0], f[1], i);
  }
  var h = t[2];
  return (
    (n.precomputed = {
      beta: null,
      doubles: h.doubles && {
        step: h.doubles.step,
        points: [n].concat(h.doubles.points.map(a)),
      },
      naf: h.naf && { wnd: h.naf.wnd, points: [n].concat(h.naf.points.map(a)) },
    }),
    n
  );
};
Mr.prototype.inspect = function () {
  return this.isInfinity()
    ? "<EC Point Infinity>"
    : "<EC Point x: " +
        this.x.fromRed().toString(16, 2) +
        " y: " +
        this.y.fromRed().toString(16, 2) +
        ">";
};
Mr.prototype.isInfinity = function () {
  return this.inf;
};
Mr.prototype.add = function (e) {
  if (this.inf) return e;
  if (e.inf) return this;
  if (this.eq(e)) return this.dbl();
  if (this.neg().eq(e)) return this.curve.point(null, null);
  if (this.x.cmp(e.x) === 0) return this.curve.point(null, null);
  var t = this.y.redSub(e.y);
  t.cmpn(0) !== 0 && (t = t.redMul(this.x.redSub(e.x).redInvm()));
  var i = t.redSqr().redISub(this.x).redISub(e.x),
    n = t.redMul(this.x.redSub(i)).redISub(this.y);
  return this.curve.point(i, n);
};
Mr.prototype.dbl = function () {
  if (this.inf) return this;
  var e = this.y.redAdd(this.y);
  if (e.cmpn(0) === 0) return this.curve.point(null, null);
  var t = this.curve.a,
    i = this.x.redSqr(),
    n = e.redInvm(),
    a = i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),
    h = a.redSqr().redISub(this.x.redAdd(this.x)),
    f = a.redMul(this.x.redSub(h)).redISub(this.y);
  return this.curve.point(h, f);
};
Mr.prototype.getX = function () {
  return this.x.fromRed();
};
Mr.prototype.getY = function () {
  return this.y.fromRed();
};
Mr.prototype.mul = function (e) {
  return (
    (e = new nr(e, 16)),
    this.isInfinity()
      ? this
      : this._hasDoubles(e)
      ? this.curve._fixedNafMul(this, e)
      : this.curve.endo
      ? this.curve._endoWnafMulAdd([this], [e])
      : this.curve._wnafMul(this, e)
  );
};
Mr.prototype.mulAdd = function (e, t, i) {
  var n = [this, t],
    a = [e, i];
  return this.curve.endo
    ? this.curve._endoWnafMulAdd(n, a)
    : this.curve._wnafMulAdd(1, n, a, 2);
};
Mr.prototype.jmulAdd = function (e, t, i) {
  var n = [this, t],
    a = [e, i];
  return this.curve.endo
    ? this.curve._endoWnafMulAdd(n, a, !0)
    : this.curve._wnafMulAdd(1, n, a, 2, !0);
};
Mr.prototype.eq = function (e) {
  return (
    this === e ||
    (this.inf === e.inf &&
      (this.inf || (this.x.cmp(e.x) === 0 && this.y.cmp(e.y) === 0)))
  );
};
Mr.prototype.neg = function (e) {
  if (this.inf) return this;
  var t = this.curve.point(this.x, this.y.redNeg());
  if (e && this.precomputed) {
    var i = this.precomputed,
      n = function (a) {
        return a.neg();
      };
    t.precomputed = {
      naf: i.naf && { wnd: i.naf.wnd, points: i.naf.points.map(n) },
      doubles: i.doubles && {
        step: i.doubles.step,
        points: i.doubles.points.map(n),
      },
    };
  }
  return t;
};
Mr.prototype.toJ = function () {
  if (this.inf) return this.curve.jpoint(null, null, null);
  var e = this.curve.jpoint(this.x, this.y, this.curve.one);
  return e;
};
function Or(r, e, t, i) {
  fo.BasePoint.call(this, r, "jacobian"),
    e === null && t === null && i === null
      ? ((this.x = this.curve.one),
        (this.y = this.curve.one),
        (this.z = new nr(0)))
      : ((this.x = new nr(e, 16)),
        (this.y = new nr(t, 16)),
        (this.z = new nr(i, 16))),
    this.x.red || (this.x = this.x.toRed(this.curve.red)),
    this.y.red || (this.y = this.y.toRed(this.curve.red)),
    this.z.red || (this.z = this.z.toRed(this.curve.red)),
    (this.zOne = this.z === this.curve.one);
}
F0(Or, fo.BasePoint);
Vi.prototype.jpoint = function (e, t, i) {
  return new Or(this, e, t, i);
};
Or.prototype.toP = function () {
  if (this.isInfinity()) return this.curve.point(null, null);
  var e = this.z.redInvm(),
    t = e.redSqr(),
    i = this.x.redMul(t),
    n = this.y.redMul(t).redMul(e);
  return this.curve.point(i, n);
};
Or.prototype.neg = function () {
  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
};
Or.prototype.add = function (e) {
  if (this.isInfinity()) return e;
  if (e.isInfinity()) return this;
  var t = e.z.redSqr(),
    i = this.z.redSqr(),
    n = this.x.redMul(t),
    a = e.x.redMul(i),
    h = this.y.redMul(t.redMul(e.z)),
    f = e.y.redMul(i.redMul(this.z)),
    v = n.redSub(a),
    g = h.redSub(f);
  if (v.cmpn(0) === 0)
    return g.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var y = v.redSqr(),
    _ = y.redMul(v),
    C = n.redMul(y),
    P = g.redSqr().redIAdd(_).redISub(C).redISub(C),
    O = g.redMul(C.redISub(P)).redISub(h.redMul(_)),
    H = this.z.redMul(e.z).redMul(v);
  return this.curve.jpoint(P, O, H);
};
Or.prototype.mixedAdd = function (e) {
  if (this.isInfinity()) return e.toJ();
  if (e.isInfinity()) return this;
  var t = this.z.redSqr(),
    i = this.x,
    n = e.x.redMul(t),
    a = this.y,
    h = e.y.redMul(t).redMul(this.z),
    f = i.redSub(n),
    v = a.redSub(h);
  if (f.cmpn(0) === 0)
    return v.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var g = f.redSqr(),
    y = g.redMul(f),
    _ = i.redMul(g),
    C = v.redSqr().redIAdd(y).redISub(_).redISub(_),
    P = v.redMul(_.redISub(C)).redISub(a.redMul(y)),
    O = this.z.redMul(f);
  return this.curve.jpoint(C, P, O);
};
Or.prototype.dblp = function (e) {
  if (e === 0) return this;
  if (this.isInfinity()) return this;
  if (!e) return this.dbl();
  var t;
  if (this.curve.zeroA || this.curve.threeA) {
    var i = this;
    for (t = 0; t < e; t++) i = i.dbl();
    return i;
  }
  var n = this.curve.a,
    a = this.curve.tinv,
    h = this.x,
    f = this.y,
    v = this.z,
    g = v.redSqr().redSqr(),
    y = f.redAdd(f);
  for (t = 0; t < e; t++) {
    var _ = h.redSqr(),
      C = y.redSqr(),
      P = C.redSqr(),
      O = _.redAdd(_).redIAdd(_).redIAdd(n.redMul(g)),
      H = h.redMul(C),
      G = O.redSqr().redISub(H.redAdd(H)),
      Q = H.redISub(G),
      z = O.redMul(Q);
    z = z.redIAdd(z).redISub(P);
    var Y = y.redMul(v);
    t + 1 < e && (g = g.redMul(P)), (h = G), (v = Y), (y = z);
  }
  return this.curve.jpoint(h, y.redMul(a), v);
};
Or.prototype.dbl = function () {
  return this.isInfinity()
    ? this
    : this.curve.zeroA
    ? this._zeroDbl()
    : this.curve.threeA
    ? this._threeDbl()
    : this._dbl();
};
Or.prototype._zeroDbl = function () {
  var e, t, i;
  if (this.zOne) {
    var n = this.x.redSqr(),
      a = this.y.redSqr(),
      h = a.redSqr(),
      f = this.x.redAdd(a).redSqr().redISub(n).redISub(h);
    f = f.redIAdd(f);
    var v = n.redAdd(n).redIAdd(n),
      g = v.redSqr().redISub(f).redISub(f),
      y = h.redIAdd(h);
    (y = y.redIAdd(y)),
      (y = y.redIAdd(y)),
      (e = g),
      (t = v.redMul(f.redISub(g)).redISub(y)),
      (i = this.y.redAdd(this.y));
  } else {
    var _ = this.x.redSqr(),
      C = this.y.redSqr(),
      P = C.redSqr(),
      O = this.x.redAdd(C).redSqr().redISub(_).redISub(P);
    O = O.redIAdd(O);
    var H = _.redAdd(_).redIAdd(_),
      G = H.redSqr(),
      Q = P.redIAdd(P);
    (Q = Q.redIAdd(Q)),
      (Q = Q.redIAdd(Q)),
      (e = G.redISub(O).redISub(O)),
      (t = H.redMul(O.redISub(e)).redISub(Q)),
      (i = this.y.redMul(this.z)),
      (i = i.redIAdd(i));
  }
  return this.curve.jpoint(e, t, i);
};
Or.prototype._threeDbl = function () {
  var e, t, i;
  if (this.zOne) {
    var n = this.x.redSqr(),
      a = this.y.redSqr(),
      h = a.redSqr(),
      f = this.x.redAdd(a).redSqr().redISub(n).redISub(h);
    f = f.redIAdd(f);
    var v = n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),
      g = v.redSqr().redISub(f).redISub(f);
    e = g;
    var y = h.redIAdd(h);
    (y = y.redIAdd(y)),
      (y = y.redIAdd(y)),
      (t = v.redMul(f.redISub(g)).redISub(y)),
      (i = this.y.redAdd(this.y));
  } else {
    var _ = this.z.redSqr(),
      C = this.y.redSqr(),
      P = this.x.redMul(C),
      O = this.x.redSub(_).redMul(this.x.redAdd(_));
    O = O.redAdd(O).redIAdd(O);
    var H = P.redIAdd(P);
    H = H.redIAdd(H);
    var G = H.redAdd(H);
    (e = O.redSqr().redISub(G)),
      (i = this.y.redAdd(this.z).redSqr().redISub(C).redISub(_));
    var Q = C.redSqr();
    (Q = Q.redIAdd(Q)),
      (Q = Q.redIAdd(Q)),
      (Q = Q.redIAdd(Q)),
      (t = O.redMul(H.redISub(e)).redISub(Q));
  }
  return this.curve.jpoint(e, t, i);
};
Or.prototype._dbl = function () {
  var e = this.curve.a,
    t = this.x,
    i = this.y,
    n = this.z,
    a = n.redSqr().redSqr(),
    h = t.redSqr(),
    f = i.redSqr(),
    v = h.redAdd(h).redIAdd(h).redIAdd(e.redMul(a)),
    g = t.redAdd(t);
  g = g.redIAdd(g);
  var y = g.redMul(f),
    _ = v.redSqr().redISub(y.redAdd(y)),
    C = y.redISub(_),
    P = f.redSqr();
  (P = P.redIAdd(P)), (P = P.redIAdd(P)), (P = P.redIAdd(P));
  var O = v.redMul(C).redISub(P),
    H = i.redAdd(i).redMul(n);
  return this.curve.jpoint(_, O, H);
};
Or.prototype.trpl = function () {
  if (!this.curve.zeroA) return this.dbl().add(this);
  var e = this.x.redSqr(),
    t = this.y.redSqr(),
    i = this.z.redSqr(),
    n = t.redSqr(),
    a = e.redAdd(e).redIAdd(e),
    h = a.redSqr(),
    f = this.x.redAdd(t).redSqr().redISub(e).redISub(n);
  (f = f.redIAdd(f)), (f = f.redAdd(f).redIAdd(f)), (f = f.redISub(h));
  var v = f.redSqr(),
    g = n.redIAdd(n);
  (g = g.redIAdd(g)), (g = g.redIAdd(g)), (g = g.redIAdd(g));
  var y = a.redIAdd(f).redSqr().redISub(h).redISub(v).redISub(g),
    _ = t.redMul(y);
  (_ = _.redIAdd(_)), (_ = _.redIAdd(_));
  var C = this.x.redMul(v).redISub(_);
  (C = C.redIAdd(C)), (C = C.redIAdd(C));
  var P = this.y.redMul(y.redMul(g.redISub(y)).redISub(f.redMul(v)));
  (P = P.redIAdd(P)), (P = P.redIAdd(P)), (P = P.redIAdd(P));
  var O = this.z.redAdd(f).redSqr().redISub(i).redISub(v);
  return this.curve.jpoint(C, P, O);
};
Or.prototype.mul = function (e, t) {
  return (e = new nr(e, t)), this.curve._wnafMul(this, e);
};
Or.prototype.eq = function (e) {
  if (e.type === "affine") return this.eq(e.toJ());
  if (this === e) return !0;
  var t = this.z.redSqr(),
    i = e.z.redSqr();
  if (this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0) !== 0) return !1;
  var n = t.redMul(this.z),
    a = i.redMul(e.z);
  return this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0) === 0;
};
Or.prototype.eqXToP = function (e) {
  var t = this.z.redSqr(),
    i = e.toRed(this.curve.red).redMul(t);
  if (this.x.cmp(i) === 0) return !0;
  for (var n = e.clone(), a = this.curve.redN.redMul(t); ; ) {
    if ((n.iadd(this.curve.n), n.cmp(this.curve.p) >= 0)) return !1;
    if ((i.redIAdd(a), this.x.cmp(i) === 0)) return !0;
  }
};
Or.prototype.inspect = function () {
  return this.isInfinity()
    ? "<EC JPoint Infinity>"
    : "<EC JPoint x: " +
        this.x.toString(16, 2) +
        " y: " +
        this.y.toString(16, 2) +
        " z: " +
        this.z.toString(16, 2) +
        ">";
};
Or.prototype.isInfinity = function () {
  return this.z.cmpn(0) === 0;
};
var Za = ys,
  cb = Mf,
  Tf = Rf,
  t9 = Si;
function uo(r) {
  Tf.call(this, "mont", r),
    (this.a = new Za(r.a, 16).toRed(this.red)),
    (this.b = new Za(r.b, 16).toRed(this.red)),
    (this.i4 = new Za(4).toRed(this.red).redInvm()),
    (this.two = new Za(2).toRed(this.red)),
    (this.a24 = this.i4.redMul(this.a.redAdd(this.two)));
}
cb(uo, Tf);
var r9 = uo;
uo.prototype.validate = function (e) {
  var t = e.normalize().x,
    i = t.redSqr(),
    n = i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t),
    a = n.redSqrt();
  return a.redSqr().cmp(n) === 0;
};
function Sr(r, e, t) {
  Tf.BasePoint.call(this, r, "projective"),
    e === null && t === null
      ? ((this.x = this.curve.one), (this.z = this.curve.zero))
      : ((this.x = new Za(e, 16)),
        (this.z = new Za(t, 16)),
        this.x.red || (this.x = this.x.toRed(this.curve.red)),
        this.z.red || (this.z = this.z.toRed(this.curve.red)));
}
cb(Sr, Tf.BasePoint);
uo.prototype.decodePoint = function (e, t) {
  return this.point(t9.toArray(e, t), 1);
};
uo.prototype.point = function (e, t) {
  return new Sr(this, e, t);
};
uo.prototype.pointFromJSON = function (e) {
  return Sr.fromJSON(this, e);
};
Sr.prototype.precompute = function () {};
Sr.prototype._encode = function () {
  return this.getX().toArray("be", this.curve.p.byteLength());
};
Sr.fromJSON = function (e, t) {
  return new Sr(e, t[0], t[1] || e.one);
};
Sr.prototype.inspect = function () {
  return this.isInfinity()
    ? "<EC Point Infinity>"
    : "<EC Point x: " +
        this.x.fromRed().toString(16, 2) +
        " z: " +
        this.z.fromRed().toString(16, 2) +
        ">";
};
Sr.prototype.isInfinity = function () {
  return this.z.cmpn(0) === 0;
};
Sr.prototype.dbl = function () {
  var e = this.x.redAdd(this.z),
    t = e.redSqr(),
    i = this.x.redSub(this.z),
    n = i.redSqr(),
    a = t.redSub(n),
    h = t.redMul(n),
    f = a.redMul(n.redAdd(this.curve.a24.redMul(a)));
  return this.curve.point(h, f);
};
Sr.prototype.add = function () {
  throw new Error("Not supported on Montgomery curve");
};
Sr.prototype.diffAdd = function (e, t) {
  var i = this.x.redAdd(this.z),
    n = this.x.redSub(this.z),
    a = e.x.redAdd(e.z),
    h = e.x.redSub(e.z),
    f = h.redMul(i),
    v = a.redMul(n),
    g = t.z.redMul(f.redAdd(v).redSqr()),
    y = t.x.redMul(f.redISub(v).redSqr());
  return this.curve.point(g, y);
};
Sr.prototype.mul = function (e) {
  for (
    var t = e.clone(),
      i = this,
      n = this.curve.point(null, null),
      a = this,
      h = [];
    t.cmpn(0) !== 0;
    t.iushrn(1)
  )
    h.push(t.andln(1));
  for (var f = h.length - 1; f >= 0; f--)
    h[f] === 0
      ? ((i = i.diffAdd(n, a)), (n = n.dbl()))
      : ((n = i.diffAdd(n, a)), (i = i.dbl()));
  return n;
};
Sr.prototype.mulAdd = function () {
  throw new Error("Not supported on Montgomery curve");
};
Sr.prototype.jumlAdd = function () {
  throw new Error("Not supported on Montgomery curve");
};
Sr.prototype.eq = function (e) {
  return this.getX().cmp(e.getX()) === 0;
};
Sr.prototype.normalize = function () {
  return (
    (this.x = this.x.redMul(this.z.redInvm())), (this.z = this.curve.one), this
  );
};
Sr.prototype.getX = function () {
  return this.normalize(), this.x.fromRed();
};
var i9 = Si,
  ps = ys,
  hb = Mf,
  Ff = Rf,
  n9 = i9.assert;
function Vn(r) {
  (this.twisted = (r.a | 0) !== 1),
    (this.mOneA = this.twisted && (r.a | 0) === -1),
    (this.extended = this.mOneA),
    Ff.call(this, "edwards", r),
    (this.a = new ps(r.a, 16).umod(this.red.m)),
    (this.a = this.a.toRed(this.red)),
    (this.c = new ps(r.c, 16).toRed(this.red)),
    (this.c2 = this.c.redSqr()),
    (this.d = new ps(r.d, 16).toRed(this.red)),
    (this.dd = this.d.redAdd(this.d)),
    n9(!this.twisted || this.c.fromRed().cmpn(1) === 0),
    (this.oneC = (r.c | 0) === 1);
}
hb(Vn, Ff);
var s9 = Vn;
Vn.prototype._mulA = function (e) {
  return this.mOneA ? e.redNeg() : this.a.redMul(e);
};
Vn.prototype._mulC = function (e) {
  return this.oneC ? e : this.c.redMul(e);
};
Vn.prototype.jpoint = function (e, t, i, n) {
  return this.point(e, t, i, n);
};
Vn.prototype.pointFromX = function (e, t) {
  (e = new ps(e, 16)), e.red || (e = e.toRed(this.red));
  var i = e.redSqr(),
    n = this.c2.redSub(this.a.redMul(i)),
    a = this.one.redSub(this.c2.redMul(this.d).redMul(i)),
    h = n.redMul(a.redInvm()),
    f = h.redSqrt();
  if (f.redSqr().redSub(h).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var v = f.fromRed().isOdd();
  return ((t && !v) || (!t && v)) && (f = f.redNeg()), this.point(e, f);
};
Vn.prototype.pointFromY = function (e, t) {
  (e = new ps(e, 16)), e.red || (e = e.toRed(this.red));
  var i = e.redSqr(),
    n = i.redSub(this.c2),
    a = i.redMul(this.d).redMul(this.c2).redSub(this.a),
    h = n.redMul(a.redInvm());
  if (h.cmp(this.zero) === 0) {
    if (t) throw new Error("invalid point");
    return this.point(this.zero, e);
  }
  var f = h.redSqrt();
  if (f.redSqr().redSub(h).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  return f.fromRed().isOdd() !== t && (f = f.redNeg()), this.point(f, e);
};
Vn.prototype.validate = function (e) {
  if (e.isInfinity()) return !0;
  e.normalize();
  var t = e.x.redSqr(),
    i = e.y.redSqr(),
    n = t.redMul(this.a).redAdd(i),
    a = this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));
  return n.cmp(a) === 0;
};
function Wt(r, e, t, i, n) {
  Ff.BasePoint.call(this, r, "projective"),
    e === null && t === null && i === null
      ? ((this.x = this.curve.zero),
        (this.y = this.curve.one),
        (this.z = this.curve.one),
        (this.t = this.curve.zero),
        (this.zOne = !0))
      : ((this.x = new ps(e, 16)),
        (this.y = new ps(t, 16)),
        (this.z = i ? new ps(i, 16) : this.curve.one),
        (this.t = n && new ps(n, 16)),
        this.x.red || (this.x = this.x.toRed(this.curve.red)),
        this.y.red || (this.y = this.y.toRed(this.curve.red)),
        this.z.red || (this.z = this.z.toRed(this.curve.red)),
        this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)),
        (this.zOne = this.z === this.curve.one),
        this.curve.extended &&
          !this.t &&
          ((this.t = this.x.redMul(this.y)),
          this.zOne || (this.t = this.t.redMul(this.z.redInvm()))));
}
hb(Wt, Ff.BasePoint);
Vn.prototype.pointFromJSON = function (e) {
  return Wt.fromJSON(this, e);
};
Vn.prototype.point = function (e, t, i, n) {
  return new Wt(this, e, t, i, n);
};
Wt.fromJSON = function (e, t) {
  return new Wt(e, t[0], t[1], t[2]);
};
Wt.prototype.inspect = function () {
  return this.isInfinity()
    ? "<EC Point Infinity>"
    : "<EC Point x: " +
        this.x.fromRed().toString(16, 2) +
        " y: " +
        this.y.fromRed().toString(16, 2) +
        " z: " +
        this.z.fromRed().toString(16, 2) +
        ">";
};
Wt.prototype.isInfinity = function () {
  return (
    this.x.cmpn(0) === 0 &&
    (this.y.cmp(this.z) === 0 || (this.zOne && this.y.cmp(this.curve.c) === 0))
  );
};
Wt.prototype._extDbl = function () {
  var e = this.x.redSqr(),
    t = this.y.redSqr(),
    i = this.z.redSqr();
  i = i.redIAdd(i);
  var n = this.curve._mulA(e),
    a = this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),
    h = n.redAdd(t),
    f = h.redSub(i),
    v = n.redSub(t),
    g = a.redMul(f),
    y = h.redMul(v),
    _ = a.redMul(v),
    C = f.redMul(h);
  return this.curve.point(g, y, C, _);
};
Wt.prototype._projDbl = function () {
  var e = this.x.redAdd(this.y).redSqr(),
    t = this.x.redSqr(),
    i = this.y.redSqr(),
    n,
    a,
    h,
    f,
    v,
    g;
  if (this.curve.twisted) {
    f = this.curve._mulA(t);
    var y = f.redAdd(i);
    this.zOne
      ? ((n = e.redSub(t).redSub(i).redMul(y.redSub(this.curve.two))),
        (a = y.redMul(f.redSub(i))),
        (h = y.redSqr().redSub(y).redSub(y)))
      : ((v = this.z.redSqr()),
        (g = y.redSub(v).redISub(v)),
        (n = e.redSub(t).redISub(i).redMul(g)),
        (a = y.redMul(f.redSub(i))),
        (h = y.redMul(g)));
  } else
    (f = t.redAdd(i)),
      (v = this.curve._mulC(this.z).redSqr()),
      (g = f.redSub(v).redSub(v)),
      (n = this.curve._mulC(e.redISub(f)).redMul(g)),
      (a = this.curve._mulC(f).redMul(t.redISub(i))),
      (h = f.redMul(g));
  return this.curve.point(n, a, h);
};
Wt.prototype.dbl = function () {
  return this.isInfinity()
    ? this
    : this.curve.extended
    ? this._extDbl()
    : this._projDbl();
};
Wt.prototype._extAdd = function (e) {
  var t = this.y.redSub(this.x).redMul(e.y.redSub(e.x)),
    i = this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),
    n = this.t.redMul(this.curve.dd).redMul(e.t),
    a = this.z.redMul(e.z.redAdd(e.z)),
    h = i.redSub(t),
    f = a.redSub(n),
    v = a.redAdd(n),
    g = i.redAdd(t),
    y = h.redMul(f),
    _ = v.redMul(g),
    C = h.redMul(g),
    P = f.redMul(v);
  return this.curve.point(y, _, P, C);
};
Wt.prototype._projAdd = function (e) {
  var t = this.z.redMul(e.z),
    i = t.redSqr(),
    n = this.x.redMul(e.x),
    a = this.y.redMul(e.y),
    h = this.curve.d.redMul(n).redMul(a),
    f = i.redSub(h),
    v = i.redAdd(h),
    g = this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(a),
    y = t.redMul(f).redMul(g),
    _,
    C;
  return (
    this.curve.twisted
      ? ((_ = t.redMul(v).redMul(a.redSub(this.curve._mulA(n)))),
        (C = f.redMul(v)))
      : ((_ = t.redMul(v).redMul(a.redSub(n))),
        (C = this.curve._mulC(f).redMul(v))),
    this.curve.point(y, _, C)
  );
};
Wt.prototype.add = function (e) {
  return this.isInfinity()
    ? e
    : e.isInfinity()
    ? this
    : this.curve.extended
    ? this._extAdd(e)
    : this._projAdd(e);
};
Wt.prototype.mul = function (e) {
  return this._hasDoubles(e)
    ? this.curve._fixedNafMul(this, e)
    : this.curve._wnafMul(this, e);
};
Wt.prototype.mulAdd = function (e, t, i) {
  return this.curve._wnafMulAdd(1, [this, t], [e, i], 2, !1);
};
Wt.prototype.jmulAdd = function (e, t, i) {
  return this.curve._wnafMulAdd(1, [this, t], [e, i], 2, !0);
};
Wt.prototype.normalize = function () {
  if (this.zOne) return this;
  var e = this.z.redInvm();
  return (
    (this.x = this.x.redMul(e)),
    (this.y = this.y.redMul(e)),
    this.t && (this.t = this.t.redMul(e)),
    (this.z = this.curve.one),
    (this.zOne = !0),
    this
  );
};
Wt.prototype.neg = function () {
  return this.curve.point(
    this.x.redNeg(),
    this.y,
    this.z,
    this.t && this.t.redNeg()
  );
};
Wt.prototype.getX = function () {
  return this.normalize(), this.x.fromRed();
};
Wt.prototype.getY = function () {
  return this.normalize(), this.y.fromRed();
};
Wt.prototype.eq = function (e) {
  return (
    this === e ||
    (this.getX().cmp(e.getX()) === 0 && this.getY().cmp(e.getY()) === 0)
  );
};
Wt.prototype.eqXToP = function (e) {
  var t = e.toRed(this.curve.red).redMul(this.z);
  if (this.x.cmp(t) === 0) return !0;
  for (var i = e.clone(), n = this.curve.redN.redMul(this.z); ; ) {
    if ((i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)) return !1;
    if ((t.redIAdd(n), this.x.cmp(t) === 0)) return !0;
  }
};
Wt.prototype.toP = Wt.prototype.normalize;
Wt.prototype.mixedAdd = Wt.prototype.add;
(function (r) {
  var e = r;
  (e.base = Rf), (e.short = e9), (e.mont = r9), (e.edwards = s9);
})(T0);
var Bf = {},
  Lf = {},
  Pt = {},
  a9 = wa,
  o9 = Mf;
Pt.inherits = o9;
function c9(r, e) {
  return (r.charCodeAt(e) & 64512) !== 55296 || e < 0 || e + 1 >= r.length
    ? !1
    : (r.charCodeAt(e + 1) & 64512) === 56320;
}
function h9(r, e) {
  if (Array.isArray(r)) return r.slice();
  if (!r) return [];
  var t = [];
  if (typeof r == "string")
    if (e) {
      if (e === "hex")
        for (
          r = r.replace(/[^a-z0-9]+/gi, ""),
            r.length % 2 !== 0 && (r = "0" + r),
            n = 0;
          n < r.length;
          n += 2
        )
          t.push(parseInt(r[n] + r[n + 1], 16));
    } else
      for (var i = 0, n = 0; n < r.length; n++) {
        var a = r.charCodeAt(n);
        a < 128
          ? (t[i++] = a)
          : a < 2048
          ? ((t[i++] = (a >> 6) | 192), (t[i++] = (a & 63) | 128))
          : c9(r, n)
          ? ((a = 65536 + ((a & 1023) << 10) + (r.charCodeAt(++n) & 1023)),
            (t[i++] = (a >> 18) | 240),
            (t[i++] = ((a >> 12) & 63) | 128),
            (t[i++] = ((a >> 6) & 63) | 128),
            (t[i++] = (a & 63) | 128))
          : ((t[i++] = (a >> 12) | 224),
            (t[i++] = ((a >> 6) & 63) | 128),
            (t[i++] = (a & 63) | 128));
      }
  else for (n = 0; n < r.length; n++) t[n] = r[n] | 0;
  return t;
}
Pt.toArray = h9;
function f9(r) {
  for (var e = "", t = 0; t < r.length; t++) e += ub(r[t].toString(16));
  return e;
}
Pt.toHex = f9;
function fb(r) {
  var e =
    (r >>> 24) |
    ((r >>> 8) & 65280) |
    ((r << 8) & 16711680) |
    ((r & 255) << 24);
  return e >>> 0;
}
Pt.htonl = fb;
function u9(r, e) {
  for (var t = "", i = 0; i < r.length; i++) {
    var n = r[i];
    e === "little" && (n = fb(n)), (t += lb(n.toString(16)));
  }
  return t;
}
Pt.toHex32 = u9;
function ub(r) {
  return r.length === 1 ? "0" + r : r;
}
Pt.zero2 = ub;
function lb(r) {
  return r.length === 7
    ? "0" + r
    : r.length === 6
    ? "00" + r
    : r.length === 5
    ? "000" + r
    : r.length === 4
    ? "0000" + r
    : r.length === 3
    ? "00000" + r
    : r.length === 2
    ? "000000" + r
    : r.length === 1
    ? "0000000" + r
    : r;
}
Pt.zero8 = lb;
function l9(r, e, t, i) {
  var n = t - e;
  a9(n % 4 === 0);
  for (var a = new Array(n / 4), h = 0, f = e; h < a.length; h++, f += 4) {
    var v;
    i === "big"
      ? (v = (r[f] << 24) | (r[f + 1] << 16) | (r[f + 2] << 8) | r[f + 3])
      : (v = (r[f + 3] << 24) | (r[f + 2] << 16) | (r[f + 1] << 8) | r[f]),
      (a[h] = v >>> 0);
  }
  return a;
}
Pt.join32 = l9;
function d9(r, e) {
  for (
    var t = new Array(r.length * 4), i = 0, n = 0;
    i < r.length;
    i++, n += 4
  ) {
    var a = r[i];
    e === "big"
      ? ((t[n] = a >>> 24),
        (t[n + 1] = (a >>> 16) & 255),
        (t[n + 2] = (a >>> 8) & 255),
        (t[n + 3] = a & 255))
      : ((t[n + 3] = a >>> 24),
        (t[n + 2] = (a >>> 16) & 255),
        (t[n + 1] = (a >>> 8) & 255),
        (t[n] = a & 255));
  }
  return t;
}
Pt.split32 = d9;
function p9(r, e) {
  return (r >>> e) | (r << (32 - e));
}
Pt.rotr32 = p9;
function g9(r, e) {
  return (r << e) | (r >>> (32 - e));
}
Pt.rotl32 = g9;
function v9(r, e) {
  return (r + e) >>> 0;
}
Pt.sum32 = v9;
function b9(r, e, t) {
  return (r + e + t) >>> 0;
}
Pt.sum32_3 = b9;
function m9(r, e, t, i) {
  return (r + e + t + i) >>> 0;
}
Pt.sum32_4 = m9;
function y9(r, e, t, i, n) {
  return (r + e + t + i + n) >>> 0;
}
Pt.sum32_5 = y9;
function w9(r, e, t, i) {
  var n = r[e],
    a = r[e + 1],
    h = (i + a) >>> 0,
    f = (h < i ? 1 : 0) + t + n;
  (r[e] = f >>> 0), (r[e + 1] = h);
}
Pt.sum64 = w9;
function _9(r, e, t, i) {
  var n = (e + i) >>> 0,
    a = (n < e ? 1 : 0) + r + t;
  return a >>> 0;
}
Pt.sum64_hi = _9;
function A9(r, e, t, i) {
  var n = e + i;
  return n >>> 0;
}
Pt.sum64_lo = A9;
function E9(r, e, t, i, n, a, h, f) {
  var v = 0,
    g = e;
  (g = (g + i) >>> 0),
    (v += g < e ? 1 : 0),
    (g = (g + a) >>> 0),
    (v += g < a ? 1 : 0),
    (g = (g + f) >>> 0),
    (v += g < f ? 1 : 0);
  var y = r + t + n + h + v;
  return y >>> 0;
}
Pt.sum64_4_hi = E9;
function x9(r, e, t, i, n, a, h, f) {
  var v = e + i + a + f;
  return v >>> 0;
}
Pt.sum64_4_lo = x9;
function S9(r, e, t, i, n, a, h, f, v, g) {
  var y = 0,
    _ = e;
  (_ = (_ + i) >>> 0),
    (y += _ < e ? 1 : 0),
    (_ = (_ + a) >>> 0),
    (y += _ < a ? 1 : 0),
    (_ = (_ + f) >>> 0),
    (y += _ < f ? 1 : 0),
    (_ = (_ + g) >>> 0),
    (y += _ < g ? 1 : 0);
  var C = r + t + n + h + v + y;
  return C >>> 0;
}
Pt.sum64_5_hi = S9;
function M9(r, e, t, i, n, a, h, f, v, g) {
  var y = e + i + a + f + g;
  return y >>> 0;
}
Pt.sum64_5_lo = M9;
function I9(r, e, t) {
  var i = (e << (32 - t)) | (r >>> t);
  return i >>> 0;
}
Pt.rotr64_hi = I9;
function D9(r, e, t) {
  var i = (r << (32 - t)) | (e >>> t);
  return i >>> 0;
}
Pt.rotr64_lo = D9;
function P9(r, e, t) {
  return r >>> t;
}
Pt.shr64_hi = P9;
function C9(r, e, t) {
  var i = (r << (32 - t)) | (e >>> t);
  return i >>> 0;
}
Pt.shr64_lo = C9;
var lo = {},
  M1 = Pt,
  O9 = wa;
function qf() {
  (this.pending = null),
    (this.pendingTotal = 0),
    (this.blockSize = this.constructor.blockSize),
    (this.outSize = this.constructor.outSize),
    (this.hmacStrength = this.constructor.hmacStrength),
    (this.padLength = this.constructor.padLength / 8),
    (this.endian = "big"),
    (this._delta8 = this.blockSize / 8),
    (this._delta32 = this.blockSize / 32);
}
lo.BlockHash = qf;
qf.prototype.update = function (e, t) {
  if (
    ((e = M1.toArray(e, t)),
    this.pending ? (this.pending = this.pending.concat(e)) : (this.pending = e),
    (this.pendingTotal += e.length),
    this.pending.length >= this._delta8)
  ) {
    e = this.pending;
    var i = e.length % this._delta8;
    (this.pending = e.slice(e.length - i, e.length)),
      this.pending.length === 0 && (this.pending = null),
      (e = M1.join32(e, 0, e.length - i, this.endian));
    for (var n = 0; n < e.length; n += this._delta32)
      this._update(e, n, n + this._delta32);
  }
  return this;
};
qf.prototype.digest = function (e) {
  return this.update(this._pad()), O9(this.pending === null), this._digest(e);
};
qf.prototype._pad = function () {
  var e = this.pendingTotal,
    t = this._delta8,
    i = t - ((e + this.padLength) % t),
    n = new Array(i + this.padLength);
  n[0] = 128;
  for (var a = 1; a < i; a++) n[a] = 0;
  if (((e <<= 3), this.endian === "big")) {
    for (var h = 8; h < this.padLength; h++) n[a++] = 0;
    (n[a++] = 0),
      (n[a++] = 0),
      (n[a++] = 0),
      (n[a++] = 0),
      (n[a++] = (e >>> 24) & 255),
      (n[a++] = (e >>> 16) & 255),
      (n[a++] = (e >>> 8) & 255),
      (n[a++] = e & 255);
  } else
    for (
      n[a++] = e & 255,
        n[a++] = (e >>> 8) & 255,
        n[a++] = (e >>> 16) & 255,
        n[a++] = (e >>> 24) & 255,
        n[a++] = 0,
        n[a++] = 0,
        n[a++] = 0,
        n[a++] = 0,
        h = 8;
      h < this.padLength;
      h++
    )
      n[a++] = 0;
  return n;
};
var po = {},
  Gn = {},
  N9 = Pt,
  Rn = N9.rotr32;
function R9(r, e, t, i) {
  if (r === 0) return db(e, t, i);
  if (r === 1 || r === 3) return gb(e, t, i);
  if (r === 2) return pb(e, t, i);
}
Gn.ft_1 = R9;
function db(r, e, t) {
  return (r & e) ^ (~r & t);
}
Gn.ch32 = db;
function pb(r, e, t) {
  return (r & e) ^ (r & t) ^ (e & t);
}
Gn.maj32 = pb;
function gb(r, e, t) {
  return r ^ e ^ t;
}
Gn.p32 = gb;
function T9(r) {
  return Rn(r, 2) ^ Rn(r, 13) ^ Rn(r, 22);
}
Gn.s0_256 = T9;
function F9(r) {
  return Rn(r, 6) ^ Rn(r, 11) ^ Rn(r, 25);
}
Gn.s1_256 = F9;
function B9(r) {
  return Rn(r, 7) ^ Rn(r, 18) ^ (r >>> 3);
}
Gn.g0_256 = B9;
function L9(r) {
  return Rn(r, 17) ^ Rn(r, 19) ^ (r >>> 10);
}
Gn.g1_256 = L9;
var io = Pt,
  q9 = lo,
  U9 = Gn,
  dl = io.rotl32,
  Vo = io.sum32,
  $9 = io.sum32_5,
  z9 = U9.ft_1,
  vb = q9.BlockHash,
  k9 = [1518500249, 1859775393, 2400959708, 3395469782];
function zn() {
  if (!(this instanceof zn)) return new zn();
  vb.call(this),
    (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
    (this.W = new Array(80));
}
io.inherits(zn, vb);
var j9 = zn;
zn.blockSize = 512;
zn.outSize = 160;
zn.hmacStrength = 80;
zn.padLength = 64;
zn.prototype._update = function (e, t) {
  for (var i = this.W, n = 0; n < 16; n++) i[n] = e[t + n];
  for (; n < i.length; n++)
    i[n] = dl(i[n - 3] ^ i[n - 8] ^ i[n - 14] ^ i[n - 16], 1);
  var a = this.h[0],
    h = this.h[1],
    f = this.h[2],
    v = this.h[3],
    g = this.h[4];
  for (n = 0; n < i.length; n++) {
    var y = ~~(n / 20),
      _ = $9(dl(a, 5), z9(y, h, f, v), g, i[n], k9[y]);
    (g = v), (v = f), (f = dl(h, 30)), (h = a), (a = _);
  }
  (this.h[0] = Vo(this.h[0], a)),
    (this.h[1] = Vo(this.h[1], h)),
    (this.h[2] = Vo(this.h[2], f)),
    (this.h[3] = Vo(this.h[3], v)),
    (this.h[4] = Vo(this.h[4], g));
};
zn.prototype._digest = function (e) {
  return e === "hex" ? io.toHex32(this.h, "big") : io.split32(this.h, "big");
};
var no = Pt,
  H9 = lo,
  go = Gn,
  K9 = wa,
  sn = no.sum32,
  V9 = no.sum32_4,
  G9 = no.sum32_5,
  W9 = go.ch32,
  J9 = go.maj32,
  Y9 = go.s0_256,
  Q9 = go.s1_256,
  X9 = go.g0_256,
  Z9 = go.g1_256,
  bb = H9.BlockHash,
  eA = [
    1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
    2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
    1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
    2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
    1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
    3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
    1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
    2428436474, 2756734187, 3204031479, 3329325298,
  ];
function kn() {
  if (!(this instanceof kn)) return new kn();
  bb.call(this),
    (this.h = [
      1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924,
      528734635, 1541459225,
    ]),
    (this.k = eA),
    (this.W = new Array(64));
}
no.inherits(kn, bb);
var mb = kn;
kn.blockSize = 512;
kn.outSize = 256;
kn.hmacStrength = 192;
kn.padLength = 64;
kn.prototype._update = function (e, t) {
  for (var i = this.W, n = 0; n < 16; n++) i[n] = e[t + n];
  for (; n < i.length; n++)
    i[n] = V9(Z9(i[n - 2]), i[n - 7], X9(i[n - 15]), i[n - 16]);
  var a = this.h[0],
    h = this.h[1],
    f = this.h[2],
    v = this.h[3],
    g = this.h[4],
    y = this.h[5],
    _ = this.h[6],
    C = this.h[7];
  for (K9(this.k.length === i.length), n = 0; n < i.length; n++) {
    var P = G9(C, Q9(g), W9(g, y, _), this.k[n], i[n]),
      O = sn(Y9(a), J9(a, h, f));
    (C = _),
      (_ = y),
      (y = g),
      (g = sn(v, P)),
      (v = f),
      (f = h),
      (h = a),
      (a = sn(P, O));
  }
  (this.h[0] = sn(this.h[0], a)),
    (this.h[1] = sn(this.h[1], h)),
    (this.h[2] = sn(this.h[2], f)),
    (this.h[3] = sn(this.h[3], v)),
    (this.h[4] = sn(this.h[4], g)),
    (this.h[5] = sn(this.h[5], y)),
    (this.h[6] = sn(this.h[6], _)),
    (this.h[7] = sn(this.h[7], C));
};
kn.prototype._digest = function (e) {
  return e === "hex" ? no.toHex32(this.h, "big") : no.split32(this.h, "big");
};
var n0 = Pt,
  yb = mb;
function vs() {
  if (!(this instanceof vs)) return new vs();
  yb.call(this),
    (this.h = [
      3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025,
      1694076839, 3204075428,
    ]);
}
n0.inherits(vs, yb);
var tA = vs;
vs.blockSize = 512;
vs.outSize = 224;
vs.hmacStrength = 192;
vs.padLength = 64;
vs.prototype._digest = function (e) {
  return e === "hex"
    ? n0.toHex32(this.h.slice(0, 7), "big")
    : n0.split32(this.h.slice(0, 7), "big");
};
var ui = Pt,
  rA = lo,
  iA = wa,
  Tn = ui.rotr64_hi,
  Fn = ui.rotr64_lo,
  wb = ui.shr64_hi,
  _b = ui.shr64_lo,
  Cs = ui.sum64,
  pl = ui.sum64_hi,
  gl = ui.sum64_lo,
  nA = ui.sum64_4_hi,
  sA = ui.sum64_4_lo,
  aA = ui.sum64_5_hi,
  oA = ui.sum64_5_lo,
  Ab = rA.BlockHash,
  cA = [
    1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
    3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
    2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394,
    310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994,
    1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317,
    3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139,
    264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901,
    1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837,
    2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879,
    3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901,
    113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964,
    773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823,
    1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142,
    2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273,
    3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344,
    3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720,
    430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593,
    883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403,
    1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
    2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
    2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
    3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
    3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
    174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
    685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
    1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866,
    1607167915, 987167468, 1816402316, 1246189591,
  ];
function pn() {
  if (!(this instanceof pn)) return new pn();
  Ab.call(this),
    (this.h = [
      1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723,
      2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199,
      528734635, 4215389547, 1541459225, 327033209,
    ]),
    (this.k = cA),
    (this.W = new Array(160));
}
ui.inherits(pn, Ab);
var Eb = pn;
pn.blockSize = 1024;
pn.outSize = 512;
pn.hmacStrength = 192;
pn.padLength = 128;
pn.prototype._prepareBlock = function (e, t) {
  for (var i = this.W, n = 0; n < 32; n++) i[n] = e[t + n];
  for (; n < i.length; n += 2) {
    var a = yA(i[n - 4], i[n - 3]),
      h = wA(i[n - 4], i[n - 3]),
      f = i[n - 14],
      v = i[n - 13],
      g = bA(i[n - 30], i[n - 29]),
      y = mA(i[n - 30], i[n - 29]),
      _ = i[n - 32],
      C = i[n - 31];
    (i[n] = nA(a, h, f, v, g, y, _, C)),
      (i[n + 1] = sA(a, h, f, v, g, y, _, C));
  }
};
pn.prototype._update = function (e, t) {
  this._prepareBlock(e, t);
  var i = this.W,
    n = this.h[0],
    a = this.h[1],
    h = this.h[2],
    f = this.h[3],
    v = this.h[4],
    g = this.h[5],
    y = this.h[6],
    _ = this.h[7],
    C = this.h[8],
    P = this.h[9],
    O = this.h[10],
    H = this.h[11],
    G = this.h[12],
    Q = this.h[13],
    z = this.h[14],
    Y = this.h[15];
  iA(this.k.length === i.length);
  for (var q = 0; q < i.length; q += 2) {
    var k = z,
      V = Y,
      A = gA(C, P),
      F = vA(C, P),
      ae = hA(C, P, O, H, G),
      de = fA(C, P, O, H, G, Q),
      U = this.k[q],
      m = this.k[q + 1],
      c = i[q],
      l = i[q + 1],
      b = aA(k, V, A, F, ae, de, U, m, c, l),
      x = oA(k, V, A, F, ae, de, U, m, c, l);
    (k = dA(n, a)),
      (V = pA(n, a)),
      (A = uA(n, a, h, f, v)),
      (F = lA(n, a, h, f, v, g));
    var M = pl(k, V, A, F),
      D = gl(k, V, A, F);
    (z = G),
      (Y = Q),
      (G = O),
      (Q = H),
      (O = C),
      (H = P),
      (C = pl(y, _, b, x)),
      (P = gl(_, _, b, x)),
      (y = v),
      (_ = g),
      (v = h),
      (g = f),
      (h = n),
      (f = a),
      (n = pl(b, x, M, D)),
      (a = gl(b, x, M, D));
  }
  Cs(this.h, 0, n, a),
    Cs(this.h, 2, h, f),
    Cs(this.h, 4, v, g),
    Cs(this.h, 6, y, _),
    Cs(this.h, 8, C, P),
    Cs(this.h, 10, O, H),
    Cs(this.h, 12, G, Q),
    Cs(this.h, 14, z, Y);
};
pn.prototype._digest = function (e) {
  return e === "hex" ? ui.toHex32(this.h, "big") : ui.split32(this.h, "big");
};
function hA(r, e, t, i, n) {
  var a = (r & t) ^ (~r & n);
  return a < 0 && (a += 4294967296), a;
}
function fA(r, e, t, i, n, a) {
  var h = (e & i) ^ (~e & a);
  return h < 0 && (h += 4294967296), h;
}
function uA(r, e, t, i, n) {
  var a = (r & t) ^ (r & n) ^ (t & n);
  return a < 0 && (a += 4294967296), a;
}
function lA(r, e, t, i, n, a) {
  var h = (e & i) ^ (e & a) ^ (i & a);
  return h < 0 && (h += 4294967296), h;
}
function dA(r, e) {
  var t = Tn(r, e, 28),
    i = Tn(e, r, 2),
    n = Tn(e, r, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function pA(r, e) {
  var t = Fn(r, e, 28),
    i = Fn(e, r, 2),
    n = Fn(e, r, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function gA(r, e) {
  var t = Tn(r, e, 14),
    i = Tn(r, e, 18),
    n = Tn(e, r, 9),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function vA(r, e) {
  var t = Fn(r, e, 14),
    i = Fn(r, e, 18),
    n = Fn(e, r, 9),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function bA(r, e) {
  var t = Tn(r, e, 1),
    i = Tn(r, e, 8),
    n = wb(r, e, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function mA(r, e) {
  var t = Fn(r, e, 1),
    i = Fn(r, e, 8),
    n = _b(r, e, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function yA(r, e) {
  var t = Tn(r, e, 19),
    i = Tn(e, r, 29),
    n = wb(r, e, 6),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function wA(r, e) {
  var t = Fn(r, e, 19),
    i = Fn(e, r, 29),
    n = _b(r, e, 6),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
var s0 = Pt,
  xb = Eb;
function bs() {
  if (!(this instanceof bs)) return new bs();
  xb.call(this),
    (this.h = [
      3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999,
      355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025,
      3675008525, 1694076839, 1203062813, 3204075428,
    ]);
}
s0.inherits(bs, xb);
var _A = bs;
bs.blockSize = 1024;
bs.outSize = 384;
bs.hmacStrength = 192;
bs.padLength = 128;
bs.prototype._digest = function (e) {
  return e === "hex"
    ? s0.toHex32(this.h.slice(0, 12), "big")
    : s0.split32(this.h.slice(0, 12), "big");
};
po.sha1 = j9;
po.sha224 = tA;
po.sha256 = mb;
po.sha384 = _A;
po.sha512 = Eb;
var Sb = {},
  ga = Pt,
  AA = lo,
  qh = ga.rotl32,
  I1 = ga.sum32,
  Go = ga.sum32_3,
  D1 = ga.sum32_4,
  Mb = AA.BlockHash;
function jn() {
  if (!(this instanceof jn)) return new jn();
  Mb.call(this),
    (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
    (this.endian = "little");
}
ga.inherits(jn, Mb);
Sb.ripemd160 = jn;
jn.blockSize = 512;
jn.outSize = 160;
jn.hmacStrength = 192;
jn.padLength = 64;
jn.prototype._update = function (e, t) {
  for (
    var i = this.h[0],
      n = this.h[1],
      a = this.h[2],
      h = this.h[3],
      f = this.h[4],
      v = i,
      g = n,
      y = a,
      _ = h,
      C = f,
      P = 0;
    P < 80;
    P++
  ) {
    var O = I1(qh(D1(i, P1(P, n, a, h), e[SA[P] + t], EA(P)), IA[P]), f);
    (i = f),
      (f = h),
      (h = qh(a, 10)),
      (a = n),
      (n = O),
      (O = I1(qh(D1(v, P1(79 - P, g, y, _), e[MA[P] + t], xA(P)), DA[P]), C)),
      (v = C),
      (C = _),
      (_ = qh(y, 10)),
      (y = g),
      (g = O);
  }
  (O = Go(this.h[1], a, _)),
    (this.h[1] = Go(this.h[2], h, C)),
    (this.h[2] = Go(this.h[3], f, v)),
    (this.h[3] = Go(this.h[4], i, g)),
    (this.h[4] = Go(this.h[0], n, y)),
    (this.h[0] = O);
};
jn.prototype._digest = function (e) {
  return e === "hex"
    ? ga.toHex32(this.h, "little")
    : ga.split32(this.h, "little");
};
function P1(r, e, t, i) {
  return r <= 15
    ? e ^ t ^ i
    : r <= 31
    ? (e & t) | (~e & i)
    : r <= 47
    ? (e | ~t) ^ i
    : r <= 63
    ? (e & i) | (t & ~i)
    : e ^ (t | ~i);
}
function EA(r) {
  return r <= 15
    ? 0
    : r <= 31
    ? 1518500249
    : r <= 47
    ? 1859775393
    : r <= 63
    ? 2400959708
    : 2840853838;
}
function xA(r) {
  return r <= 15
    ? 1352829926
    : r <= 31
    ? 1548603684
    : r <= 47
    ? 1836072691
    : r <= 63
    ? 2053994217
    : 0;
}
var SA = [
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6,
    15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13,
    11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9,
    7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13,
  ],
  MA = [
    5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5,
    10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10,
    0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10,
    4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11,
  ],
  IA = [
    11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9,
    7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13,
    6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9,
    15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6,
  ],
  DA = [
    8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8,
    9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14,
    13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5,
    12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11,
  ],
  PA = Pt,
  CA = wa;
function so(r, e, t) {
  if (!(this instanceof so)) return new so(r, e, t);
  (this.Hash = r),
    (this.blockSize = r.blockSize / 8),
    (this.outSize = r.outSize / 8),
    (this.inner = null),
    (this.outer = null),
    this._init(PA.toArray(e, t));
}
var OA = so;
so.prototype._init = function (e) {
  e.length > this.blockSize && (e = new this.Hash().update(e).digest()),
    CA(e.length <= this.blockSize);
  for (var t = e.length; t < this.blockSize; t++) e.push(0);
  for (t = 0; t < e.length; t++) e[t] ^= 54;
  for (this.inner = new this.Hash().update(e), t = 0; t < e.length; t++)
    e[t] ^= 106;
  this.outer = new this.Hash().update(e);
};
so.prototype.update = function (e, t) {
  return this.inner.update(e, t), this;
};
so.prototype.digest = function (e) {
  return this.outer.update(this.inner.digest()), this.outer.digest(e);
};
(function (r) {
  var e = r;
  (e.utils = Pt),
    (e.common = lo),
    (e.sha = po),
    (e.ripemd = Sb),
    (e.hmac = OA),
    (e.sha1 = e.sha.sha1),
    (e.sha256 = e.sha.sha256),
    (e.sha224 = e.sha.sha224),
    (e.sha384 = e.sha.sha384),
    (e.sha512 = e.sha.sha512),
    (e.ripemd160 = e.ripemd.ripemd160);
})(Lf);
var vl, C1;
function NA() {
  return (
    C1 ||
      ((C1 = 1),
      (vl = {
        doubles: {
          step: 4,
          points: [
            [
              "e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a",
              "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821",
            ],
            [
              "8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508",
              "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf",
            ],
            [
              "175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739",
              "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695",
            ],
            [
              "363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640",
              "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9",
            ],
            [
              "8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c",
              "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36",
            ],
            [
              "723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda",
              "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f",
            ],
            [
              "eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa",
              "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999",
            ],
            [
              "100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0",
              "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09",
            ],
            [
              "e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d",
              "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d",
            ],
            [
              "feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d",
              "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088",
            ],
            [
              "da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1",
              "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d",
            ],
            [
              "53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0",
              "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8",
            ],
            [
              "8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047",
              "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a",
            ],
            [
              "385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862",
              "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453",
            ],
            [
              "6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7",
              "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160",
            ],
            [
              "3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd",
              "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0",
            ],
            [
              "85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83",
              "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6",
            ],
            [
              "948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a",
              "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589",
            ],
            [
              "6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8",
              "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17",
            ],
            [
              "e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d",
              "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda",
            ],
            [
              "e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725",
              "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd",
            ],
            [
              "213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754",
              "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2",
            ],
            [
              "4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c",
              "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6",
            ],
            [
              "fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6",
              "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f",
            ],
            [
              "76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39",
              "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01",
            ],
            [
              "c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891",
              "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3",
            ],
            [
              "d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b",
              "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f",
            ],
            [
              "b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03",
              "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7",
            ],
            [
              "e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d",
              "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78",
            ],
            [
              "a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070",
              "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1",
            ],
            [
              "90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4",
              "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150",
            ],
            [
              "8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da",
              "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82",
            ],
            [
              "e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11",
              "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc",
            ],
            [
              "8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e",
              "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b",
            ],
            [
              "e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41",
              "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51",
            ],
            [
              "b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef",
              "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45",
            ],
            [
              "d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8",
              "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120",
            ],
            [
              "324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d",
              "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84",
            ],
            [
              "4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96",
              "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d",
            ],
            [
              "9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd",
              "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d",
            ],
            [
              "6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5",
              "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8",
            ],
            [
              "a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266",
              "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8",
            ],
            [
              "7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71",
              "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac",
            ],
            [
              "928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac",
              "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f",
            ],
            [
              "85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751",
              "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962",
            ],
            [
              "ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e",
              "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907",
            ],
            [
              "827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241",
              "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec",
            ],
            [
              "eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3",
              "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d",
            ],
            [
              "e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f",
              "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414",
            ],
            [
              "1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19",
              "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd",
            ],
            [
              "146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be",
              "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0",
            ],
            [
              "fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9",
              "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811",
            ],
            [
              "da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2",
              "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1",
            ],
            [
              "a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13",
              "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c",
            ],
            [
              "174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c",
              "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73",
            ],
            [
              "959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba",
              "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd",
            ],
            [
              "d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151",
              "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405",
            ],
            [
              "64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073",
              "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589",
            ],
            [
              "8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458",
              "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e",
            ],
            [
              "13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b",
              "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27",
            ],
            [
              "bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366",
              "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1",
            ],
            [
              "8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa",
              "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482",
            ],
            [
              "8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0",
              "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945",
            ],
            [
              "dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787",
              "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573",
            ],
            [
              "f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e",
              "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82",
            ],
          ],
        },
        naf: {
          wnd: 7,
          points: [
            [
              "f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9",
              "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672",
            ],
            [
              "2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4",
              "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6",
            ],
            [
              "5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc",
              "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da",
            ],
            [
              "acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe",
              "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37",
            ],
            [
              "774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb",
              "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b",
            ],
            [
              "f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8",
              "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81",
            ],
            [
              "d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e",
              "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58",
            ],
            [
              "defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34",
              "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77",
            ],
            [
              "2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c",
              "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a",
            ],
            [
              "352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5",
              "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c",
            ],
            [
              "2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f",
              "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67",
            ],
            [
              "9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714",
              "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402",
            ],
            [
              "daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729",
              "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55",
            ],
            [
              "c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db",
              "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482",
            ],
            [
              "6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4",
              "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82",
            ],
            [
              "1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5",
              "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396",
            ],
            [
              "605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479",
              "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49",
            ],
            [
              "62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d",
              "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf",
            ],
            [
              "80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f",
              "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a",
            ],
            [
              "7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb",
              "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7",
            ],
            [
              "d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9",
              "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933",
            ],
            [
              "49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963",
              "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a",
            ],
            [
              "77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74",
              "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6",
            ],
            [
              "f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530",
              "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37",
            ],
            [
              "463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b",
              "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e",
            ],
            [
              "f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247",
              "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6",
            ],
            [
              "caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1",
              "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476",
            ],
            [
              "2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120",
              "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40",
            ],
            [
              "7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435",
              "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61",
            ],
            [
              "754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18",
              "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683",
            ],
            [
              "e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8",
              "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5",
            ],
            [
              "186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb",
              "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b",
            ],
            [
              "df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f",
              "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417",
            ],
            [
              "5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143",
              "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868",
            ],
            [
              "290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba",
              "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a",
            ],
            [
              "af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45",
              "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6",
            ],
            [
              "766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a",
              "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996",
            ],
            [
              "59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e",
              "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e",
            ],
            [
              "f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8",
              "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d",
            ],
            [
              "7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c",
              "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2",
            ],
            [
              "948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519",
              "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e",
            ],
            [
              "7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab",
              "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437",
            ],
            [
              "3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca",
              "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311",
            ],
            [
              "d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf",
              "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4",
            ],
            [
              "1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610",
              "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575",
            ],
            [
              "733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4",
              "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d",
            ],
            [
              "15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c",
              "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d",
            ],
            [
              "a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940",
              "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629",
            ],
            [
              "e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980",
              "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06",
            ],
            [
              "311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3",
              "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374",
            ],
            [
              "34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf",
              "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee",
            ],
            [
              "f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63",
              "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1",
            ],
            [
              "d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448",
              "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b",
            ],
            [
              "32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf",
              "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661",
            ],
            [
              "7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5",
              "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6",
            ],
            [
              "ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6",
              "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e",
            ],
            [
              "16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5",
              "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d",
            ],
            [
              "eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99",
              "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc",
            ],
            [
              "78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51",
              "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4",
            ],
            [
              "494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5",
              "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c",
            ],
            [
              "a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5",
              "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b",
            ],
            [
              "c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997",
              "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913",
            ],
            [
              "841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881",
              "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154",
            ],
            [
              "5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5",
              "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865",
            ],
            [
              "36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66",
              "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc",
            ],
            [
              "336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726",
              "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224",
            ],
            [
              "8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede",
              "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e",
            ],
            [
              "1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94",
              "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6",
            ],
            [
              "85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31",
              "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511",
            ],
            [
              "29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51",
              "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b",
            ],
            [
              "a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252",
              "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2",
            ],
            [
              "4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5",
              "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c",
            ],
            [
              "d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b",
              "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3",
            ],
            [
              "ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4",
              "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d",
            ],
            [
              "af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f",
              "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700",
            ],
            [
              "e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889",
              "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4",
            ],
            [
              "591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246",
              "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196",
            ],
            [
              "11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984",
              "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4",
            ],
            [
              "3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a",
              "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257",
            ],
            [
              "cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030",
              "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13",
            ],
            [
              "c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197",
              "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096",
            ],
            [
              "c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593",
              "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38",
            ],
            [
              "a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef",
              "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f",
            ],
            [
              "347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38",
              "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448",
            ],
            [
              "da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a",
              "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a",
            ],
            [
              "c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111",
              "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4",
            ],
            [
              "4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502",
              "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437",
            ],
            [
              "3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea",
              "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7",
            ],
            [
              "cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26",
              "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d",
            ],
            [
              "b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986",
              "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a",
            ],
            [
              "d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e",
              "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54",
            ],
            [
              "48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4",
              "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77",
            ],
            [
              "dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda",
              "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517",
            ],
            [
              "6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859",
              "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10",
            ],
            [
              "e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f",
              "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125",
            ],
            [
              "eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c",
              "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e",
            ],
            [
              "13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942",
              "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1",
            ],
            [
              "ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a",
              "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2",
            ],
            [
              "b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80",
              "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423",
            ],
            [
              "ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d",
              "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8",
            ],
            [
              "8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1",
              "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758",
            ],
            [
              "52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63",
              "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375",
            ],
            [
              "e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352",
              "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d",
            ],
            [
              "7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193",
              "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec",
            ],
            [
              "5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00",
              "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0",
            ],
            [
              "32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58",
              "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c",
            ],
            [
              "e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7",
              "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4",
            ],
            [
              "8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8",
              "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f",
            ],
            [
              "4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e",
              "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649",
            ],
            [
              "3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d",
              "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826",
            ],
            [
              "674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b",
              "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5",
            ],
            [
              "d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f",
              "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87",
            ],
            [
              "30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6",
              "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b",
            ],
            [
              "be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297",
              "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc",
            ],
            [
              "93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a",
              "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c",
            ],
            [
              "b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c",
              "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f",
            ],
            [
              "d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52",
              "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a",
            ],
            [
              "d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb",
              "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46",
            ],
            [
              "463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065",
              "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f",
            ],
            [
              "7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917",
              "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03",
            ],
            [
              "74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9",
              "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08",
            ],
            [
              "30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3",
              "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8",
            ],
            [
              "9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57",
              "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373",
            ],
            [
              "176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66",
              "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3",
            ],
            [
              "75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8",
              "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8",
            ],
            [
              "809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721",
              "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1",
            ],
            [
              "1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180",
              "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9",
            ],
          ],
        },
      })),
    vl
  );
}
(function (r) {
  var e = r,
    t = Lf,
    i = T0,
    n = Si,
    a = n.assert;
  function h(g) {
    g.type === "short"
      ? (this.curve = new i.short(g))
      : g.type === "edwards"
      ? (this.curve = new i.edwards(g))
      : (this.curve = new i.mont(g)),
      (this.g = this.curve.g),
      (this.n = this.curve.n),
      (this.hash = g.hash),
      a(this.g.validate(), "Invalid curve"),
      a(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
  }
  e.PresetCurve = h;
  function f(g, y) {
    Object.defineProperty(e, g, {
      configurable: !0,
      enumerable: !0,
      get: function () {
        var _ = new h(y);
        return (
          Object.defineProperty(e, g, {
            configurable: !0,
            enumerable: !0,
            value: _,
          }),
          _
        );
      },
    });
  }
  f("p192", {
    type: "short",
    prime: "p192",
    p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
    a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
    b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
    n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
    hash: t.sha256,
    gRed: !1,
    g: [
      "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
      "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811",
    ],
  }),
    f("p224", {
      type: "short",
      prime: "p224",
      p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
      a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
      b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
      n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
      hash: t.sha256,
      gRed: !1,
      g: [
        "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
        "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34",
      ],
    }),
    f("p256", {
      type: "short",
      prime: null,
      p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
      a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
      b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
      n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
      hash: t.sha256,
      gRed: !1,
      g: [
        "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
        "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5",
      ],
    }),
    f("p384", {
      type: "short",
      prime: null,
      p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
      a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
      b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
      n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
      hash: t.sha384,
      gRed: !1,
      g: [
        "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
        "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f",
      ],
    }),
    f("p521", {
      type: "short",
      prime: null,
      p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
      a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
      b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
      n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
      hash: t.sha512,
      gRed: !1,
      g: [
        "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
        "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650",
      ],
    }),
    f("curve25519", {
      type: "mont",
      prime: "p25519",
      p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
      a: "76d06",
      b: "1",
      n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
      hash: t.sha256,
      gRed: !1,
      g: ["9"],
    }),
    f("ed25519", {
      type: "edwards",
      prime: "p25519",
      p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
      a: "-1",
      c: "1",
      d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
      n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
      hash: t.sha256,
      gRed: !1,
      g: [
        "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
        "6666666666666666666666666666666666666666666666666666666666666658",
      ],
    });
  var v;
  try {
    v = NA();
  } catch {
    v = void 0;
  }
  f("secp256k1", {
    type: "short",
    prime: "k256",
    p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
    a: "0",
    b: "7",
    n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
    h: "1",
    hash: t.sha256,
    beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
    lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
    basis: [
      {
        a: "3086d221a7d46bcde86c90e49284eb15",
        b: "-e4437ed6010e88286f547fa90abfe4c3",
      },
      {
        a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
        b: "3086d221a7d46bcde86c90e49284eb15",
      },
    ],
    gRed: !1,
    g: [
      "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
      "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
      v,
    ],
  });
})(Bf);
var RA = Lf,
  la = N0,
  Ib = wa;
function Us(r) {
  if (!(this instanceof Us)) return new Us(r);
  (this.hash = r.hash),
    (this.predResist = !!r.predResist),
    (this.outLen = this.hash.outSize),
    (this.minEntropy = r.minEntropy || this.hash.hmacStrength),
    (this._reseed = null),
    (this.reseedInterval = null),
    (this.K = null),
    (this.V = null);
  var e = la.toArray(r.entropy, r.entropyEnc || "hex"),
    t = la.toArray(r.nonce, r.nonceEnc || "hex"),
    i = la.toArray(r.pers, r.persEnc || "hex");
  Ib(
    e.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
  ),
    this._init(e, t, i);
}
var TA = Us;
Us.prototype._init = function (e, t, i) {
  var n = e.concat(t).concat(i);
  (this.K = new Array(this.outLen / 8)), (this.V = new Array(this.outLen / 8));
  for (var a = 0; a < this.V.length; a++) (this.K[a] = 0), (this.V[a] = 1);
  this._update(n), (this._reseed = 1), (this.reseedInterval = 281474976710656);
};
Us.prototype._hmac = function () {
  return new RA.hmac(this.hash, this.K);
};
Us.prototype._update = function (e) {
  var t = this._hmac().update(this.V).update([0]);
  e && (t = t.update(e)),
    (this.K = t.digest()),
    (this.V = this._hmac().update(this.V).digest()),
    e &&
      ((this.K = this._hmac().update(this.V).update([1]).update(e).digest()),
      (this.V = this._hmac().update(this.V).digest()));
};
Us.prototype.reseed = function (e, t, i, n) {
  typeof t != "string" && ((n = i), (i = t), (t = null)),
    (e = la.toArray(e, t)),
    (i = la.toArray(i, n)),
    Ib(
      e.length >= this.minEntropy / 8,
      "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
    ),
    this._update(e.concat(i || [])),
    (this._reseed = 1);
};
Us.prototype.generate = function (e, t, i, n) {
  if (this._reseed > this.reseedInterval) throw new Error("Reseed is required");
  typeof t != "string" && ((n = i), (i = t), (t = null)),
    i && ((i = la.toArray(i, n || "hex")), this._update(i));
  for (var a = []; a.length < e; )
    (this.V = this._hmac().update(this.V).digest()), (a = a.concat(this.V));
  var h = a.slice(0, e);
  return this._update(i), this._reseed++, la.encode(h, t);
};
var FA = ys,
  BA = Si,
  a0 = BA.assert;
function kr(r, e) {
  (this.ec = r),
    (this.priv = null),
    (this.pub = null),
    e.priv && this._importPrivate(e.priv, e.privEnc),
    e.pub && this._importPublic(e.pub, e.pubEnc);
}
var LA = kr;
kr.fromPublic = function (e, t, i) {
  return t instanceof kr ? t : new kr(e, { pub: t, pubEnc: i });
};
kr.fromPrivate = function (e, t, i) {
  return t instanceof kr ? t : new kr(e, { priv: t, privEnc: i });
};
kr.prototype.validate = function () {
  var e = this.getPublic();
  return e.isInfinity()
    ? { result: !1, reason: "Invalid public key" }
    : e.validate()
    ? e.mul(this.ec.curve.n).isInfinity()
      ? { result: !0, reason: null }
      : { result: !1, reason: "Public key * N != O" }
    : { result: !1, reason: "Public key is not a point" };
};
kr.prototype.getPublic = function (e, t) {
  return (
    typeof e == "string" && ((t = e), (e = null)),
    this.pub || (this.pub = this.ec.g.mul(this.priv)),
    t ? this.pub.encode(t, e) : this.pub
  );
};
kr.prototype.getPrivate = function (e) {
  return e === "hex" ? this.priv.toString(16, 2) : this.priv;
};
kr.prototype._importPrivate = function (e, t) {
  (this.priv = new FA(e, t || 16)),
    (this.priv = this.priv.umod(this.ec.curve.n));
};
kr.prototype._importPublic = function (e, t) {
  if (e.x || e.y) {
    this.ec.curve.type === "mont"
      ? a0(e.x, "Need x coordinate")
      : (this.ec.curve.type === "short" || this.ec.curve.type === "edwards") &&
        a0(e.x && e.y, "Need both x and y coordinate"),
      (this.pub = this.ec.curve.point(e.x, e.y));
    return;
  }
  this.pub = this.ec.curve.decodePoint(e, t);
};
kr.prototype.derive = function (e) {
  return (
    e.validate() || a0(e.validate(), "public point not validated"),
    e.mul(this.priv).getX()
  );
};
kr.prototype.sign = function (e, t, i) {
  return this.ec.sign(e, this, t, i);
};
kr.prototype.verify = function (e, t) {
  return this.ec.verify(e, t, this);
};
kr.prototype.inspect = function () {
  return (
    "<Key priv: " +
    (this.priv && this.priv.toString(16, 2)) +
    " pub: " +
    (this.pub && this.pub.inspect()) +
    " >"
  );
};
var lf = ys,
  B0 = Si,
  qA = B0.assert;
function Uf(r, e) {
  if (r instanceof Uf) return r;
  this._importDER(r, e) ||
    (qA(r.r && r.s, "Signature without r or s"),
    (this.r = new lf(r.r, 16)),
    (this.s = new lf(r.s, 16)),
    r.recoveryParam === void 0
      ? (this.recoveryParam = null)
      : (this.recoveryParam = r.recoveryParam));
}
var UA = Uf;
function $A() {
  this.place = 0;
}
function bl(r, e) {
  var t = r[e.place++];
  if (!(t & 128)) return t;
  var i = t & 15;
  if (i === 0 || i > 4 || r[e.place] === 0) return !1;
  for (var n = 0, a = 0, h = e.place; a < i; a++, h++)
    (n <<= 8), (n |= r[h]), (n >>>= 0);
  return n <= 127 ? !1 : ((e.place = h), n);
}
function O1(r) {
  for (var e = 0, t = r.length - 1; !r[e] && !(r[e + 1] & 128) && e < t; ) e++;
  return e === 0 ? r : r.slice(e);
}
Uf.prototype._importDER = function (e, t) {
  e = B0.toArray(e, t);
  var i = new $A();
  if (e[i.place++] !== 48) return !1;
  var n = bl(e, i);
  if (n === !1 || n + i.place !== e.length || e[i.place++] !== 2) return !1;
  var a = bl(e, i);
  if (a === !1 || e[i.place] & 128) return !1;
  var h = e.slice(i.place, a + i.place);
  if (((i.place += a), e[i.place++] !== 2)) return !1;
  var f = bl(e, i);
  if (f === !1 || e.length !== f + i.place || e[i.place] & 128) return !1;
  var v = e.slice(i.place, f + i.place);
  if (h[0] === 0)
    if (h[1] & 128) h = h.slice(1);
    else return !1;
  if (v[0] === 0)
    if (v[1] & 128) v = v.slice(1);
    else return !1;
  return (
    (this.r = new lf(h)), (this.s = new lf(v)), (this.recoveryParam = null), !0
  );
};
function ml(r, e) {
  if (e < 128) {
    r.push(e);
    return;
  }
  var t = 1 + ((Math.log(e) / Math.LN2) >>> 3);
  for (r.push(t | 128); --t; ) r.push((e >>> (t << 3)) & 255);
  r.push(e);
}
Uf.prototype.toDER = function (e) {
  var t = this.r.toArray(),
    i = this.s.toArray();
  for (
    t[0] & 128 && (t = [0].concat(t)),
      i[0] & 128 && (i = [0].concat(i)),
      t = O1(t),
      i = O1(i);
    !i[0] && !(i[1] & 128);

  )
    i = i.slice(1);
  var n = [2];
  ml(n, t.length), (n = n.concat(t)), n.push(2), ml(n, i.length);
  var a = n.concat(i),
    h = [48];
  return ml(h, a.length), (h = h.concat(a)), B0.encode(h, e);
};
var da = ys,
  Db = TA,
  zA = Si,
  yl = Bf,
  kA = ob,
  Pb = zA.assert,
  L0 = LA,
  $f = UA;
function ji(r) {
  if (!(this instanceof ji)) return new ji(r);
  typeof r == "string" &&
    (Pb(Object.prototype.hasOwnProperty.call(yl, r), "Unknown curve " + r),
    (r = yl[r])),
    r instanceof yl.PresetCurve && (r = { curve: r }),
    (this.curve = r.curve.curve),
    (this.n = this.curve.n),
    (this.nh = this.n.ushrn(1)),
    (this.g = this.curve.g),
    (this.g = r.curve.g),
    this.g.precompute(r.curve.n.bitLength() + 1),
    (this.hash = r.hash || r.curve.hash);
}
var jA = ji;
ji.prototype.keyPair = function (e) {
  return new L0(this, e);
};
ji.prototype.keyFromPrivate = function (e, t) {
  return L0.fromPrivate(this, e, t);
};
ji.prototype.keyFromPublic = function (e, t) {
  return L0.fromPublic(this, e, t);
};
ji.prototype.genKeyPair = function (e) {
  e || (e = {});
  for (
    var t = new Db({
        hash: this.hash,
        pers: e.pers,
        persEnc: e.persEnc || "utf8",
        entropy: e.entropy || kA(this.hash.hmacStrength),
        entropyEnc: (e.entropy && e.entropyEnc) || "utf8",
        nonce: this.n.toArray(),
      }),
      i = this.n.byteLength(),
      n = this.n.sub(new da(2));
    ;

  ) {
    var a = new da(t.generate(i));
    if (!(a.cmp(n) > 0)) return a.iaddn(1), this.keyFromPrivate(a);
  }
};
ji.prototype._truncateToN = function (e, t) {
  var i = e.byteLength() * 8 - this.n.bitLength();
  return (
    i > 0 && (e = e.ushrn(i)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e
  );
};
ji.prototype.sign = function (e, t, i, n) {
  typeof i == "object" && ((n = i), (i = null)),
    n || (n = {}),
    (t = this.keyFromPrivate(t, i)),
    (e = this._truncateToN(new da(e, 16)));
  for (
    var a = this.n.byteLength(),
      h = t.getPrivate().toArray("be", a),
      f = e.toArray("be", a),
      v = new Db({
        hash: this.hash,
        entropy: h,
        nonce: f,
        pers: n.pers,
        persEnc: n.persEnc || "utf8",
      }),
      g = this.n.sub(new da(1)),
      y = 0;
    ;
    y++
  ) {
    var _ = n.k ? n.k(y) : new da(v.generate(this.n.byteLength()));
    if (((_ = this._truncateToN(_, !0)), !(_.cmpn(1) <= 0 || _.cmp(g) >= 0))) {
      var C = this.g.mul(_);
      if (!C.isInfinity()) {
        var P = C.getX(),
          O = P.umod(this.n);
        if (O.cmpn(0) !== 0) {
          var H = _.invm(this.n).mul(O.mul(t.getPrivate()).iadd(e));
          if (((H = H.umod(this.n)), H.cmpn(0) !== 0)) {
            var G = (C.getY().isOdd() ? 1 : 0) | (P.cmp(O) !== 0 ? 2 : 0);
            return (
              n.canonical &&
                H.cmp(this.nh) > 0 &&
                ((H = this.n.sub(H)), (G ^= 1)),
              new $f({ r: O, s: H, recoveryParam: G })
            );
          }
        }
      }
    }
  }
};
ji.prototype.verify = function (e, t, i, n) {
  (e = this._truncateToN(new da(e, 16))),
    (i = this.keyFromPublic(i, n)),
    (t = new $f(t, "hex"));
  var a = t.r,
    h = t.s;
  if (
    a.cmpn(1) < 0 ||
    a.cmp(this.n) >= 0 ||
    h.cmpn(1) < 0 ||
    h.cmp(this.n) >= 0
  )
    return !1;
  var f = h.invm(this.n),
    v = f.mul(e).umod(this.n),
    g = f.mul(a).umod(this.n),
    y;
  return this.curve._maxwellTrick
    ? ((y = this.g.jmulAdd(v, i.getPublic(), g)),
      y.isInfinity() ? !1 : y.eqXToP(a))
    : ((y = this.g.mulAdd(v, i.getPublic(), g)),
      y.isInfinity() ? !1 : y.getX().umod(this.n).cmp(a) === 0);
};
ji.prototype.recoverPubKey = function (r, e, t, i) {
  Pb((3 & t) === t, "The recovery param is more than two bits"),
    (e = new $f(e, i));
  var n = this.n,
    a = new da(r),
    h = e.r,
    f = e.s,
    v = t & 1,
    g = t >> 1;
  if (h.cmp(this.curve.p.umod(this.curve.n)) >= 0 && g)
    throw new Error("Unable to find sencond key candinate");
  g
    ? (h = this.curve.pointFromX(h.add(this.curve.n), v))
    : (h = this.curve.pointFromX(h, v));
  var y = e.r.invm(n),
    _ = n.sub(a).mul(y).umod(n),
    C = f.mul(y).umod(n);
  return this.g.mulAdd(_, h, C);
};
ji.prototype.getKeyRecoveryParam = function (r, e, t, i) {
  if (((e = new $f(e, i)), e.recoveryParam !== null)) return e.recoveryParam;
  for (var n = 0; n < 4; n++) {
    var a;
    try {
      a = this.recoverPubKey(r, e, n);
    } catch {
      continue;
    }
    if (a.eq(t)) return n;
  }
  throw new Error("Unable to find valid recovery factor");
};
var Mc = Si,
  Cb = Mc.assert,
  N1 = Mc.parseBytes,
  vo = Mc.cachedProperty;
function xr(r, e) {
  (this.eddsa = r),
    (this._secret = N1(e.secret)),
    r.isPoint(e.pub) ? (this._pub = e.pub) : (this._pubBytes = N1(e.pub));
}
xr.fromPublic = function (e, t) {
  return t instanceof xr ? t : new xr(e, { pub: t });
};
xr.fromSecret = function (e, t) {
  return t instanceof xr ? t : new xr(e, { secret: t });
};
xr.prototype.secret = function () {
  return this._secret;
};
vo(xr, "pubBytes", function () {
  return this.eddsa.encodePoint(this.pub());
});
vo(xr, "pub", function () {
  return this._pubBytes
    ? this.eddsa.decodePoint(this._pubBytes)
    : this.eddsa.g.mul(this.priv());
});
vo(xr, "privBytes", function () {
  var e = this.eddsa,
    t = this.hash(),
    i = e.encodingLength - 1,
    n = t.slice(0, e.encodingLength);
  return (n[0] &= 248), (n[i] &= 127), (n[i] |= 64), n;
});
vo(xr, "priv", function () {
  return this.eddsa.decodeInt(this.privBytes());
});
vo(xr, "hash", function () {
  return this.eddsa.hash().update(this.secret()).digest();
});
vo(xr, "messagePrefix", function () {
  return this.hash().slice(this.eddsa.encodingLength);
});
xr.prototype.sign = function (e) {
  return Cb(this._secret, "KeyPair can only verify"), this.eddsa.sign(e, this);
};
xr.prototype.verify = function (e, t) {
  return this.eddsa.verify(e, t, this);
};
xr.prototype.getSecret = function (e) {
  return (
    Cb(this._secret, "KeyPair is public only"), Mc.encode(this.secret(), e)
  );
};
xr.prototype.getPublic = function (e) {
  return Mc.encode(this.pubBytes(), e);
};
var HA = xr,
  KA = ys,
  zf = Si,
  R1 = zf.assert,
  kf = zf.cachedProperty,
  VA = zf.parseBytes;
function _a(r, e) {
  (this.eddsa = r),
    typeof e != "object" && (e = VA(e)),
    Array.isArray(e) &&
      (R1(e.length === r.encodingLength * 2, "Signature has invalid size"),
      (e = { R: e.slice(0, r.encodingLength), S: e.slice(r.encodingLength) })),
    R1(e.R && e.S, "Signature without R or S"),
    r.isPoint(e.R) && (this._R = e.R),
    e.S instanceof KA && (this._S = e.S),
    (this._Rencoded = Array.isArray(e.R) ? e.R : e.Rencoded),
    (this._Sencoded = Array.isArray(e.S) ? e.S : e.Sencoded);
}
kf(_a, "S", function () {
  return this.eddsa.decodeInt(this.Sencoded());
});
kf(_a, "R", function () {
  return this.eddsa.decodePoint(this.Rencoded());
});
kf(_a, "Rencoded", function () {
  return this.eddsa.encodePoint(this.R());
});
kf(_a, "Sencoded", function () {
  return this.eddsa.encodeInt(this.S());
});
_a.prototype.toBytes = function () {
  return this.Rencoded().concat(this.Sencoded());
};
_a.prototype.toHex = function () {
  return zf.encode(this.toBytes(), "hex").toUpperCase();
};
var GA = _a,
  WA = Lf,
  JA = Bf,
  ao = Si,
  YA = ao.assert,
  Ob = ao.parseBytes,
  Nb = HA,
  T1 = GA;
function li(r) {
  if (
    (YA(r === "ed25519", "only tested with ed25519 so far"),
    !(this instanceof li))
  )
    return new li(r);
  (r = JA[r].curve),
    (this.curve = r),
    (this.g = r.g),
    this.g.precompute(r.n.bitLength() + 1),
    (this.pointClass = r.point().constructor),
    (this.encodingLength = Math.ceil(r.n.bitLength() / 8)),
    (this.hash = WA.sha512);
}
var QA = li;
li.prototype.sign = function (e, t) {
  e = Ob(e);
  var i = this.keyFromSecret(t),
    n = this.hashInt(i.messagePrefix(), e),
    a = this.g.mul(n),
    h = this.encodePoint(a),
    f = this.hashInt(h, i.pubBytes(), e).mul(i.priv()),
    v = n.add(f).umod(this.curve.n);
  return this.makeSignature({ R: a, S: v, Rencoded: h });
};
li.prototype.verify = function (e, t, i) {
  if (
    ((e = Ob(e)),
    (t = this.makeSignature(t)),
    t.S().gte(t.eddsa.curve.n) || t.S().isNeg())
  )
    return !1;
  var n = this.keyFromPublic(i),
    a = this.hashInt(t.Rencoded(), n.pubBytes(), e),
    h = this.g.mul(t.S()),
    f = t.R().add(n.pub().mul(a));
  return f.eq(h);
};
li.prototype.hashInt = function () {
  for (var e = this.hash(), t = 0; t < arguments.length; t++)
    e.update(arguments[t]);
  return ao.intFromLE(e.digest()).umod(this.curve.n);
};
li.prototype.keyFromPublic = function (e) {
  return Nb.fromPublic(this, e);
};
li.prototype.keyFromSecret = function (e) {
  return Nb.fromSecret(this, e);
};
li.prototype.makeSignature = function (e) {
  return e instanceof T1 ? e : new T1(this, e);
};
li.prototype.encodePoint = function (e) {
  var t = e.getY().toArray("le", this.encodingLength);
  return (t[this.encodingLength - 1] |= e.getX().isOdd() ? 128 : 0), t;
};
li.prototype.decodePoint = function (e) {
  e = ao.parseBytes(e);
  var t = e.length - 1,
    i = e.slice(0, t).concat(e[t] & -129),
    n = (e[t] & 128) !== 0,
    a = ao.intFromLE(i);
  return this.curve.pointFromY(a, n);
};
li.prototype.encodeInt = function (e) {
  return e.toArray("le", this.encodingLength);
};
li.prototype.decodeInt = function (e) {
  return ao.intFromLE(e);
};
li.prototype.isPoint = function (e) {
  return e instanceof this.pointClass;
};
(function (r) {
  var e = r;
  (e.version = Y7.version),
    (e.utils = Si),
    (e.rand = ob),
    (e.curve = T0),
    (e.curves = Bf),
    (e.ec = jA),
    (e.eddsa = QA);
})(sb);
var q0 = {},
  Rb = {};
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e = mt,
    t = xi;
  (r.DIGEST_LENGTH = 64), (r.BLOCK_SIZE = 128);
  var i = (function () {
    function f() {
      (this.digestLength = r.DIGEST_LENGTH),
        (this.blockSize = r.BLOCK_SIZE),
        (this._stateHi = new Int32Array(8)),
        (this._stateLo = new Int32Array(8)),
        (this._tempHi = new Int32Array(16)),
        (this._tempLo = new Int32Array(16)),
        (this._buffer = new Uint8Array(256)),
        (this._bufferLength = 0),
        (this._bytesHashed = 0),
        (this._finished = !1),
        this.reset();
    }
    return (
      (f.prototype._initState = function () {
        (this._stateHi[0] = 1779033703),
          (this._stateHi[1] = 3144134277),
          (this._stateHi[2] = 1013904242),
          (this._stateHi[3] = 2773480762),
          (this._stateHi[4] = 1359893119),
          (this._stateHi[5] = 2600822924),
          (this._stateHi[6] = 528734635),
          (this._stateHi[7] = 1541459225),
          (this._stateLo[0] = 4089235720),
          (this._stateLo[1] = 2227873595),
          (this._stateLo[2] = 4271175723),
          (this._stateLo[3] = 1595750129),
          (this._stateLo[4] = 2917565137),
          (this._stateLo[5] = 725511199),
          (this._stateLo[6] = 4215389547),
          (this._stateLo[7] = 327033209);
      }),
      (f.prototype.reset = function () {
        return (
          this._initState(),
          (this._bufferLength = 0),
          (this._bytesHashed = 0),
          (this._finished = !1),
          this
        );
      }),
      (f.prototype.clean = function () {
        t.wipe(this._buffer),
          t.wipe(this._tempHi),
          t.wipe(this._tempLo),
          this.reset();
      }),
      (f.prototype.update = function (v, g) {
        if ((g === void 0 && (g = v.length), this._finished))
          throw new Error("SHA512: can't update because hash was finished.");
        var y = 0;
        if (((this._bytesHashed += g), this._bufferLength > 0)) {
          for (; this._bufferLength < r.BLOCK_SIZE && g > 0; )
            (this._buffer[this._bufferLength++] = v[y++]), g--;
          this._bufferLength === this.blockSize &&
            (a(
              this._tempHi,
              this._tempLo,
              this._stateHi,
              this._stateLo,
              this._buffer,
              0,
              this.blockSize
            ),
            (this._bufferLength = 0));
        }
        for (
          g >= this.blockSize &&
          ((y = a(
            this._tempHi,
            this._tempLo,
            this._stateHi,
            this._stateLo,
            v,
            y,
            g
          )),
          (g %= this.blockSize));
          g > 0;

        )
          (this._buffer[this._bufferLength++] = v[y++]), g--;
        return this;
      }),
      (f.prototype.finish = function (v) {
        if (!this._finished) {
          var g = this._bytesHashed,
            y = this._bufferLength,
            _ = (g / 536870912) | 0,
            C = g << 3,
            P = g % 128 < 112 ? 128 : 256;
          this._buffer[y] = 128;
          for (var O = y + 1; O < P - 8; O++) this._buffer[O] = 0;
          e.writeUint32BE(_, this._buffer, P - 8),
            e.writeUint32BE(C, this._buffer, P - 4),
            a(
              this._tempHi,
              this._tempLo,
              this._stateHi,
              this._stateLo,
              this._buffer,
              0,
              P
            ),
            (this._finished = !0);
        }
        for (var O = 0; O < this.digestLength / 8; O++)
          e.writeUint32BE(this._stateHi[O], v, O * 8),
            e.writeUint32BE(this._stateLo[O], v, O * 8 + 4);
        return this;
      }),
      (f.prototype.digest = function () {
        var v = new Uint8Array(this.digestLength);
        return this.finish(v), v;
      }),
      (f.prototype.saveState = function () {
        if (this._finished)
          throw new Error("SHA256: cannot save finished state");
        return {
          stateHi: new Int32Array(this._stateHi),
          stateLo: new Int32Array(this._stateLo),
          buffer:
            this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0,
          bufferLength: this._bufferLength,
          bytesHashed: this._bytesHashed,
        };
      }),
      (f.prototype.restoreState = function (v) {
        return (
          this._stateHi.set(v.stateHi),
          this._stateLo.set(v.stateLo),
          (this._bufferLength = v.bufferLength),
          v.buffer && this._buffer.set(v.buffer),
          (this._bytesHashed = v.bytesHashed),
          (this._finished = !1),
          this
        );
      }),
      (f.prototype.cleanSavedState = function (v) {
        t.wipe(v.stateHi),
          t.wipe(v.stateLo),
          v.buffer && t.wipe(v.buffer),
          (v.bufferLength = 0),
          (v.bytesHashed = 0);
      }),
      f
    );
  })();
  r.SHA512 = i;
  var n = new Int32Array([
    1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
    3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
    2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394,
    310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994,
    1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317,
    3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139,
    264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901,
    1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837,
    2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879,
    3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901,
    113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964,
    773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823,
    1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142,
    2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273,
    3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344,
    3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720,
    430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593,
    883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403,
    1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
    2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
    2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
    3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
    3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
    174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
    685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
    1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866,
    1607167915, 987167468, 1816402316, 1246189591,
  ]);
  function a(f, v, g, y, _, C, P) {
    for (
      var O = g[0],
        H = g[1],
        G = g[2],
        Q = g[3],
        z = g[4],
        Y = g[5],
        q = g[6],
        k = g[7],
        V = y[0],
        A = y[1],
        F = y[2],
        ae = y[3],
        de = y[4],
        U = y[5],
        m = y[6],
        c = y[7],
        l,
        b,
        x,
        M,
        D,
        S,
        d,
        p;
      P >= 128;

    ) {
      for (var R = 0; R < 16; R++) {
        var Z = 8 * R + C;
        (f[R] = e.readUint32BE(_, Z)), (v[R] = e.readUint32BE(_, Z + 4));
      }
      for (var R = 0; R < 80; R++) {
        var se = O,
          I = H,
          ee = G,
          B = Q,
          j = z,
          K = Y,
          w = q,
          $ = k,
          ne = V,
          ce = A,
          fe = F,
          ye = ae,
          we = de,
          Ne = U,
          Qe = m,
          Pe = c;
        if (
          ((l = k),
          (b = c),
          (D = b & 65535),
          (S = b >>> 16),
          (d = l & 65535),
          (p = l >>> 16),
          (l =
            ((z >>> 14) | (de << (32 - 14))) ^
            ((z >>> 18) | (de << (32 - 18))) ^
            ((de >>> (41 - 32)) | (z << (32 - (41 - 32))))),
          (b =
            ((de >>> 14) | (z << (32 - 14))) ^
            ((de >>> 18) | (z << (32 - 18))) ^
            ((z >>> (41 - 32)) | (de << (32 - (41 - 32))))),
          (D += b & 65535),
          (S += b >>> 16),
          (d += l & 65535),
          (p += l >>> 16),
          (l = (z & Y) ^ (~z & q)),
          (b = (de & U) ^ (~de & m)),
          (D += b & 65535),
          (S += b >>> 16),
          (d += l & 65535),
          (p += l >>> 16),
          (l = n[R * 2]),
          (b = n[R * 2 + 1]),
          (D += b & 65535),
          (S += b >>> 16),
          (d += l & 65535),
          (p += l >>> 16),
          (l = f[R % 16]),
          (b = v[R % 16]),
          (D += b & 65535),
          (S += b >>> 16),
          (d += l & 65535),
          (p += l >>> 16),
          (S += D >>> 16),
          (d += S >>> 16),
          (p += d >>> 16),
          (x = (d & 65535) | (p << 16)),
          (M = (D & 65535) | (S << 16)),
          (l = x),
          (b = M),
          (D = b & 65535),
          (S = b >>> 16),
          (d = l & 65535),
          (p = l >>> 16),
          (l =
            ((O >>> 28) | (V << (32 - 28))) ^
            ((V >>> (34 - 32)) | (O << (32 - (34 - 32)))) ^
            ((V >>> (39 - 32)) | (O << (32 - (39 - 32))))),
          (b =
            ((V >>> 28) | (O << (32 - 28))) ^
            ((O >>> (34 - 32)) | (V << (32 - (34 - 32)))) ^
            ((O >>> (39 - 32)) | (V << (32 - (39 - 32))))),
          (D += b & 65535),
          (S += b >>> 16),
          (d += l & 65535),
          (p += l >>> 16),
          (l = (O & H) ^ (O & G) ^ (H & G)),
          (b = (V & A) ^ (V & F) ^ (A & F)),
          (D += b & 65535),
          (S += b >>> 16),
          (d += l & 65535),
          (p += l >>> 16),
          (S += D >>> 16),
          (d += S >>> 16),
          (p += d >>> 16),
          ($ = (d & 65535) | (p << 16)),
          (Pe = (D & 65535) | (S << 16)),
          (l = B),
          (b = ye),
          (D = b & 65535),
          (S = b >>> 16),
          (d = l & 65535),
          (p = l >>> 16),
          (l = x),
          (b = M),
          (D += b & 65535),
          (S += b >>> 16),
          (d += l & 65535),
          (p += l >>> 16),
          (S += D >>> 16),
          (d += S >>> 16),
          (p += d >>> 16),
          (B = (d & 65535) | (p << 16)),
          (ye = (D & 65535) | (S << 16)),
          (H = se),
          (G = I),
          (Q = ee),
          (z = B),
          (Y = j),
          (q = K),
          (k = w),
          (O = $),
          (A = ne),
          (F = ce),
          (ae = fe),
          (de = ye),
          (U = we),
          (m = Ne),
          (c = Qe),
          (V = Pe),
          R % 16 === 15)
        )
          for (var Z = 0; Z < 16; Z++)
            (l = f[Z]),
              (b = v[Z]),
              (D = b & 65535),
              (S = b >>> 16),
              (d = l & 65535),
              (p = l >>> 16),
              (l = f[(Z + 9) % 16]),
              (b = v[(Z + 9) % 16]),
              (D += b & 65535),
              (S += b >>> 16),
              (d += l & 65535),
              (p += l >>> 16),
              (x = f[(Z + 1) % 16]),
              (M = v[(Z + 1) % 16]),
              (l =
                ((x >>> 1) | (M << (32 - 1))) ^
                ((x >>> 8) | (M << (32 - 8))) ^
                (x >>> 7)),
              (b =
                ((M >>> 1) | (x << (32 - 1))) ^
                ((M >>> 8) | (x << (32 - 8))) ^
                ((M >>> 7) | (x << (32 - 7)))),
              (D += b & 65535),
              (S += b >>> 16),
              (d += l & 65535),
              (p += l >>> 16),
              (x = f[(Z + 14) % 16]),
              (M = v[(Z + 14) % 16]),
              (l =
                ((x >>> 19) | (M << (32 - 19))) ^
                ((M >>> (61 - 32)) | (x << (32 - (61 - 32)))) ^
                (x >>> 6)),
              (b =
                ((M >>> 19) | (x << (32 - 19))) ^
                ((x >>> (61 - 32)) | (M << (32 - (61 - 32)))) ^
                ((M >>> 6) | (x << (32 - 6)))),
              (D += b & 65535),
              (S += b >>> 16),
              (d += l & 65535),
              (p += l >>> 16),
              (S += D >>> 16),
              (d += S >>> 16),
              (p += d >>> 16),
              (f[Z] = (d & 65535) | (p << 16)),
              (v[Z] = (D & 65535) | (S << 16));
      }
      (l = O),
        (b = V),
        (D = b & 65535),
        (S = b >>> 16),
        (d = l & 65535),
        (p = l >>> 16),
        (l = g[0]),
        (b = y[0]),
        (D += b & 65535),
        (S += b >>> 16),
        (d += l & 65535),
        (p += l >>> 16),
        (S += D >>> 16),
        (d += S >>> 16),
        (p += d >>> 16),
        (g[0] = O = (d & 65535) | (p << 16)),
        (y[0] = V = (D & 65535) | (S << 16)),
        (l = H),
        (b = A),
        (D = b & 65535),
        (S = b >>> 16),
        (d = l & 65535),
        (p = l >>> 16),
        (l = g[1]),
        (b = y[1]),
        (D += b & 65535),
        (S += b >>> 16),
        (d += l & 65535),
        (p += l >>> 16),
        (S += D >>> 16),
        (d += S >>> 16),
        (p += d >>> 16),
        (g[1] = H = (d & 65535) | (p << 16)),
        (y[1] = A = (D & 65535) | (S << 16)),
        (l = G),
        (b = F),
        (D = b & 65535),
        (S = b >>> 16),
        (d = l & 65535),
        (p = l >>> 16),
        (l = g[2]),
        (b = y[2]),
        (D += b & 65535),
        (S += b >>> 16),
        (d += l & 65535),
        (p += l >>> 16),
        (S += D >>> 16),
        (d += S >>> 16),
        (p += d >>> 16),
        (g[2] = G = (d & 65535) | (p << 16)),
        (y[2] = F = (D & 65535) | (S << 16)),
        (l = Q),
        (b = ae),
        (D = b & 65535),
        (S = b >>> 16),
        (d = l & 65535),
        (p = l >>> 16),
        (l = g[3]),
        (b = y[3]),
        (D += b & 65535),
        (S += b >>> 16),
        (d += l & 65535),
        (p += l >>> 16),
        (S += D >>> 16),
        (d += S >>> 16),
        (p += d >>> 16),
        (g[3] = Q = (d & 65535) | (p << 16)),
        (y[3] = ae = (D & 65535) | (S << 16)),
        (l = z),
        (b = de),
        (D = b & 65535),
        (S = b >>> 16),
        (d = l & 65535),
        (p = l >>> 16),
        (l = g[4]),
        (b = y[4]),
        (D += b & 65535),
        (S += b >>> 16),
        (d += l & 65535),
        (p += l >>> 16),
        (S += D >>> 16),
        (d += S >>> 16),
        (p += d >>> 16),
        (g[4] = z = (d & 65535) | (p << 16)),
        (y[4] = de = (D & 65535) | (S << 16)),
        (l = Y),
        (b = U),
        (D = b & 65535),
        (S = b >>> 16),
        (d = l & 65535),
        (p = l >>> 16),
        (l = g[5]),
        (b = y[5]),
        (D += b & 65535),
        (S += b >>> 16),
        (d += l & 65535),
        (p += l >>> 16),
        (S += D >>> 16),
        (d += S >>> 16),
        (p += d >>> 16),
        (g[5] = Y = (d & 65535) | (p << 16)),
        (y[5] = U = (D & 65535) | (S << 16)),
        (l = q),
        (b = m),
        (D = b & 65535),
        (S = b >>> 16),
        (d = l & 65535),
        (p = l >>> 16),
        (l = g[6]),
        (b = y[6]),
        (D += b & 65535),
        (S += b >>> 16),
        (d += l & 65535),
        (p += l >>> 16),
        (S += D >>> 16),
        (d += S >>> 16),
        (p += d >>> 16),
        (g[6] = q = (d & 65535) | (p << 16)),
        (y[6] = m = (D & 65535) | (S << 16)),
        (l = k),
        (b = c),
        (D = b & 65535),
        (S = b >>> 16),
        (d = l & 65535),
        (p = l >>> 16),
        (l = g[7]),
        (b = y[7]),
        (D += b & 65535),
        (S += b >>> 16),
        (d += l & 65535),
        (p += l >>> 16),
        (S += D >>> 16),
        (d += S >>> 16),
        (p += d >>> 16),
        (g[7] = k = (d & 65535) | (p << 16)),
        (y[7] = c = (D & 65535) | (S << 16)),
        (C += 128),
        (P -= 128);
    }
    return C;
  }
  function h(f) {
    var v = new i();
    v.update(f);
    var g = v.digest();
    return v.clean(), g;
  }
  r.hash = h;
})(Rb);
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 }),
    (r.convertSecretKeyToX25519 =
      r.convertPublicKeyToX25519 =
      r.verify =
      r.sign =
      r.extractPublicKeyFromSecretKey =
      r.generateKeyPair =
      r.generateKeyPairFromSeed =
      r.SEED_LENGTH =
      r.SECRET_KEY_LENGTH =
      r.PUBLIC_KEY_LENGTH =
      r.SIGNATURE_LENGTH =
        void 0);
  const e = zs,
    t = Rb,
    i = xi;
  (r.SIGNATURE_LENGTH = 64),
    (r.PUBLIC_KEY_LENGTH = 32),
    (r.SECRET_KEY_LENGTH = 64),
    (r.SEED_LENGTH = 32);
  function n(B) {
    const j = new Float64Array(16);
    if (B) for (let K = 0; K < B.length; K++) j[K] = B[K];
    return j;
  }
  const a = new Uint8Array(32);
  a[0] = 9;
  const h = n(),
    f = n([1]),
    v = n([
      30883, 4953, 19914, 30187, 55467, 16705, 2637, 112, 59544, 30585, 16505,
      36039, 65139, 11119, 27886, 20995,
    ]),
    g = n([
      61785, 9906, 39828, 60374, 45398, 33411, 5274, 224, 53552, 61171, 33010,
      6542, 64743, 22239, 55772, 9222,
    ]),
    y = n([
      54554, 36645, 11616, 51542, 42930, 38181, 51040, 26924, 56412, 64982,
      57905, 49316, 21502, 52590, 14035, 8553,
    ]),
    _ = n([
      26200, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214,
      26214, 26214, 26214, 26214, 26214, 26214,
    ]),
    C = n([
      41136, 18958, 6951, 50414, 58488, 44335, 6150, 12099, 55207, 15867, 153,
      11085, 57099, 20417, 9344, 11139,
    ]);
  function P(B, j) {
    for (let K = 0; K < 16; K++) B[K] = j[K] | 0;
  }
  function O(B) {
    let j = 1;
    for (let K = 0; K < 16; K++) {
      let w = B[K] + j + 65535;
      (j = Math.floor(w / 65536)), (B[K] = w - j * 65536);
    }
    B[0] += j - 1 + 37 * (j - 1);
  }
  function H(B, j, K) {
    const w = ~(K - 1);
    for (let $ = 0; $ < 16; $++) {
      const ne = w & (B[$] ^ j[$]);
      (B[$] ^= ne), (j[$] ^= ne);
    }
  }
  function G(B, j) {
    const K = n(),
      w = n();
    for (let $ = 0; $ < 16; $++) w[$] = j[$];
    O(w), O(w), O(w);
    for (let $ = 0; $ < 2; $++) {
      K[0] = w[0] - 65517;
      for (let ce = 1; ce < 15; ce++)
        (K[ce] = w[ce] - 65535 - ((K[ce - 1] >> 16) & 1)), (K[ce - 1] &= 65535);
      K[15] = w[15] - 32767 - ((K[14] >> 16) & 1);
      const ne = (K[15] >> 16) & 1;
      (K[14] &= 65535), H(w, K, 1 - ne);
    }
    for (let $ = 0; $ < 16; $++)
      (B[2 * $] = w[$] & 255), (B[2 * $ + 1] = w[$] >> 8);
  }
  function Q(B, j) {
    let K = 0;
    for (let w = 0; w < 32; w++) K |= B[w] ^ j[w];
    return (1 & ((K - 1) >>> 8)) - 1;
  }
  function z(B, j) {
    const K = new Uint8Array(32),
      w = new Uint8Array(32);
    return G(K, B), G(w, j), Q(K, w);
  }
  function Y(B) {
    const j = new Uint8Array(32);
    return G(j, B), j[0] & 1;
  }
  function q(B, j) {
    for (let K = 0; K < 16; K++) B[K] = j[2 * K] + (j[2 * K + 1] << 8);
    B[15] &= 32767;
  }
  function k(B, j, K) {
    for (let w = 0; w < 16; w++) B[w] = j[w] + K[w];
  }
  function V(B, j, K) {
    for (let w = 0; w < 16; w++) B[w] = j[w] - K[w];
  }
  function A(B, j, K) {
    let w,
      $,
      ne = 0,
      ce = 0,
      fe = 0,
      ye = 0,
      we = 0,
      Ne = 0,
      Qe = 0,
      Pe = 0,
      Re = 0,
      Me = 0,
      me = 0,
      Ce = 0,
      Te = 0,
      ve = 0,
      Oe = 0,
      Se = 0,
      be = 0,
      qe = 0,
      Ie = 0,
      _e = 0,
      He = 0,
      Ve = 0,
      Ee = 0,
      Ke = 0,
      ut = 0,
      Ge = 0,
      _t = 0,
      lt = 0,
      Je = 0,
      Et = 0,
      Mt = 0,
      Fe = K[0],
      Xe = K[1],
      tt = K[2],
      Be = K[3],
      et = K[4],
      Ze = K[5],
      $e = K[6],
      ht = K[7],
      rt = K[8],
      ze = K[9],
      it = K[10],
      st = K[11],
      Le = K[12],
      Ye = K[13],
      ft = K[14],
      ke = K[15];
    (w = j[0]),
      (ne += w * Fe),
      (ce += w * Xe),
      (fe += w * tt),
      (ye += w * Be),
      (we += w * et),
      (Ne += w * Ze),
      (Qe += w * $e),
      (Pe += w * ht),
      (Re += w * rt),
      (Me += w * ze),
      (me += w * it),
      (Ce += w * st),
      (Te += w * Le),
      (ve += w * Ye),
      (Oe += w * ft),
      (Se += w * ke),
      (w = j[1]),
      (ce += w * Fe),
      (fe += w * Xe),
      (ye += w * tt),
      (we += w * Be),
      (Ne += w * et),
      (Qe += w * Ze),
      (Pe += w * $e),
      (Re += w * ht),
      (Me += w * rt),
      (me += w * ze),
      (Ce += w * it),
      (Te += w * st),
      (ve += w * Le),
      (Oe += w * Ye),
      (Se += w * ft),
      (be += w * ke),
      (w = j[2]),
      (fe += w * Fe),
      (ye += w * Xe),
      (we += w * tt),
      (Ne += w * Be),
      (Qe += w * et),
      (Pe += w * Ze),
      (Re += w * $e),
      (Me += w * ht),
      (me += w * rt),
      (Ce += w * ze),
      (Te += w * it),
      (ve += w * st),
      (Oe += w * Le),
      (Se += w * Ye),
      (be += w * ft),
      (qe += w * ke),
      (w = j[3]),
      (ye += w * Fe),
      (we += w * Xe),
      (Ne += w * tt),
      (Qe += w * Be),
      (Pe += w * et),
      (Re += w * Ze),
      (Me += w * $e),
      (me += w * ht),
      (Ce += w * rt),
      (Te += w * ze),
      (ve += w * it),
      (Oe += w * st),
      (Se += w * Le),
      (be += w * Ye),
      (qe += w * ft),
      (Ie += w * ke),
      (w = j[4]),
      (we += w * Fe),
      (Ne += w * Xe),
      (Qe += w * tt),
      (Pe += w * Be),
      (Re += w * et),
      (Me += w * Ze),
      (me += w * $e),
      (Ce += w * ht),
      (Te += w * rt),
      (ve += w * ze),
      (Oe += w * it),
      (Se += w * st),
      (be += w * Le),
      (qe += w * Ye),
      (Ie += w * ft),
      (_e += w * ke),
      (w = j[5]),
      (Ne += w * Fe),
      (Qe += w * Xe),
      (Pe += w * tt),
      (Re += w * Be),
      (Me += w * et),
      (me += w * Ze),
      (Ce += w * $e),
      (Te += w * ht),
      (ve += w * rt),
      (Oe += w * ze),
      (Se += w * it),
      (be += w * st),
      (qe += w * Le),
      (Ie += w * Ye),
      (_e += w * ft),
      (He += w * ke),
      (w = j[6]),
      (Qe += w * Fe),
      (Pe += w * Xe),
      (Re += w * tt),
      (Me += w * Be),
      (me += w * et),
      (Ce += w * Ze),
      (Te += w * $e),
      (ve += w * ht),
      (Oe += w * rt),
      (Se += w * ze),
      (be += w * it),
      (qe += w * st),
      (Ie += w * Le),
      (_e += w * Ye),
      (He += w * ft),
      (Ve += w * ke),
      (w = j[7]),
      (Pe += w * Fe),
      (Re += w * Xe),
      (Me += w * tt),
      (me += w * Be),
      (Ce += w * et),
      (Te += w * Ze),
      (ve += w * $e),
      (Oe += w * ht),
      (Se += w * rt),
      (be += w * ze),
      (qe += w * it),
      (Ie += w * st),
      (_e += w * Le),
      (He += w * Ye),
      (Ve += w * ft),
      (Ee += w * ke),
      (w = j[8]),
      (Re += w * Fe),
      (Me += w * Xe),
      (me += w * tt),
      (Ce += w * Be),
      (Te += w * et),
      (ve += w * Ze),
      (Oe += w * $e),
      (Se += w * ht),
      (be += w * rt),
      (qe += w * ze),
      (Ie += w * it),
      (_e += w * st),
      (He += w * Le),
      (Ve += w * Ye),
      (Ee += w * ft),
      (Ke += w * ke),
      (w = j[9]),
      (Me += w * Fe),
      (me += w * Xe),
      (Ce += w * tt),
      (Te += w * Be),
      (ve += w * et),
      (Oe += w * Ze),
      (Se += w * $e),
      (be += w * ht),
      (qe += w * rt),
      (Ie += w * ze),
      (_e += w * it),
      (He += w * st),
      (Ve += w * Le),
      (Ee += w * Ye),
      (Ke += w * ft),
      (ut += w * ke),
      (w = j[10]),
      (me += w * Fe),
      (Ce += w * Xe),
      (Te += w * tt),
      (ve += w * Be),
      (Oe += w * et),
      (Se += w * Ze),
      (be += w * $e),
      (qe += w * ht),
      (Ie += w * rt),
      (_e += w * ze),
      (He += w * it),
      (Ve += w * st),
      (Ee += w * Le),
      (Ke += w * Ye),
      (ut += w * ft),
      (Ge += w * ke),
      (w = j[11]),
      (Ce += w * Fe),
      (Te += w * Xe),
      (ve += w * tt),
      (Oe += w * Be),
      (Se += w * et),
      (be += w * Ze),
      (qe += w * $e),
      (Ie += w * ht),
      (_e += w * rt),
      (He += w * ze),
      (Ve += w * it),
      (Ee += w * st),
      (Ke += w * Le),
      (ut += w * Ye),
      (Ge += w * ft),
      (_t += w * ke),
      (w = j[12]),
      (Te += w * Fe),
      (ve += w * Xe),
      (Oe += w * tt),
      (Se += w * Be),
      (be += w * et),
      (qe += w * Ze),
      (Ie += w * $e),
      (_e += w * ht),
      (He += w * rt),
      (Ve += w * ze),
      (Ee += w * it),
      (Ke += w * st),
      (ut += w * Le),
      (Ge += w * Ye),
      (_t += w * ft),
      (lt += w * ke),
      (w = j[13]),
      (ve += w * Fe),
      (Oe += w * Xe),
      (Se += w * tt),
      (be += w * Be),
      (qe += w * et),
      (Ie += w * Ze),
      (_e += w * $e),
      (He += w * ht),
      (Ve += w * rt),
      (Ee += w * ze),
      (Ke += w * it),
      (ut += w * st),
      (Ge += w * Le),
      (_t += w * Ye),
      (lt += w * ft),
      (Je += w * ke),
      (w = j[14]),
      (Oe += w * Fe),
      (Se += w * Xe),
      (be += w * tt),
      (qe += w * Be),
      (Ie += w * et),
      (_e += w * Ze),
      (He += w * $e),
      (Ve += w * ht),
      (Ee += w * rt),
      (Ke += w * ze),
      (ut += w * it),
      (Ge += w * st),
      (_t += w * Le),
      (lt += w * Ye),
      (Je += w * ft),
      (Et += w * ke),
      (w = j[15]),
      (Se += w * Fe),
      (be += w * Xe),
      (qe += w * tt),
      (Ie += w * Be),
      (_e += w * et),
      (He += w * Ze),
      (Ve += w * $e),
      (Ee += w * ht),
      (Ke += w * rt),
      (ut += w * ze),
      (Ge += w * it),
      (_t += w * st),
      (lt += w * Le),
      (Je += w * Ye),
      (Et += w * ft),
      (Mt += w * ke),
      (ne += 38 * be),
      (ce += 38 * qe),
      (fe += 38 * Ie),
      (ye += 38 * _e),
      (we += 38 * He),
      (Ne += 38 * Ve),
      (Qe += 38 * Ee),
      (Pe += 38 * Ke),
      (Re += 38 * ut),
      (Me += 38 * Ge),
      (me += 38 * _t),
      (Ce += 38 * lt),
      (Te += 38 * Je),
      (ve += 38 * Et),
      (Oe += 38 * Mt),
      ($ = 1),
      (w = ne + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ne = w - $ * 65536),
      (w = ce + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ce = w - $ * 65536),
      (w = fe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (fe = w - $ * 65536),
      (w = ye + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ye = w - $ * 65536),
      (w = we + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (we = w - $ * 65536),
      (w = Ne + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Ne = w - $ * 65536),
      (w = Qe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Qe = w - $ * 65536),
      (w = Pe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Pe = w - $ * 65536),
      (w = Re + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Re = w - $ * 65536),
      (w = Me + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Me = w - $ * 65536),
      (w = me + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (me = w - $ * 65536),
      (w = Ce + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Ce = w - $ * 65536),
      (w = Te + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Te = w - $ * 65536),
      (w = ve + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ve = w - $ * 65536),
      (w = Oe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Oe = w - $ * 65536),
      (w = Se + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Se = w - $ * 65536),
      (ne += $ - 1 + 37 * ($ - 1)),
      ($ = 1),
      (w = ne + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ne = w - $ * 65536),
      (w = ce + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ce = w - $ * 65536),
      (w = fe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (fe = w - $ * 65536),
      (w = ye + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ye = w - $ * 65536),
      (w = we + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (we = w - $ * 65536),
      (w = Ne + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Ne = w - $ * 65536),
      (w = Qe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Qe = w - $ * 65536),
      (w = Pe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Pe = w - $ * 65536),
      (w = Re + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Re = w - $ * 65536),
      (w = Me + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Me = w - $ * 65536),
      (w = me + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (me = w - $ * 65536),
      (w = Ce + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Ce = w - $ * 65536),
      (w = Te + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Te = w - $ * 65536),
      (w = ve + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (ve = w - $ * 65536),
      (w = Oe + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Oe = w - $ * 65536),
      (w = Se + $ + 65535),
      ($ = Math.floor(w / 65536)),
      (Se = w - $ * 65536),
      (ne += $ - 1 + 37 * ($ - 1)),
      (B[0] = ne),
      (B[1] = ce),
      (B[2] = fe),
      (B[3] = ye),
      (B[4] = we),
      (B[5] = Ne),
      (B[6] = Qe),
      (B[7] = Pe),
      (B[8] = Re),
      (B[9] = Me),
      (B[10] = me),
      (B[11] = Ce),
      (B[12] = Te),
      (B[13] = ve),
      (B[14] = Oe),
      (B[15] = Se);
  }
  function F(B, j) {
    A(B, j, j);
  }
  function ae(B, j) {
    const K = n();
    let w;
    for (w = 0; w < 16; w++) K[w] = j[w];
    for (w = 253; w >= 0; w--) F(K, K), w !== 2 && w !== 4 && A(K, K, j);
    for (w = 0; w < 16; w++) B[w] = K[w];
  }
  function de(B, j) {
    const K = n();
    let w;
    for (w = 0; w < 16; w++) K[w] = j[w];
    for (w = 250; w >= 0; w--) F(K, K), w !== 1 && A(K, K, j);
    for (w = 0; w < 16; w++) B[w] = K[w];
  }
  function U(B, j) {
    const K = n(),
      w = n(),
      $ = n(),
      ne = n(),
      ce = n(),
      fe = n(),
      ye = n(),
      we = n(),
      Ne = n();
    V(K, B[1], B[0]),
      V(Ne, j[1], j[0]),
      A(K, K, Ne),
      k(w, B[0], B[1]),
      k(Ne, j[0], j[1]),
      A(w, w, Ne),
      A($, B[3], j[3]),
      A($, $, g),
      A(ne, B[2], j[2]),
      k(ne, ne, ne),
      V(ce, w, K),
      V(fe, ne, $),
      k(ye, ne, $),
      k(we, w, K),
      A(B[0], ce, fe),
      A(B[1], we, ye),
      A(B[2], ye, fe),
      A(B[3], ce, we);
  }
  function m(B, j, K) {
    for (let w = 0; w < 4; w++) H(B[w], j[w], K);
  }
  function c(B, j) {
    const K = n(),
      w = n(),
      $ = n();
    ae($, j[2]), A(K, j[0], $), A(w, j[1], $), G(B, w), (B[31] ^= Y(K) << 7);
  }
  function l(B, j, K) {
    P(B[0], h), P(B[1], f), P(B[2], f), P(B[3], h);
    for (let w = 255; w >= 0; --w) {
      const $ = (K[(w / 8) | 0] >> (w & 7)) & 1;
      m(B, j, $), U(j, B), U(B, B), m(B, j, $);
    }
  }
  function b(B, j) {
    const K = [n(), n(), n(), n()];
    P(K[0], y), P(K[1], _), P(K[2], f), A(K[3], y, _), l(B, K, j);
  }
  function x(B) {
    if (B.length !== r.SEED_LENGTH)
      throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);
    const j = (0, t.hash)(B);
    (j[0] &= 248), (j[31] &= 127), (j[31] |= 64);
    const K = new Uint8Array(32),
      w = [n(), n(), n(), n()];
    b(w, j), c(K, w);
    const $ = new Uint8Array(64);
    return $.set(B), $.set(K, 32), { publicKey: K, secretKey: $ };
  }
  r.generateKeyPairFromSeed = x;
  function M(B) {
    const j = (0, e.randomBytes)(32, B),
      K = x(j);
    return (0, i.wipe)(j), K;
  }
  r.generateKeyPair = M;
  function D(B) {
    if (B.length !== r.SECRET_KEY_LENGTH)
      throw new Error(
        `ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`
      );
    return new Uint8Array(B.subarray(32));
  }
  r.extractPublicKeyFromSecretKey = D;
  const S = new Float64Array([
    237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222, 20, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16,
  ]);
  function d(B, j) {
    let K, w, $, ne;
    for (w = 63; w >= 32; --w) {
      for (K = 0, $ = w - 32, ne = w - 12; $ < ne; ++$)
        (j[$] += K - 16 * j[w] * S[$ - (w - 32)]),
          (K = Math.floor((j[$] + 128) / 256)),
          (j[$] -= K * 256);
      (j[$] += K), (j[w] = 0);
    }
    for (K = 0, $ = 0; $ < 32; $++)
      (j[$] += K - (j[31] >> 4) * S[$]), (K = j[$] >> 8), (j[$] &= 255);
    for ($ = 0; $ < 32; $++) j[$] -= K * S[$];
    for (w = 0; w < 32; w++) (j[w + 1] += j[w] >> 8), (B[w] = j[w] & 255);
  }
  function p(B) {
    const j = new Float64Array(64);
    for (let K = 0; K < 64; K++) j[K] = B[K];
    for (let K = 0; K < 64; K++) B[K] = 0;
    d(B, j);
  }
  function R(B, j) {
    const K = new Float64Array(64),
      w = [n(), n(), n(), n()],
      $ = (0, t.hash)(B.subarray(0, 32));
    ($[0] &= 248), ($[31] &= 127), ($[31] |= 64);
    const ne = new Uint8Array(64);
    ne.set($.subarray(32), 32);
    const ce = new t.SHA512();
    ce.update(ne.subarray(32)), ce.update(j);
    const fe = ce.digest();
    ce.clean(),
      p(fe),
      b(w, fe),
      c(ne, w),
      ce.reset(),
      ce.update(ne.subarray(0, 32)),
      ce.update(B.subarray(32)),
      ce.update(j);
    const ye = ce.digest();
    p(ye);
    for (let we = 0; we < 32; we++) K[we] = fe[we];
    for (let we = 0; we < 32; we++)
      for (let Ne = 0; Ne < 32; Ne++) K[we + Ne] += ye[we] * $[Ne];
    return d(ne.subarray(32), K), ne;
  }
  r.sign = R;
  function Z(B, j) {
    const K = n(),
      w = n(),
      $ = n(),
      ne = n(),
      ce = n(),
      fe = n(),
      ye = n();
    return (
      P(B[2], f),
      q(B[1], j),
      F($, B[1]),
      A(ne, $, v),
      V($, $, B[2]),
      k(ne, B[2], ne),
      F(ce, ne),
      F(fe, ce),
      A(ye, fe, ce),
      A(K, ye, $),
      A(K, K, ne),
      de(K, K),
      A(K, K, $),
      A(K, K, ne),
      A(K, K, ne),
      A(B[0], K, ne),
      F(w, B[0]),
      A(w, w, ne),
      z(w, $) && A(B[0], B[0], C),
      F(w, B[0]),
      A(w, w, ne),
      z(w, $)
        ? -1
        : (Y(B[0]) === j[31] >> 7 && V(B[0], h, B[0]), A(B[3], B[0], B[1]), 0)
    );
  }
  function se(B, j, K) {
    const w = new Uint8Array(32),
      $ = [n(), n(), n(), n()],
      ne = [n(), n(), n(), n()];
    if (K.length !== r.SIGNATURE_LENGTH)
      throw new Error(`ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`);
    if (Z(ne, B)) return !1;
    const ce = new t.SHA512();
    ce.update(K.subarray(0, 32)), ce.update(B), ce.update(j);
    const fe = ce.digest();
    return (
      p(fe), l($, ne, fe), b(ne, K.subarray(32)), U($, ne), c(w, $), !Q(K, w)
    );
  }
  r.verify = se;
  function I(B) {
    let j = [n(), n(), n(), n()];
    if (Z(j, B)) throw new Error("Ed25519: invalid public key");
    let K = n(),
      w = n(),
      $ = j[1];
    k(K, f, $), V(w, f, $), ae(w, w), A(K, K, w);
    let ne = new Uint8Array(32);
    return G(ne, K), ne;
  }
  r.convertPublicKeyToX25519 = I;
  function ee(B) {
    const j = (0, t.hash)(B.subarray(0, 32));
    (j[0] &= 248), (j[31] &= 127), (j[31] |= 64);
    const K = new Uint8Array(j.subarray(0, 32));
    return (0, i.wipe)(j), K;
  }
  r.convertSecretKeyToX25519 = ee;
})(q0);
const XA = "EdDSA",
  ZA = "JWT",
  df = ".",
  jf = "base64url",
  Tb = "utf8",
  Fb = "utf8",
  eE = ":",
  tE = "did",
  rE = "key",
  F1 = "base58btc",
  iE = "z",
  nE = "K36",
  sE = 32,
  aE = (r) =>
    JSON.stringify(r, (e, t) =>
      typeof t == "bigint" ? t.toString() + "n" : t
    ),
  oE = (r) => {
    const e =
        /([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,
      t = r.replace(e, '$1"$2n"$3');
    return JSON.parse(t, (i, n) =>
      typeof n == "string" && n.match(/^\d+n$/)
        ? BigInt(n.substring(0, n.length - 1))
        : n
    );
  };
function va(r) {
  if (typeof r != "string")
    throw new Error(`Cannot safe json parse value of type ${typeof r}`);
  try {
    return oE(r);
  } catch {
    return r;
  }
}
function ms(r) {
  return typeof r == "string" ? r : aE(r) || "";
}
function B1(r) {
  return va(Er(Ar(r, jf), Tb));
}
function pf(r) {
  return Er(Ar(ms(r), Tb), jf);
}
function Bb(r) {
  const e = Ar(nE, F1),
    t = iE + Er(Qh([e, r]), F1);
  return [tE, rE, t].join(eE);
}
function cE(r) {
  return Er(r, jf);
}
function hE(r) {
  return Ar(r, jf);
}
function fE(r) {
  return Ar([pf(r.header), pf(r.payload)].join(df), Fb);
}
function uE(r) {
  return [pf(r.header), pf(r.payload), cE(r.signature)].join(df);
}
function o0(r) {
  const e = r.split(df),
    t = B1(e[0]),
    i = B1(e[1]),
    n = hE(e[2]),
    a = Ar(e.slice(0, 2).join(df), Fb);
  return { header: t, payload: i, signature: n, data: a };
}
function L1(r = zs.randomBytes(sE)) {
  return q0.generateKeyPairFromSeed(r);
}
async function lE(r, e, t, i, n = xe.fromMiliseconds(Date.now())) {
  const a = { alg: XA, typ: ZA },
    h = Bb(i.publicKey),
    f = n + t,
    v = { iss: h, sub: r, aud: e, iat: n, exp: f },
    g = fE({ header: a, payload: v }),
    y = q0.sign(i.secretKey, g);
  return uE({ header: a, payload: v, signature: y });
}
const dE = {
    waku: {
      publish: "waku_publish",
      batchPublish: "waku_batchPublish",
      subscribe: "waku_subscribe",
      batchSubscribe: "waku_batchSubscribe",
      subscription: "waku_subscription",
      unsubscribe: "waku_unsubscribe",
      batchUnsubscribe: "waku_batchUnsubscribe",
      batchFetchMessages: "waku_batchFetchMessages",
    },
    irn: {
      publish: "irn_publish",
      batchPublish: "irn_batchPublish",
      subscribe: "irn_subscribe",
      batchSubscribe: "irn_batchSubscribe",
      subscription: "irn_subscription",
      unsubscribe: "irn_unsubscribe",
      batchUnsubscribe: "irn_batchUnsubscribe",
      batchFetchMessages: "irn_batchFetchMessages",
    },
    iridium: {
      publish: "iridium_publish",
      batchPublish: "iridium_batchPublish",
      subscribe: "iridium_subscribe",
      batchSubscribe: "iridium_batchSubscribe",
      subscription: "iridium_subscription",
      unsubscribe: "iridium_unsubscribe",
      batchUnsubscribe: "iridium_batchUnsubscribe",
      batchFetchMessages: "iridium_batchFetchMessages",
    },
  },
  pE = ":";
function oc(r) {
  const [e, t] = r.split(pE);
  return { namespace: e, reference: t };
}
function q1(r, e = []) {
  const t = [];
  return (
    Object.keys(r).forEach((i) => {
      if (e.length && !e.includes(i)) return;
      const n = r[i];
      t.push(...n.accounts);
    }),
    t
  );
}
function Lb(r, e) {
  return r.includes(":") ? [r] : e.chains || [];
}
var gE = Object.defineProperty,
  U1 = Object.getOwnPropertySymbols,
  vE = Object.prototype.hasOwnProperty,
  bE = Object.prototype.propertyIsEnumerable,
  $1 = (r, e, t) =>
    e in r
      ? gE(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  z1 = (r, e) => {
    for (var t in e || (e = {})) vE.call(e, t) && $1(r, t, e[t]);
    if (U1) for (var t of U1(e)) bE.call(e, t) && $1(r, t, e[t]);
    return r;
  };
const mE = "ReactNative",
  _i = {
    reactNative: "react-native",
    node: "node",
    browser: "browser",
    unknown: "unknown",
  },
  yE = "js";
function gf() {
  return (
    typeof process < "u" &&
    typeof process.versions < "u" &&
    typeof process.versions.node < "u"
  );
}
function bo() {
  return !If() && !!M0() && navigator.product === mE;
}
function Ic() {
  return !gf() && !!M0() && !!If();
}
function Dc() {
  return bo()
    ? _i.reactNative
    : gf()
    ? _i.node
    : Ic()
    ? _i.browser
    : _i.unknown;
}
function wE() {
  var r;
  try {
    return bo() &&
      typeof global < "u" &&
      typeof (global == null ? void 0 : global.Application) < "u"
      ? (r = global.Application) == null
        ? void 0
        : r.applicationId
      : void 0;
  } catch {
    return;
  }
}
function _E(r, e) {
  let t = pc.parse(r);
  return (t = z1(z1({}, t), e)), (r = pc.stringify(t)), r;
}
function qb() {
  return zv() || { name: "", description: "", url: "", icons: [""] };
}
function AE() {
  if (
    Dc() === _i.reactNative &&
    typeof global < "u" &&
    typeof (global == null ? void 0 : global.Platform) < "u"
  ) {
    const { OS: t, Version: i } = global.Platform;
    return [t, i].join("-");
  }
  const r = i4();
  if (r === null) return "unknown";
  const e = r.os ? r.os.replace(" ", "").toLowerCase() : "unknown";
  return r.type === "browser"
    ? [e, r.name, r.version].join("-")
    : [e, r.version].join("-");
}
function EE() {
  var r;
  const e = Dc();
  return e === _i.browser
    ? [e, ((r = $v()) == null ? void 0 : r.host) || "unknown"].join(":")
    : e;
}
function Ub(r, e, t) {
  const i = AE(),
    n = EE();
  return [[r, e].join("-"), [yE, t].join("-"), i, n].join("/");
}
function xE({
  protocol: r,
  version: e,
  relayUrl: t,
  sdkVersion: i,
  auth: n,
  projectId: a,
  useOnCloseEvent: h,
  bundleId: f,
}) {
  const v = t.split("?"),
    g = Ub(r, e, i),
    y = {
      auth: n,
      ua: g,
      projectId: a,
      useOnCloseEvent: h || void 0,
      origin: f || void 0,
    },
    _ = _E(v[1] || "", y);
  return v[0] + "?" + _;
}
function fa(r, e) {
  return r.filter((t) => e.includes(t)).length === r.length;
}
function $b(r) {
  return Object.fromEntries(r.entries());
}
function zb(r) {
  return new Map(Object.entries(r));
}
function ca(r = xe.FIVE_MINUTES, e) {
  const t = xe.toMiliseconds(r || xe.FIVE_MINUTES);
  let i, n, a;
  return {
    resolve: (h) => {
      a && i && (clearTimeout(a), i(h));
    },
    reject: (h) => {
      a && n && (clearTimeout(a), n(h));
    },
    done: () =>
      new Promise((h, f) => {
        (a = setTimeout(() => {
          f(new Error(e));
        }, t)),
          (i = h),
          (n = f);
      }),
  };
}
function eo(r, e, t) {
  return new Promise(async (i, n) => {
    const a = setTimeout(() => n(new Error(t)), e);
    try {
      const h = await r;
      i(h);
    } catch (h) {
      n(h);
    }
    clearTimeout(a);
  });
}
function kb(r, e) {
  if (typeof e == "string" && e.startsWith(`${r}:`)) return e;
  if (r.toLowerCase() === "topic") {
    if (typeof e != "string")
      throw new Error('Value must be "string" for expirer target type: topic');
    return `topic:${e}`;
  } else if (r.toLowerCase() === "id") {
    if (typeof e != "number")
      throw new Error('Value must be "number" for expirer target type: id');
    return `id:${e}`;
  }
  throw new Error(`Unknown expirer target type: ${r}`);
}
function SE(r) {
  return kb("topic", r);
}
function ME(r) {
  return kb("id", r);
}
function jb(r) {
  const [e, t] = r.split(":"),
    i = { id: void 0, topic: void 0 };
  if (e === "topic" && typeof t == "string") i.topic = t;
  else if (e === "id" && Number.isInteger(Number(t))) i.id = Number(t);
  else
    throw new Error(
      `Invalid target, expected id:number or topic:string, got ${e}:${t}`
    );
  return i;
}
function vr(r, e) {
  return xe.fromMiliseconds((e || Date.now()) + xe.toMiliseconds(r));
}
function Ns(r) {
  return Date.now() >= xe.toMiliseconds(r);
}
function St(r, e) {
  return `${r}${e ? `:${e}` : ""}`;
}
function Xh(r = [], e = []) {
  return [...new Set([...r, ...e])];
}
async function IE({ id: r, topic: e, wcDeepLink: t }) {
  var i;
  try {
    if (!t) return;
    const n = typeof t == "string" ? JSON.parse(t) : t,
      a = n == null ? void 0 : n.href;
    if (typeof a != "string") return;
    const h = DE(a, r, e),
      f = Dc();
    if (f === _i.browser) {
      if (!((i = If()) != null && i.hasFocus())) {
        console.warn("Document does not have focus, skipping deeplink.");
        return;
      }
      h.startsWith("https://") || h.startsWith("http://")
        ? window.open(h, "_blank", "noreferrer noopener")
        : window.open(h, CE() ? "_blank" : "_self", "noreferrer noopener");
    } else
      f === _i.reactNative &&
        typeof (global == null ? void 0 : global.Linking) < "u" &&
        (await global.Linking.openURL(h));
  } catch (n) {
    console.error(n);
  }
}
function DE(r, e, t) {
  const i = `requestId=${e}&sessionTopic=${t}`;
  r.endsWith("/") && (r = r.slice(0, -1));
  let n = `${r}`;
  if (r.startsWith("https://t.me")) {
    const a = r.includes("?") ? "&startapp=" : "?startapp=";
    n = `${n}${a}${OE(i, !0)}`;
  } else n = `${n}/wc?${i}`;
  return n;
}
async function PE(r, e) {
  let t = "";
  try {
    if (Ic() && ((t = localStorage.getItem(e)), t)) return t;
    t = await r.getItem(e);
  } catch (i) {
    console.error(i);
  }
  return t;
}
function k1(r, e) {
  if (!r.includes(e)) return null;
  const t = r.split(/([&,?,=])/),
    i = t.indexOf(e);
  return t[i + 2];
}
function j1() {
  return typeof crypto < "u" && crypto != null && crypto.randomUUID
    ? crypto.randomUUID()
    : "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu, (r) => {
        const e = (Math.random() * 16) | 0;
        return (r === "x" ? e : (e & 3) | 8).toString(16);
      });
}
function U0() {
  return typeof process < "u" && {}.IS_VITEST === "true";
}
function CE() {
  return (
    typeof window < "u" &&
    (!!window.TelegramWebviewProxy ||
      !!window.Telegram ||
      !!window.TelegramWebviewProxyProto)
  );
}
function OE(r, e = !1) {
  const t = Buffer.from(r).toString("base64");
  return e ? t.replace(/[=]/g, "") : t;
}
function Hb(r) {
  return Buffer.from(r, "base64").toString("utf-8");
}
var Kb =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof global < "u"
    ? global
    : typeof self < "u"
    ? self
    : {};
function NE(r) {
  var e = r.default;
  if (typeof e == "function") {
    var t = function () {
      return e.apply(this, arguments);
    };
    t.prototype = e.prototype;
  } else t = {};
  return (
    Object.defineProperty(t, "__esModule", { value: !0 }),
    Object.keys(r).forEach(function (i) {
      var n = Object.getOwnPropertyDescriptor(r, i);
      Object.defineProperty(
        t,
        i,
        n.get
          ? n
          : {
              enumerable: !0,
              get: function () {
                return r[i];
              },
            }
      );
    }),
    t
  );
}
var Vb = { exports: {} };
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */ (function (r) {
  (function () {
    var e = "input is invalid type",
      t = "finalize already called",
      i = typeof window == "object",
      n = i ? window : {};
    n.JS_SHA3_NO_WINDOW && (i = !1);
    var a = !i && typeof self == "object",
      h =
        !n.JS_SHA3_NO_NODE_JS &&
        typeof process == "object" &&
        process.versions &&
        process.versions.node;
    h ? (n = Kb) : a && (n = self);
    var f = !n.JS_SHA3_NO_COMMON_JS && !0 && r.exports,
      v = !n.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer < "u",
      g = "0123456789abcdef".split(""),
      y = [31, 7936, 2031616, 520093696],
      _ = [4, 1024, 262144, 67108864],
      C = [1, 256, 65536, 16777216],
      P = [6, 1536, 393216, 100663296],
      O = [0, 8, 16, 24],
      H = [
        1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0,
        2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136,
        0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905,
        2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648,
        32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896,
        2147483648, 2147483649, 0, 2147516424, 2147483648,
      ],
      G = [224, 256, 384, 512],
      Q = [128, 256],
      z = ["hex", "buffer", "arrayBuffer", "array", "digest"],
      Y = { 128: 168, 256: 136 };
    (n.JS_SHA3_NO_NODE_JS || !Array.isArray) &&
      (Array.isArray = function (I) {
        return Object.prototype.toString.call(I) === "[object Array]";
      }),
      v &&
        (n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView) &&
        (ArrayBuffer.isView = function (I) {
          return (
            typeof I == "object" &&
            I.buffer &&
            I.buffer.constructor === ArrayBuffer
          );
        });
    for (
      var q = function (I, ee, B) {
          return function (j) {
            return new R(I, ee, I).update(j)[B]();
          };
        },
        k = function (I, ee, B) {
          return function (j, K) {
            return new R(I, ee, K).update(j)[B]();
          };
        },
        V = function (I, ee, B) {
          return function (j, K, w, $) {
            return l["cshake" + I].update(j, K, w, $)[B]();
          };
        },
        A = function (I, ee, B) {
          return function (j, K, w, $) {
            return l["kmac" + I].update(j, K, w, $)[B]();
          };
        },
        F = function (I, ee, B, j) {
          for (var K = 0; K < z.length; ++K) {
            var w = z[K];
            I[w] = ee(B, j, w);
          }
          return I;
        },
        ae = function (I, ee) {
          var B = q(I, ee, "hex");
          return (
            (B.create = function () {
              return new R(I, ee, I);
            }),
            (B.update = function (j) {
              return B.create().update(j);
            }),
            F(B, q, I, ee)
          );
        },
        de = function (I, ee) {
          var B = k(I, ee, "hex");
          return (
            (B.create = function (j) {
              return new R(I, ee, j);
            }),
            (B.update = function (j, K) {
              return B.create(K).update(j);
            }),
            F(B, k, I, ee)
          );
        },
        U = function (I, ee) {
          var B = Y[I],
            j = V(I, ee, "hex");
          return (
            (j.create = function (K, w, $) {
              return !w && !$
                ? l["shake" + I].create(K)
                : new R(I, ee, K).bytepad([w, $], B);
            }),
            (j.update = function (K, w, $, ne) {
              return j.create(w, $, ne).update(K);
            }),
            F(j, V, I, ee)
          );
        },
        m = function (I, ee) {
          var B = Y[I],
            j = A(I, ee, "hex");
          return (
            (j.create = function (K, w, $) {
              return new Z(I, ee, w).bytepad(["KMAC", $], B).bytepad([K], B);
            }),
            (j.update = function (K, w, $, ne) {
              return j.create(K, $, ne).update(w);
            }),
            F(j, A, I, ee)
          );
        },
        c = [
          { name: "keccak", padding: C, bits: G, createMethod: ae },
          { name: "sha3", padding: P, bits: G, createMethod: ae },
          { name: "shake", padding: y, bits: Q, createMethod: de },
          { name: "cshake", padding: _, bits: Q, createMethod: U },
          { name: "kmac", padding: _, bits: Q, createMethod: m },
        ],
        l = {},
        b = [],
        x = 0;
      x < c.length;
      ++x
    )
      for (var M = c[x], D = M.bits, S = 0; S < D.length; ++S) {
        var d = M.name + "_" + D[S];
        if (
          (b.push(d),
          (l[d] = M.createMethod(D[S], M.padding)),
          M.name !== "sha3")
        ) {
          var p = M.name + D[S];
          b.push(p), (l[p] = l[d]);
        }
      }
    function R(I, ee, B) {
      (this.blocks = []),
        (this.s = []),
        (this.padding = ee),
        (this.outputBits = B),
        (this.reset = !0),
        (this.finalized = !1),
        (this.block = 0),
        (this.start = 0),
        (this.blockCount = (1600 - (I << 1)) >> 5),
        (this.byteCount = this.blockCount << 2),
        (this.outputBlocks = B >> 5),
        (this.extraBytes = (B & 31) >> 3);
      for (var j = 0; j < 50; ++j) this.s[j] = 0;
    }
    (R.prototype.update = function (I) {
      if (this.finalized) throw new Error(t);
      var ee,
        B = typeof I;
      if (B !== "string") {
        if (B === "object") {
          if (I === null) throw new Error(e);
          if (v && I.constructor === ArrayBuffer) I = new Uint8Array(I);
          else if (!Array.isArray(I) && (!v || !ArrayBuffer.isView(I)))
            throw new Error(e);
        } else throw new Error(e);
        ee = !0;
      }
      for (
        var j = this.blocks,
          K = this.byteCount,
          w = I.length,
          $ = this.blockCount,
          ne = 0,
          ce = this.s,
          fe,
          ye;
        ne < w;

      ) {
        if (this.reset)
          for (this.reset = !1, j[0] = this.block, fe = 1; fe < $ + 1; ++fe)
            j[fe] = 0;
        if (ee)
          for (fe = this.start; ne < w && fe < K; ++ne)
            j[fe >> 2] |= I[ne] << O[fe++ & 3];
        else
          for (fe = this.start; ne < w && fe < K; ++ne)
            (ye = I.charCodeAt(ne)),
              ye < 128
                ? (j[fe >> 2] |= ye << O[fe++ & 3])
                : ye < 2048
                ? ((j[fe >> 2] |= (192 | (ye >> 6)) << O[fe++ & 3]),
                  (j[fe >> 2] |= (128 | (ye & 63)) << O[fe++ & 3]))
                : ye < 55296 || ye >= 57344
                ? ((j[fe >> 2] |= (224 | (ye >> 12)) << O[fe++ & 3]),
                  (j[fe >> 2] |= (128 | ((ye >> 6) & 63)) << O[fe++ & 3]),
                  (j[fe >> 2] |= (128 | (ye & 63)) << O[fe++ & 3]))
                : ((ye =
                    65536 +
                    (((ye & 1023) << 10) | (I.charCodeAt(++ne) & 1023))),
                  (j[fe >> 2] |= (240 | (ye >> 18)) << O[fe++ & 3]),
                  (j[fe >> 2] |= (128 | ((ye >> 12) & 63)) << O[fe++ & 3]),
                  (j[fe >> 2] |= (128 | ((ye >> 6) & 63)) << O[fe++ & 3]),
                  (j[fe >> 2] |= (128 | (ye & 63)) << O[fe++ & 3]));
        if (((this.lastByteIndex = fe), fe >= K)) {
          for (this.start = fe - K, this.block = j[$], fe = 0; fe < $; ++fe)
            ce[fe] ^= j[fe];
          se(ce), (this.reset = !0);
        } else this.start = fe;
      }
      return this;
    }),
      (R.prototype.encode = function (I, ee) {
        var B = I & 255,
          j = 1,
          K = [B];
        for (I = I >> 8, B = I & 255; B > 0; )
          K.unshift(B), (I = I >> 8), (B = I & 255), ++j;
        return ee ? K.push(j) : K.unshift(j), this.update(K), K.length;
      }),
      (R.prototype.encodeString = function (I) {
        var ee,
          B = typeof I;
        if (B !== "string") {
          if (B === "object") {
            if (I === null) throw new Error(e);
            if (v && I.constructor === ArrayBuffer) I = new Uint8Array(I);
            else if (!Array.isArray(I) && (!v || !ArrayBuffer.isView(I)))
              throw new Error(e);
          } else throw new Error(e);
          ee = !0;
        }
        var j = 0,
          K = I.length;
        if (ee) j = K;
        else
          for (var w = 0; w < I.length; ++w) {
            var $ = I.charCodeAt(w);
            $ < 128
              ? (j += 1)
              : $ < 2048
              ? (j += 2)
              : $ < 55296 || $ >= 57344
              ? (j += 3)
              : (($ =
                  65536 + ((($ & 1023) << 10) | (I.charCodeAt(++w) & 1023))),
                (j += 4));
          }
        return (j += this.encode(j * 8)), this.update(I), j;
      }),
      (R.prototype.bytepad = function (I, ee) {
        for (var B = this.encode(ee), j = 0; j < I.length; ++j)
          B += this.encodeString(I[j]);
        var K = ee - (B % ee),
          w = [];
        return (w.length = K), this.update(w), this;
      }),
      (R.prototype.finalize = function () {
        if (!this.finalized) {
          this.finalized = !0;
          var I = this.blocks,
            ee = this.lastByteIndex,
            B = this.blockCount,
            j = this.s;
          if (
            ((I[ee >> 2] |= this.padding[ee & 3]),
            this.lastByteIndex === this.byteCount)
          )
            for (I[0] = I[B], ee = 1; ee < B + 1; ++ee) I[ee] = 0;
          for (I[B - 1] |= 2147483648, ee = 0; ee < B; ++ee) j[ee] ^= I[ee];
          se(j);
        }
      }),
      (R.prototype.toString = R.prototype.hex =
        function () {
          this.finalize();
          for (
            var I = this.blockCount,
              ee = this.s,
              B = this.outputBlocks,
              j = this.extraBytes,
              K = 0,
              w = 0,
              $ = "",
              ne;
            w < B;

          ) {
            for (K = 0; K < I && w < B; ++K, ++w)
              (ne = ee[K]),
                ($ +=
                  g[(ne >> 4) & 15] +
                  g[ne & 15] +
                  g[(ne >> 12) & 15] +
                  g[(ne >> 8) & 15] +
                  g[(ne >> 20) & 15] +
                  g[(ne >> 16) & 15] +
                  g[(ne >> 28) & 15] +
                  g[(ne >> 24) & 15]);
            w % I === 0 && (se(ee), (K = 0));
          }
          return (
            j &&
              ((ne = ee[K]),
              ($ += g[(ne >> 4) & 15] + g[ne & 15]),
              j > 1 && ($ += g[(ne >> 12) & 15] + g[(ne >> 8) & 15]),
              j > 2 && ($ += g[(ne >> 20) & 15] + g[(ne >> 16) & 15])),
            $
          );
        }),
      (R.prototype.arrayBuffer = function () {
        this.finalize();
        var I = this.blockCount,
          ee = this.s,
          B = this.outputBlocks,
          j = this.extraBytes,
          K = 0,
          w = 0,
          $ = this.outputBits >> 3,
          ne;
        j ? (ne = new ArrayBuffer((B + 1) << 2)) : (ne = new ArrayBuffer($));
        for (var ce = new Uint32Array(ne); w < B; ) {
          for (K = 0; K < I && w < B; ++K, ++w) ce[w] = ee[K];
          w % I === 0 && se(ee);
        }
        return j && ((ce[K] = ee[K]), (ne = ne.slice(0, $))), ne;
      }),
      (R.prototype.buffer = R.prototype.arrayBuffer),
      (R.prototype.digest = R.prototype.array =
        function () {
          this.finalize();
          for (
            var I = this.blockCount,
              ee = this.s,
              B = this.outputBlocks,
              j = this.extraBytes,
              K = 0,
              w = 0,
              $ = [],
              ne,
              ce;
            w < B;

          ) {
            for (K = 0; K < I && w < B; ++K, ++w)
              (ne = w << 2),
                (ce = ee[K]),
                ($[ne] = ce & 255),
                ($[ne + 1] = (ce >> 8) & 255),
                ($[ne + 2] = (ce >> 16) & 255),
                ($[ne + 3] = (ce >> 24) & 255);
            w % I === 0 && se(ee);
          }
          return (
            j &&
              ((ne = w << 2),
              (ce = ee[K]),
              ($[ne] = ce & 255),
              j > 1 && ($[ne + 1] = (ce >> 8) & 255),
              j > 2 && ($[ne + 2] = (ce >> 16) & 255)),
            $
          );
        });
    function Z(I, ee, B) {
      R.call(this, I, ee, B);
    }
    (Z.prototype = new R()),
      (Z.prototype.finalize = function () {
        return (
          this.encode(this.outputBits, !0), R.prototype.finalize.call(this)
        );
      });
    var se = function (I) {
      var ee,
        B,
        j,
        K,
        w,
        $,
        ne,
        ce,
        fe,
        ye,
        we,
        Ne,
        Qe,
        Pe,
        Re,
        Me,
        me,
        Ce,
        Te,
        ve,
        Oe,
        Se,
        be,
        qe,
        Ie,
        _e,
        He,
        Ve,
        Ee,
        Ke,
        ut,
        Ge,
        _t,
        lt,
        Je,
        Et,
        Mt,
        Fe,
        Xe,
        tt,
        Be,
        et,
        Ze,
        $e,
        ht,
        rt,
        ze,
        it,
        st,
        Le,
        Ye,
        ft,
        ke,
        Rt,
        Tt,
        at,
        bt,
        Rr,
        Tr,
        Fr,
        Br,
        Lr,
        er;
      for (j = 0; j < 48; j += 2)
        (K = I[0] ^ I[10] ^ I[20] ^ I[30] ^ I[40]),
          (w = I[1] ^ I[11] ^ I[21] ^ I[31] ^ I[41]),
          ($ = I[2] ^ I[12] ^ I[22] ^ I[32] ^ I[42]),
          (ne = I[3] ^ I[13] ^ I[23] ^ I[33] ^ I[43]),
          (ce = I[4] ^ I[14] ^ I[24] ^ I[34] ^ I[44]),
          (fe = I[5] ^ I[15] ^ I[25] ^ I[35] ^ I[45]),
          (ye = I[6] ^ I[16] ^ I[26] ^ I[36] ^ I[46]),
          (we = I[7] ^ I[17] ^ I[27] ^ I[37] ^ I[47]),
          (Ne = I[8] ^ I[18] ^ I[28] ^ I[38] ^ I[48]),
          (Qe = I[9] ^ I[19] ^ I[29] ^ I[39] ^ I[49]),
          (ee = Ne ^ (($ << 1) | (ne >>> 31))),
          (B = Qe ^ ((ne << 1) | ($ >>> 31))),
          (I[0] ^= ee),
          (I[1] ^= B),
          (I[10] ^= ee),
          (I[11] ^= B),
          (I[20] ^= ee),
          (I[21] ^= B),
          (I[30] ^= ee),
          (I[31] ^= B),
          (I[40] ^= ee),
          (I[41] ^= B),
          (ee = K ^ ((ce << 1) | (fe >>> 31))),
          (B = w ^ ((fe << 1) | (ce >>> 31))),
          (I[2] ^= ee),
          (I[3] ^= B),
          (I[12] ^= ee),
          (I[13] ^= B),
          (I[22] ^= ee),
          (I[23] ^= B),
          (I[32] ^= ee),
          (I[33] ^= B),
          (I[42] ^= ee),
          (I[43] ^= B),
          (ee = $ ^ ((ye << 1) | (we >>> 31))),
          (B = ne ^ ((we << 1) | (ye >>> 31))),
          (I[4] ^= ee),
          (I[5] ^= B),
          (I[14] ^= ee),
          (I[15] ^= B),
          (I[24] ^= ee),
          (I[25] ^= B),
          (I[34] ^= ee),
          (I[35] ^= B),
          (I[44] ^= ee),
          (I[45] ^= B),
          (ee = ce ^ ((Ne << 1) | (Qe >>> 31))),
          (B = fe ^ ((Qe << 1) | (Ne >>> 31))),
          (I[6] ^= ee),
          (I[7] ^= B),
          (I[16] ^= ee),
          (I[17] ^= B),
          (I[26] ^= ee),
          (I[27] ^= B),
          (I[36] ^= ee),
          (I[37] ^= B),
          (I[46] ^= ee),
          (I[47] ^= B),
          (ee = ye ^ ((K << 1) | (w >>> 31))),
          (B = we ^ ((w << 1) | (K >>> 31))),
          (I[8] ^= ee),
          (I[9] ^= B),
          (I[18] ^= ee),
          (I[19] ^= B),
          (I[28] ^= ee),
          (I[29] ^= B),
          (I[38] ^= ee),
          (I[39] ^= B),
          (I[48] ^= ee),
          (I[49] ^= B),
          (Pe = I[0]),
          (Re = I[1]),
          (rt = (I[11] << 4) | (I[10] >>> 28)),
          (ze = (I[10] << 4) | (I[11] >>> 28)),
          (Ve = (I[20] << 3) | (I[21] >>> 29)),
          (Ee = (I[21] << 3) | (I[20] >>> 29)),
          (Fr = (I[31] << 9) | (I[30] >>> 23)),
          (Br = (I[30] << 9) | (I[31] >>> 23)),
          (et = (I[40] << 18) | (I[41] >>> 14)),
          (Ze = (I[41] << 18) | (I[40] >>> 14)),
          (lt = (I[2] << 1) | (I[3] >>> 31)),
          (Je = (I[3] << 1) | (I[2] >>> 31)),
          (Me = (I[13] << 12) | (I[12] >>> 20)),
          (me = (I[12] << 12) | (I[13] >>> 20)),
          (it = (I[22] << 10) | (I[23] >>> 22)),
          (st = (I[23] << 10) | (I[22] >>> 22)),
          (Ke = (I[33] << 13) | (I[32] >>> 19)),
          (ut = (I[32] << 13) | (I[33] >>> 19)),
          (Lr = (I[42] << 2) | (I[43] >>> 30)),
          (er = (I[43] << 2) | (I[42] >>> 30)),
          (Rt = (I[5] << 30) | (I[4] >>> 2)),
          (Tt = (I[4] << 30) | (I[5] >>> 2)),
          (Et = (I[14] << 6) | (I[15] >>> 26)),
          (Mt = (I[15] << 6) | (I[14] >>> 26)),
          (Ce = (I[25] << 11) | (I[24] >>> 21)),
          (Te = (I[24] << 11) | (I[25] >>> 21)),
          (Le = (I[34] << 15) | (I[35] >>> 17)),
          (Ye = (I[35] << 15) | (I[34] >>> 17)),
          (Ge = (I[45] << 29) | (I[44] >>> 3)),
          (_t = (I[44] << 29) | (I[45] >>> 3)),
          (qe = (I[6] << 28) | (I[7] >>> 4)),
          (Ie = (I[7] << 28) | (I[6] >>> 4)),
          (at = (I[17] << 23) | (I[16] >>> 9)),
          (bt = (I[16] << 23) | (I[17] >>> 9)),
          (Fe = (I[26] << 25) | (I[27] >>> 7)),
          (Xe = (I[27] << 25) | (I[26] >>> 7)),
          (ve = (I[36] << 21) | (I[37] >>> 11)),
          (Oe = (I[37] << 21) | (I[36] >>> 11)),
          (ft = (I[47] << 24) | (I[46] >>> 8)),
          (ke = (I[46] << 24) | (I[47] >>> 8)),
          ($e = (I[8] << 27) | (I[9] >>> 5)),
          (ht = (I[9] << 27) | (I[8] >>> 5)),
          (_e = (I[18] << 20) | (I[19] >>> 12)),
          (He = (I[19] << 20) | (I[18] >>> 12)),
          (Rr = (I[29] << 7) | (I[28] >>> 25)),
          (Tr = (I[28] << 7) | (I[29] >>> 25)),
          (tt = (I[38] << 8) | (I[39] >>> 24)),
          (Be = (I[39] << 8) | (I[38] >>> 24)),
          (Se = (I[48] << 14) | (I[49] >>> 18)),
          (be = (I[49] << 14) | (I[48] >>> 18)),
          (I[0] = Pe ^ (~Me & Ce)),
          (I[1] = Re ^ (~me & Te)),
          (I[10] = qe ^ (~_e & Ve)),
          (I[11] = Ie ^ (~He & Ee)),
          (I[20] = lt ^ (~Et & Fe)),
          (I[21] = Je ^ (~Mt & Xe)),
          (I[30] = $e ^ (~rt & it)),
          (I[31] = ht ^ (~ze & st)),
          (I[40] = Rt ^ (~at & Rr)),
          (I[41] = Tt ^ (~bt & Tr)),
          (I[2] = Me ^ (~Ce & ve)),
          (I[3] = me ^ (~Te & Oe)),
          (I[12] = _e ^ (~Ve & Ke)),
          (I[13] = He ^ (~Ee & ut)),
          (I[22] = Et ^ (~Fe & tt)),
          (I[23] = Mt ^ (~Xe & Be)),
          (I[32] = rt ^ (~it & Le)),
          (I[33] = ze ^ (~st & Ye)),
          (I[42] = at ^ (~Rr & Fr)),
          (I[43] = bt ^ (~Tr & Br)),
          (I[4] = Ce ^ (~ve & Se)),
          (I[5] = Te ^ (~Oe & be)),
          (I[14] = Ve ^ (~Ke & Ge)),
          (I[15] = Ee ^ (~ut & _t)),
          (I[24] = Fe ^ (~tt & et)),
          (I[25] = Xe ^ (~Be & Ze)),
          (I[34] = it ^ (~Le & ft)),
          (I[35] = st ^ (~Ye & ke)),
          (I[44] = Rr ^ (~Fr & Lr)),
          (I[45] = Tr ^ (~Br & er)),
          (I[6] = ve ^ (~Se & Pe)),
          (I[7] = Oe ^ (~be & Re)),
          (I[16] = Ke ^ (~Ge & qe)),
          (I[17] = ut ^ (~_t & Ie)),
          (I[26] = tt ^ (~et & lt)),
          (I[27] = Be ^ (~Ze & Je)),
          (I[36] = Le ^ (~ft & $e)),
          (I[37] = Ye ^ (~ke & ht)),
          (I[46] = Fr ^ (~Lr & Rt)),
          (I[47] = Br ^ (~er & Tt)),
          (I[8] = Se ^ (~Pe & Me)),
          (I[9] = be ^ (~Re & me)),
          (I[18] = Ge ^ (~qe & _e)),
          (I[19] = _t ^ (~Ie & He)),
          (I[28] = et ^ (~lt & Et)),
          (I[29] = Ze ^ (~Je & Mt)),
          (I[38] = ft ^ (~$e & rt)),
          (I[39] = ke ^ (~ht & ze)),
          (I[48] = Lr ^ (~Rt & at)),
          (I[49] = er ^ (~Tt & bt)),
          (I[0] ^= H[j]),
          (I[1] ^= H[j + 1]);
    };
    if (f) r.exports = l;
    else for (x = 0; x < b.length; ++x) n[b[x]] = l[b[x]];
  })();
})(Vb);
var RE = Vb.exports;
const TE = "logger/5.7.0";
let H1 = !1,
  K1 = !1;
const Zh = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 };
let V1 = Zh.default,
  wl = null;
function FE() {
  try {
    const r = [];
    if (
      (["NFD", "NFC", "NFKD", "NFKC"].forEach((e) => {
        try {
          if ("test".normalize(e) !== "test") throw new Error("bad normalize");
        } catch {
          r.push(e);
        }
      }),
      r.length)
    )
      throw new Error("missing " + r.join(", "));
    if (
      String.fromCharCode(233).normalize("NFD") !==
      String.fromCharCode(101, 769)
    )
      throw new Error("broken implementation");
  } catch (r) {
    return r.message;
  }
  return null;
}
const G1 = FE();
var c0;
(function (r) {
  (r.DEBUG = "DEBUG"),
    (r.INFO = "INFO"),
    (r.WARNING = "WARNING"),
    (r.ERROR = "ERROR"),
    (r.OFF = "OFF");
})(c0 || (c0 = {}));
var fn;
(function (r) {
  (r.UNKNOWN_ERROR = "UNKNOWN_ERROR"),
    (r.NOT_IMPLEMENTED = "NOT_IMPLEMENTED"),
    (r.UNSUPPORTED_OPERATION = "UNSUPPORTED_OPERATION"),
    (r.NETWORK_ERROR = "NETWORK_ERROR"),
    (r.SERVER_ERROR = "SERVER_ERROR"),
    (r.TIMEOUT = "TIMEOUT"),
    (r.BUFFER_OVERRUN = "BUFFER_OVERRUN"),
    (r.NUMERIC_FAULT = "NUMERIC_FAULT"),
    (r.MISSING_NEW = "MISSING_NEW"),
    (r.INVALID_ARGUMENT = "INVALID_ARGUMENT"),
    (r.MISSING_ARGUMENT = "MISSING_ARGUMENT"),
    (r.UNEXPECTED_ARGUMENT = "UNEXPECTED_ARGUMENT"),
    (r.CALL_EXCEPTION = "CALL_EXCEPTION"),
    (r.INSUFFICIENT_FUNDS = "INSUFFICIENT_FUNDS"),
    (r.NONCE_EXPIRED = "NONCE_EXPIRED"),
    (r.REPLACEMENT_UNDERPRICED = "REPLACEMENT_UNDERPRICED"),
    (r.UNPREDICTABLE_GAS_LIMIT = "UNPREDICTABLE_GAS_LIMIT"),
    (r.TRANSACTION_REPLACED = "TRANSACTION_REPLACED"),
    (r.ACTION_REJECTED = "ACTION_REJECTED");
})(fn || (fn = {}));
const W1 = "0123456789abcdef";
let Pr = class gr {
  constructor(e) {
    Object.defineProperty(this, "version", {
      enumerable: !0,
      value: e,
      writable: !1,
    });
  }
  _log(e, t) {
    const i = e.toLowerCase();
    Zh[i] == null &&
      this.throwArgumentError("invalid log level name", "logLevel", e),
      !(V1 > Zh[i]) && console.log.apply(console, t);
  }
  debug(...e) {
    this._log(gr.levels.DEBUG, e);
  }
  info(...e) {
    this._log(gr.levels.INFO, e);
  }
  warn(...e) {
    this._log(gr.levels.WARNING, e);
  }
  makeError(e, t, i) {
    if (K1) return this.makeError("censored error", t, {});
    t || (t = gr.errors.UNKNOWN_ERROR), i || (i = {});
    const n = [];
    Object.keys(i).forEach((v) => {
      const g = i[v];
      try {
        if (g instanceof Uint8Array) {
          let y = "";
          for (let _ = 0; _ < g.length; _++)
            (y += W1[g[_] >> 4]), (y += W1[g[_] & 15]);
          n.push(v + "=Uint8Array(0x" + y + ")");
        } else n.push(v + "=" + JSON.stringify(g));
      } catch {
        n.push(v + "=" + JSON.stringify(i[v].toString()));
      }
    }),
      n.push(`code=${t}`),
      n.push(`version=${this.version}`);
    const a = e;
    let h = "";
    switch (t) {
      case fn.NUMERIC_FAULT: {
        h = "NUMERIC_FAULT";
        const v = e;
        switch (v) {
          case "overflow":
          case "underflow":
          case "division-by-zero":
            h += "-" + v;
            break;
          case "negative-power":
          case "negative-width":
            h += "-unsupported";
            break;
          case "unbound-bitwise-result":
            h += "-unbound-result";
            break;
        }
        break;
      }
      case fn.CALL_EXCEPTION:
      case fn.INSUFFICIENT_FUNDS:
      case fn.MISSING_NEW:
      case fn.NONCE_EXPIRED:
      case fn.REPLACEMENT_UNDERPRICED:
      case fn.TRANSACTION_REPLACED:
      case fn.UNPREDICTABLE_GAS_LIMIT:
        h = t;
        break;
    }
    h && (e += " [ See: https://links.ethers.org/v5-errors-" + h + " ]"),
      n.length && (e += " (" + n.join(", ") + ")");
    const f = new Error(e);
    return (
      (f.reason = a),
      (f.code = t),
      Object.keys(i).forEach(function (v) {
        f[v] = i[v];
      }),
      f
    );
  }
  throwError(e, t, i) {
    throw this.makeError(e, t, i);
  }
  throwArgumentError(e, t, i) {
    return this.throwError(e, gr.errors.INVALID_ARGUMENT, {
      argument: t,
      value: i,
    });
  }
  assert(e, t, i, n) {
    e || this.throwError(t, i, n);
  }
  assertArgument(e, t, i, n) {
    e || this.throwArgumentError(t, i, n);
  }
  checkNormalize(e) {
    G1 &&
      this.throwError(
        "platform missing String.prototype.normalize",
        gr.errors.UNSUPPORTED_OPERATION,
        { operation: "String.prototype.normalize", form: G1 }
      );
  }
  checkSafeUint53(e, t) {
    typeof e == "number" &&
      (t == null && (t = "value not safe"),
      (e < 0 || e >= 9007199254740991) &&
        this.throwError(t, gr.errors.NUMERIC_FAULT, {
          operation: "checkSafeInteger",
          fault: "out-of-safe-range",
          value: e,
        }),
      e % 1 &&
        this.throwError(t, gr.errors.NUMERIC_FAULT, {
          operation: "checkSafeInteger",
          fault: "non-integer",
          value: e,
        }));
  }
  checkArgumentCount(e, t, i) {
    i ? (i = ": " + i) : (i = ""),
      e < t &&
        this.throwError("missing argument" + i, gr.errors.MISSING_ARGUMENT, {
          count: e,
          expectedCount: t,
        }),
      e > t &&
        this.throwError(
          "too many arguments" + i,
          gr.errors.UNEXPECTED_ARGUMENT,
          { count: e, expectedCount: t }
        );
  }
  checkNew(e, t) {
    (e === Object || e == null) &&
      this.throwError("missing new", gr.errors.MISSING_NEW, { name: t.name });
  }
  checkAbstract(e, t) {
    e === t
      ? this.throwError(
          "cannot instantiate abstract class " +
            JSON.stringify(t.name) +
            " directly; use a sub-class",
          gr.errors.UNSUPPORTED_OPERATION,
          { name: e.name, operation: "new" }
        )
      : (e === Object || e == null) &&
        this.throwError("missing new", gr.errors.MISSING_NEW, { name: t.name });
  }
  static globalLogger() {
    return wl || (wl = new gr(TE)), wl;
  }
  static setCensorship(e, t) {
    if (
      (!e &&
        t &&
        this.globalLogger().throwError(
          "cannot permanently disable censorship",
          gr.errors.UNSUPPORTED_OPERATION,
          { operation: "setCensorship" }
        ),
      H1)
    ) {
      if (!e) return;
      this.globalLogger().throwError(
        "error censorship permanent",
        gr.errors.UNSUPPORTED_OPERATION,
        { operation: "setCensorship" }
      );
    }
    (K1 = !!e), (H1 = !!t);
  }
  static setLogLevel(e) {
    const t = Zh[e.toLowerCase()];
    if (t == null) {
      gr.globalLogger().warn("invalid log level - " + e);
      return;
    }
    V1 = t;
  }
  static from(e) {
    return new gr(e);
  }
};
(Pr.errors = fn), (Pr.levels = c0);
const BE = "bytes/5.7.0",
  cr = new Pr(BE);
function Gb(r) {
  return !!r.toHexString;
}
function to(r) {
  return (
    r.slice ||
      (r.slice = function () {
        const e = Array.prototype.slice.call(arguments);
        return to(new Uint8Array(Array.prototype.slice.apply(r, e)));
      }),
    r
  );
}
function LE(r) {
  return (Ai(r) && !(r.length % 2)) || mo(r);
}
function J1(r) {
  return typeof r == "number" && r == r && r % 1 === 0;
}
function mo(r) {
  if (r == null) return !1;
  if (r.constructor === Uint8Array) return !0;
  if (typeof r == "string" || !J1(r.length) || r.length < 0) return !1;
  for (let e = 0; e < r.length; e++) {
    const t = r[e];
    if (!J1(t) || t < 0 || t >= 256) return !1;
  }
  return !0;
}
function ir(r, e) {
  if ((e || (e = {}), typeof r == "number")) {
    cr.checkSafeUint53(r, "invalid arrayify value");
    const t = [];
    for (; r; ) t.unshift(r & 255), (r = parseInt(String(r / 256)));
    return t.length === 0 && t.push(0), to(new Uint8Array(t));
  }
  if (
    (e.allowMissingPrefix &&
      typeof r == "string" &&
      r.substring(0, 2) !== "0x" &&
      (r = "0x" + r),
    Gb(r) && (r = r.toHexString()),
    Ai(r))
  ) {
    let t = r.substring(2);
    t.length % 2 &&
      (e.hexPad === "left"
        ? (t = "0" + t)
        : e.hexPad === "right"
        ? (t += "0")
        : cr.throwArgumentError("hex data is odd-length", "value", r));
    const i = [];
    for (let n = 0; n < t.length; n += 2)
      i.push(parseInt(t.substring(n, n + 2), 16));
    return to(new Uint8Array(i));
  }
  return mo(r)
    ? to(new Uint8Array(r))
    : cr.throwArgumentError("invalid arrayify value", "value", r);
}
function qE(r) {
  const e = r.map((n) => ir(n)),
    t = e.reduce((n, a) => n + a.length, 0),
    i = new Uint8Array(t);
  return e.reduce((n, a) => (i.set(a, n), n + a.length), 0), to(i);
}
function UE(r, e) {
  (r = ir(r)),
    r.length > e &&
      cr.throwArgumentError("value out of range", "value", arguments[0]);
  const t = new Uint8Array(e);
  return t.set(r, e - r.length), to(t);
}
function Ai(r, e) {
  return !(
    typeof r != "string" ||
    !r.match(/^0x[0-9A-Fa-f]*$/) ||
    (e && r.length !== 2 + 2 * e)
  );
}
const _l = "0123456789abcdef";
function Wr(r, e) {
  if ((e || (e = {}), typeof r == "number")) {
    cr.checkSafeUint53(r, "invalid hexlify value");
    let t = "";
    for (; r; ) (t = _l[r & 15] + t), (r = Math.floor(r / 16));
    return t.length ? (t.length % 2 && (t = "0" + t), "0x" + t) : "0x00";
  }
  if (typeof r == "bigint")
    return (r = r.toString(16)), r.length % 2 ? "0x0" + r : "0x" + r;
  if (
    (e.allowMissingPrefix &&
      typeof r == "string" &&
      r.substring(0, 2) !== "0x" &&
      (r = "0x" + r),
    Gb(r))
  )
    return r.toHexString();
  if (Ai(r))
    return (
      r.length % 2 &&
        (e.hexPad === "left"
          ? (r = "0x0" + r.substring(2))
          : e.hexPad === "right"
          ? (r += "0")
          : cr.throwArgumentError("hex data is odd-length", "value", r)),
      r.toLowerCase()
    );
  if (mo(r)) {
    let t = "0x";
    for (let i = 0; i < r.length; i++) {
      let n = r[i];
      t += _l[(n & 240) >> 4] + _l[n & 15];
    }
    return t;
  }
  return cr.throwArgumentError("invalid hexlify value", "value", r);
}
function $E(r) {
  if (typeof r != "string") r = Wr(r);
  else if (!Ai(r) || r.length % 2) return null;
  return (r.length - 2) / 2;
}
function Y1(r, e, t) {
  return (
    typeof r != "string"
      ? (r = Wr(r))
      : (!Ai(r) || r.length % 2) &&
        cr.throwArgumentError("invalid hexData", "value", r),
    (e = 2 + 2 * e),
    t != null ? "0x" + r.substring(e, 2 + 2 * t) : "0x" + r.substring(e)
  );
}
function Bn(r, e) {
  for (
    typeof r != "string"
      ? (r = Wr(r))
      : Ai(r) || cr.throwArgumentError("invalid hex string", "value", r),
      r.length > 2 * e + 2 &&
        cr.throwArgumentError("value out of range", "value", arguments[1]);
    r.length < 2 * e + 2;

  )
    r = "0x0" + r.substring(2);
  return r;
}
function Wb(r) {
  const e = {
    r: "0x",
    s: "0x",
    _vs: "0x",
    recoveryParam: 0,
    v: 0,
    yParityAndS: "0x",
    compact: "0x",
  };
  if (LE(r)) {
    let t = ir(r);
    t.length === 64
      ? ((e.v = 27 + (t[32] >> 7)),
        (t[32] &= 127),
        (e.r = Wr(t.slice(0, 32))),
        (e.s = Wr(t.slice(32, 64))))
      : t.length === 65
      ? ((e.r = Wr(t.slice(0, 32))), (e.s = Wr(t.slice(32, 64))), (e.v = t[64]))
      : cr.throwArgumentError("invalid signature string", "signature", r),
      e.v < 27 &&
        (e.v === 0 || e.v === 1
          ? (e.v += 27)
          : cr.throwArgumentError("signature invalid v byte", "signature", r)),
      (e.recoveryParam = 1 - (e.v % 2)),
      e.recoveryParam && (t[32] |= 128),
      (e._vs = Wr(t.slice(32, 64)));
  } else {
    if (
      ((e.r = r.r),
      (e.s = r.s),
      (e.v = r.v),
      (e.recoveryParam = r.recoveryParam),
      (e._vs = r._vs),
      e._vs != null)
    ) {
      const n = UE(ir(e._vs), 32);
      e._vs = Wr(n);
      const a = n[0] >= 128 ? 1 : 0;
      e.recoveryParam == null
        ? (e.recoveryParam = a)
        : e.recoveryParam !== a &&
          cr.throwArgumentError(
            "signature recoveryParam mismatch _vs",
            "signature",
            r
          ),
        (n[0] &= 127);
      const h = Wr(n);
      e.s == null
        ? (e.s = h)
        : e.s !== h &&
          cr.throwArgumentError("signature v mismatch _vs", "signature", r);
    }
    if (e.recoveryParam == null)
      e.v == null
        ? cr.throwArgumentError(
            "signature missing v and recoveryParam",
            "signature",
            r
          )
        : e.v === 0 || e.v === 1
        ? (e.recoveryParam = e.v)
        : (e.recoveryParam = 1 - (e.v % 2));
    else if (e.v == null) e.v = 27 + e.recoveryParam;
    else {
      const n = e.v === 0 || e.v === 1 ? e.v : 1 - (e.v % 2);
      e.recoveryParam !== n &&
        cr.throwArgumentError(
          "signature recoveryParam mismatch v",
          "signature",
          r
        );
    }
    e.r == null || !Ai(e.r)
      ? cr.throwArgumentError("signature missing or invalid r", "signature", r)
      : (e.r = Bn(e.r, 32)),
      e.s == null || !Ai(e.s)
        ? cr.throwArgumentError(
            "signature missing or invalid s",
            "signature",
            r
          )
        : (e.s = Bn(e.s, 32));
    const t = ir(e.s);
    t[0] >= 128 &&
      cr.throwArgumentError("signature s out of range", "signature", r),
      e.recoveryParam && (t[0] |= 128);
    const i = Wr(t);
    e._vs &&
      (Ai(e._vs) ||
        cr.throwArgumentError("signature invalid _vs", "signature", r),
      (e._vs = Bn(e._vs, 32))),
      e._vs == null
        ? (e._vs = i)
        : e._vs !== i &&
          cr.throwArgumentError(
            "signature _vs mismatch v and s",
            "signature",
            r
          );
  }
  return (
    (e.yParityAndS = e._vs), (e.compact = e.r + e.yParityAndS.substring(2)), e
  );
}
function $0(r) {
  return "0x" + RE.keccak_256(ir(r));
}
var Jb = { exports: {} },
  zE = {},
  kE = Object.freeze({ __proto__: null, default: zE }),
  jE = NE(kE);
(function (r) {
  (function (e, t) {
    function i(c, l) {
      if (!c) throw new Error(l || "Assertion failed");
    }
    function n(c, l) {
      c.super_ = l;
      var b = function () {};
      (b.prototype = l.prototype),
        (c.prototype = new b()),
        (c.prototype.constructor = c);
    }
    function a(c, l, b) {
      if (a.isBN(c)) return c;
      (this.negative = 0),
        (this.words = null),
        (this.length = 0),
        (this.red = null),
        c !== null &&
          ((l === "le" || l === "be") && ((b = l), (l = 10)),
          this._init(c || 0, l || 10, b || "be"));
    }
    typeof e == "object" ? (e.exports = a) : (t.BN = a),
      (a.BN = a),
      (a.wordSize = 26);
    var h;
    try {
      typeof window < "u" && typeof window.Buffer < "u"
        ? (h = window.Buffer)
        : (h = jE.Buffer);
    } catch {}
    (a.isBN = function (c) {
      return c instanceof a
        ? !0
        : c !== null &&
            typeof c == "object" &&
            c.constructor.wordSize === a.wordSize &&
            Array.isArray(c.words);
    }),
      (a.max = function (c, l) {
        return c.cmp(l) > 0 ? c : l;
      }),
      (a.min = function (c, l) {
        return c.cmp(l) < 0 ? c : l;
      }),
      (a.prototype._init = function (c, l, b) {
        if (typeof c == "number") return this._initNumber(c, l, b);
        if (typeof c == "object") return this._initArray(c, l, b);
        l === "hex" && (l = 16),
          i(l === (l | 0) && l >= 2 && l <= 36),
          (c = c.toString().replace(/\s+/g, ""));
        var x = 0;
        c[0] === "-" && (x++, (this.negative = 1)),
          x < c.length &&
            (l === 16
              ? this._parseHex(c, x, b)
              : (this._parseBase(c, l, x),
                b === "le" && this._initArray(this.toArray(), l, b)));
      }),
      (a.prototype._initNumber = function (c, l, b) {
        c < 0 && ((this.negative = 1), (c = -c)),
          c < 67108864
            ? ((this.words = [c & 67108863]), (this.length = 1))
            : c < 4503599627370496
            ? ((this.words = [c & 67108863, (c / 67108864) & 67108863]),
              (this.length = 2))
            : (i(c < 9007199254740992),
              (this.words = [c & 67108863, (c / 67108864) & 67108863, 1]),
              (this.length = 3)),
          b === "le" && this._initArray(this.toArray(), l, b);
      }),
      (a.prototype._initArray = function (c, l, b) {
        if ((i(typeof c.length == "number"), c.length <= 0))
          return (this.words = [0]), (this.length = 1), this;
        (this.length = Math.ceil(c.length / 3)),
          (this.words = new Array(this.length));
        for (var x = 0; x < this.length; x++) this.words[x] = 0;
        var M,
          D,
          S = 0;
        if (b === "be")
          for (x = c.length - 1, M = 0; x >= 0; x -= 3)
            (D = c[x] | (c[x - 1] << 8) | (c[x - 2] << 16)),
              (this.words[M] |= (D << S) & 67108863),
              (this.words[M + 1] = (D >>> (26 - S)) & 67108863),
              (S += 24),
              S >= 26 && ((S -= 26), M++);
        else if (b === "le")
          for (x = 0, M = 0; x < c.length; x += 3)
            (D = c[x] | (c[x + 1] << 8) | (c[x + 2] << 16)),
              (this.words[M] |= (D << S) & 67108863),
              (this.words[M + 1] = (D >>> (26 - S)) & 67108863),
              (S += 24),
              S >= 26 && ((S -= 26), M++);
        return this._strip();
      });
    function f(c, l) {
      var b = c.charCodeAt(l);
      if (b >= 48 && b <= 57) return b - 48;
      if (b >= 65 && b <= 70) return b - 55;
      if (b >= 97 && b <= 102) return b - 87;
      i(!1, "Invalid character in " + c);
    }
    function v(c, l, b) {
      var x = f(c, b);
      return b - 1 >= l && (x |= f(c, b - 1) << 4), x;
    }
    a.prototype._parseHex = function (c, l, b) {
      (this.length = Math.ceil((c.length - l) / 6)),
        (this.words = new Array(this.length));
      for (var x = 0; x < this.length; x++) this.words[x] = 0;
      var M = 0,
        D = 0,
        S;
      if (b === "be")
        for (x = c.length - 1; x >= l; x -= 2)
          (S = v(c, l, x) << M),
            (this.words[D] |= S & 67108863),
            M >= 18
              ? ((M -= 18), (D += 1), (this.words[D] |= S >>> 26))
              : (M += 8);
      else {
        var d = c.length - l;
        for (x = d % 2 === 0 ? l + 1 : l; x < c.length; x += 2)
          (S = v(c, l, x) << M),
            (this.words[D] |= S & 67108863),
            M >= 18
              ? ((M -= 18), (D += 1), (this.words[D] |= S >>> 26))
              : (M += 8);
      }
      this._strip();
    };
    function g(c, l, b, x) {
      for (var M = 0, D = 0, S = Math.min(c.length, b), d = l; d < S; d++) {
        var p = c.charCodeAt(d) - 48;
        (M *= x),
          p >= 49 ? (D = p - 49 + 10) : p >= 17 ? (D = p - 17 + 10) : (D = p),
          i(p >= 0 && D < x, "Invalid character"),
          (M += D);
      }
      return M;
    }
    (a.prototype._parseBase = function (c, l, b) {
      (this.words = [0]), (this.length = 1);
      for (var x = 0, M = 1; M <= 67108863; M *= l) x++;
      x--, (M = (M / l) | 0);
      for (
        var D = c.length - b,
          S = D % x,
          d = Math.min(D, D - S) + b,
          p = 0,
          R = b;
        R < d;
        R += x
      )
        (p = g(c, R, R + x, l)),
          this.imuln(M),
          this.words[0] + p < 67108864 ? (this.words[0] += p) : this._iaddn(p);
      if (S !== 0) {
        var Z = 1;
        for (p = g(c, R, c.length, l), R = 0; R < S; R++) Z *= l;
        this.imuln(Z),
          this.words[0] + p < 67108864 ? (this.words[0] += p) : this._iaddn(p);
      }
      this._strip();
    }),
      (a.prototype.copy = function (c) {
        c.words = new Array(this.length);
        for (var l = 0; l < this.length; l++) c.words[l] = this.words[l];
        (c.length = this.length),
          (c.negative = this.negative),
          (c.red = this.red);
      });
    function y(c, l) {
      (c.words = l.words),
        (c.length = l.length),
        (c.negative = l.negative),
        (c.red = l.red);
    }
    if (
      ((a.prototype._move = function (c) {
        y(c, this);
      }),
      (a.prototype.clone = function () {
        var c = new a(null);
        return this.copy(c), c;
      }),
      (a.prototype._expand = function (c) {
        for (; this.length < c; ) this.words[this.length++] = 0;
        return this;
      }),
      (a.prototype._strip = function () {
        for (; this.length > 1 && this.words[this.length - 1] === 0; )
          this.length--;
        return this._normSign();
      }),
      (a.prototype._normSign = function () {
        return (
          this.length === 1 && this.words[0] === 0 && (this.negative = 0), this
        );
      }),
      typeof Symbol < "u" && typeof Symbol.for == "function")
    )
      try {
        a.prototype[Symbol.for("nodejs.util.inspect.custom")] = _;
      } catch {
        a.prototype.inspect = _;
      }
    else a.prototype.inspect = _;
    function _() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    }
    var C = [
        "",
        "0",
        "00",
        "000",
        "0000",
        "00000",
        "000000",
        "0000000",
        "00000000",
        "000000000",
        "0000000000",
        "00000000000",
        "000000000000",
        "0000000000000",
        "00000000000000",
        "000000000000000",
        "0000000000000000",
        "00000000000000000",
        "000000000000000000",
        "0000000000000000000",
        "00000000000000000000",
        "000000000000000000000",
        "0000000000000000000000",
        "00000000000000000000000",
        "000000000000000000000000",
        "0000000000000000000000000",
      ],
      P = [
        0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
      ],
      O = [
        0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607,
        16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536,
        11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101,
        5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368,
        20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875,
        60466176,
      ];
    (a.prototype.toString = function (c, l) {
      (c = c || 10), (l = l | 0 || 1);
      var b;
      if (c === 16 || c === "hex") {
        b = "";
        for (var x = 0, M = 0, D = 0; D < this.length; D++) {
          var S = this.words[D],
            d = (((S << x) | M) & 16777215).toString(16);
          (M = (S >>> (24 - x)) & 16777215),
            (x += 2),
            x >= 26 && ((x -= 26), D--),
            M !== 0 || D !== this.length - 1
              ? (b = C[6 - d.length] + d + b)
              : (b = d + b);
        }
        for (M !== 0 && (b = M.toString(16) + b); b.length % l !== 0; )
          b = "0" + b;
        return this.negative !== 0 && (b = "-" + b), b;
      }
      if (c === (c | 0) && c >= 2 && c <= 36) {
        var p = P[c],
          R = O[c];
        b = "";
        var Z = this.clone();
        for (Z.negative = 0; !Z.isZero(); ) {
          var se = Z.modrn(R).toString(c);
          (Z = Z.idivn(R)),
            Z.isZero() ? (b = se + b) : (b = C[p - se.length] + se + b);
        }
        for (this.isZero() && (b = "0" + b); b.length % l !== 0; ) b = "0" + b;
        return this.negative !== 0 && (b = "-" + b), b;
      }
      i(!1, "Base should be between 2 and 36");
    }),
      (a.prototype.toNumber = function () {
        var c = this.words[0];
        return (
          this.length === 2
            ? (c += this.words[1] * 67108864)
            : this.length === 3 && this.words[2] === 1
            ? (c += 4503599627370496 + this.words[1] * 67108864)
            : this.length > 2 &&
              i(!1, "Number can only safely store up to 53 bits"),
          this.negative !== 0 ? -c : c
        );
      }),
      (a.prototype.toJSON = function () {
        return this.toString(16, 2);
      }),
      h &&
        (a.prototype.toBuffer = function (c, l) {
          return this.toArrayLike(h, c, l);
        }),
      (a.prototype.toArray = function (c, l) {
        return this.toArrayLike(Array, c, l);
      });
    var H = function (c, l) {
      return c.allocUnsafe ? c.allocUnsafe(l) : new c(l);
    };
    (a.prototype.toArrayLike = function (c, l, b) {
      this._strip();
      var x = this.byteLength(),
        M = b || Math.max(1, x);
      i(x <= M, "byte array longer than desired length"),
        i(M > 0, "Requested array length <= 0");
      var D = H(c, M),
        S = l === "le" ? "LE" : "BE";
      return this["_toArrayLike" + S](D, x), D;
    }),
      (a.prototype._toArrayLikeLE = function (c, l) {
        for (var b = 0, x = 0, M = 0, D = 0; M < this.length; M++) {
          var S = (this.words[M] << D) | x;
          (c[b++] = S & 255),
            b < c.length && (c[b++] = (S >> 8) & 255),
            b < c.length && (c[b++] = (S >> 16) & 255),
            D === 6
              ? (b < c.length && (c[b++] = (S >> 24) & 255), (x = 0), (D = 0))
              : ((x = S >>> 24), (D += 2));
        }
        if (b < c.length) for (c[b++] = x; b < c.length; ) c[b++] = 0;
      }),
      (a.prototype._toArrayLikeBE = function (c, l) {
        for (var b = c.length - 1, x = 0, M = 0, D = 0; M < this.length; M++) {
          var S = (this.words[M] << D) | x;
          (c[b--] = S & 255),
            b >= 0 && (c[b--] = (S >> 8) & 255),
            b >= 0 && (c[b--] = (S >> 16) & 255),
            D === 6
              ? (b >= 0 && (c[b--] = (S >> 24) & 255), (x = 0), (D = 0))
              : ((x = S >>> 24), (D += 2));
        }
        if (b >= 0) for (c[b--] = x; b >= 0; ) c[b--] = 0;
      }),
      Math.clz32
        ? (a.prototype._countBits = function (c) {
            return 32 - Math.clz32(c);
          })
        : (a.prototype._countBits = function (c) {
            var l = c,
              b = 0;
            return (
              l >= 4096 && ((b += 13), (l >>>= 13)),
              l >= 64 && ((b += 7), (l >>>= 7)),
              l >= 8 && ((b += 4), (l >>>= 4)),
              l >= 2 && ((b += 2), (l >>>= 2)),
              b + l
            );
          }),
      (a.prototype._zeroBits = function (c) {
        if (c === 0) return 26;
        var l = c,
          b = 0;
        return (
          l & 8191 || ((b += 13), (l >>>= 13)),
          l & 127 || ((b += 7), (l >>>= 7)),
          l & 15 || ((b += 4), (l >>>= 4)),
          l & 3 || ((b += 2), (l >>>= 2)),
          l & 1 || b++,
          b
        );
      }),
      (a.prototype.bitLength = function () {
        var c = this.words[this.length - 1],
          l = this._countBits(c);
        return (this.length - 1) * 26 + l;
      });
    function G(c) {
      for (var l = new Array(c.bitLength()), b = 0; b < l.length; b++) {
        var x = (b / 26) | 0,
          M = b % 26;
        l[b] = (c.words[x] >>> M) & 1;
      }
      return l;
    }
    (a.prototype.zeroBits = function () {
      if (this.isZero()) return 0;
      for (var c = 0, l = 0; l < this.length; l++) {
        var b = this._zeroBits(this.words[l]);
        if (((c += b), b !== 26)) break;
      }
      return c;
    }),
      (a.prototype.byteLength = function () {
        return Math.ceil(this.bitLength() / 8);
      }),
      (a.prototype.toTwos = function (c) {
        return this.negative !== 0
          ? this.abs().inotn(c).iaddn(1)
          : this.clone();
      }),
      (a.prototype.fromTwos = function (c) {
        return this.testn(c - 1) ? this.notn(c).iaddn(1).ineg() : this.clone();
      }),
      (a.prototype.isNeg = function () {
        return this.negative !== 0;
      }),
      (a.prototype.neg = function () {
        return this.clone().ineg();
      }),
      (a.prototype.ineg = function () {
        return this.isZero() || (this.negative ^= 1), this;
      }),
      (a.prototype.iuor = function (c) {
        for (; this.length < c.length; ) this.words[this.length++] = 0;
        for (var l = 0; l < c.length; l++)
          this.words[l] = this.words[l] | c.words[l];
        return this._strip();
      }),
      (a.prototype.ior = function (c) {
        return i((this.negative | c.negative) === 0), this.iuor(c);
      }),
      (a.prototype.or = function (c) {
        return this.length > c.length
          ? this.clone().ior(c)
          : c.clone().ior(this);
      }),
      (a.prototype.uor = function (c) {
        return this.length > c.length
          ? this.clone().iuor(c)
          : c.clone().iuor(this);
      }),
      (a.prototype.iuand = function (c) {
        var l;
        this.length > c.length ? (l = c) : (l = this);
        for (var b = 0; b < l.length; b++)
          this.words[b] = this.words[b] & c.words[b];
        return (this.length = l.length), this._strip();
      }),
      (a.prototype.iand = function (c) {
        return i((this.negative | c.negative) === 0), this.iuand(c);
      }),
      (a.prototype.and = function (c) {
        return this.length > c.length
          ? this.clone().iand(c)
          : c.clone().iand(this);
      }),
      (a.prototype.uand = function (c) {
        return this.length > c.length
          ? this.clone().iuand(c)
          : c.clone().iuand(this);
      }),
      (a.prototype.iuxor = function (c) {
        var l, b;
        this.length > c.length ? ((l = this), (b = c)) : ((l = c), (b = this));
        for (var x = 0; x < b.length; x++)
          this.words[x] = l.words[x] ^ b.words[x];
        if (this !== l) for (; x < l.length; x++) this.words[x] = l.words[x];
        return (this.length = l.length), this._strip();
      }),
      (a.prototype.ixor = function (c) {
        return i((this.negative | c.negative) === 0), this.iuxor(c);
      }),
      (a.prototype.xor = function (c) {
        return this.length > c.length
          ? this.clone().ixor(c)
          : c.clone().ixor(this);
      }),
      (a.prototype.uxor = function (c) {
        return this.length > c.length
          ? this.clone().iuxor(c)
          : c.clone().iuxor(this);
      }),
      (a.prototype.inotn = function (c) {
        i(typeof c == "number" && c >= 0);
        var l = Math.ceil(c / 26) | 0,
          b = c % 26;
        this._expand(l), b > 0 && l--;
        for (var x = 0; x < l; x++) this.words[x] = ~this.words[x] & 67108863;
        return (
          b > 0 && (this.words[x] = ~this.words[x] & (67108863 >> (26 - b))),
          this._strip()
        );
      }),
      (a.prototype.notn = function (c) {
        return this.clone().inotn(c);
      }),
      (a.prototype.setn = function (c, l) {
        i(typeof c == "number" && c >= 0);
        var b = (c / 26) | 0,
          x = c % 26;
        return (
          this._expand(b + 1),
          l
            ? (this.words[b] = this.words[b] | (1 << x))
            : (this.words[b] = this.words[b] & ~(1 << x)),
          this._strip()
        );
      }),
      (a.prototype.iadd = function (c) {
        var l;
        if (this.negative !== 0 && c.negative === 0)
          return (
            (this.negative = 0),
            (l = this.isub(c)),
            (this.negative ^= 1),
            this._normSign()
          );
        if (this.negative === 0 && c.negative !== 0)
          return (
            (c.negative = 0),
            (l = this.isub(c)),
            (c.negative = 1),
            l._normSign()
          );
        var b, x;
        this.length > c.length ? ((b = this), (x = c)) : ((b = c), (x = this));
        for (var M = 0, D = 0; D < x.length; D++)
          (l = (b.words[D] | 0) + (x.words[D] | 0) + M),
            (this.words[D] = l & 67108863),
            (M = l >>> 26);
        for (; M !== 0 && D < b.length; D++)
          (l = (b.words[D] | 0) + M),
            (this.words[D] = l & 67108863),
            (M = l >>> 26);
        if (((this.length = b.length), M !== 0))
          (this.words[this.length] = M), this.length++;
        else if (b !== this)
          for (; D < b.length; D++) this.words[D] = b.words[D];
        return this;
      }),
      (a.prototype.add = function (c) {
        var l;
        return c.negative !== 0 && this.negative === 0
          ? ((c.negative = 0), (l = this.sub(c)), (c.negative ^= 1), l)
          : c.negative === 0 && this.negative !== 0
          ? ((this.negative = 0), (l = c.sub(this)), (this.negative = 1), l)
          : this.length > c.length
          ? this.clone().iadd(c)
          : c.clone().iadd(this);
      }),
      (a.prototype.isub = function (c) {
        if (c.negative !== 0) {
          c.negative = 0;
          var l = this.iadd(c);
          return (c.negative = 1), l._normSign();
        } else if (this.negative !== 0)
          return (
            (this.negative = 0),
            this.iadd(c),
            (this.negative = 1),
            this._normSign()
          );
        var b = this.cmp(c);
        if (b === 0)
          return (
            (this.negative = 0), (this.length = 1), (this.words[0] = 0), this
          );
        var x, M;
        b > 0 ? ((x = this), (M = c)) : ((x = c), (M = this));
        for (var D = 0, S = 0; S < M.length; S++)
          (l = (x.words[S] | 0) - (M.words[S] | 0) + D),
            (D = l >> 26),
            (this.words[S] = l & 67108863);
        for (; D !== 0 && S < x.length; S++)
          (l = (x.words[S] | 0) + D),
            (D = l >> 26),
            (this.words[S] = l & 67108863);
        if (D === 0 && S < x.length && x !== this)
          for (; S < x.length; S++) this.words[S] = x.words[S];
        return (
          (this.length = Math.max(this.length, S)),
          x !== this && (this.negative = 1),
          this._strip()
        );
      }),
      (a.prototype.sub = function (c) {
        return this.clone().isub(c);
      });
    function Q(c, l, b) {
      b.negative = l.negative ^ c.negative;
      var x = (c.length + l.length) | 0;
      (b.length = x), (x = (x - 1) | 0);
      var M = c.words[0] | 0,
        D = l.words[0] | 0,
        S = M * D,
        d = S & 67108863,
        p = (S / 67108864) | 0;
      b.words[0] = d;
      for (var R = 1; R < x; R++) {
        for (
          var Z = p >>> 26,
            se = p & 67108863,
            I = Math.min(R, l.length - 1),
            ee = Math.max(0, R - c.length + 1);
          ee <= I;
          ee++
        ) {
          var B = (R - ee) | 0;
          (M = c.words[B] | 0),
            (D = l.words[ee] | 0),
            (S = M * D + se),
            (Z += (S / 67108864) | 0),
            (se = S & 67108863);
        }
        (b.words[R] = se | 0), (p = Z | 0);
      }
      return p !== 0 ? (b.words[R] = p | 0) : b.length--, b._strip();
    }
    var z = function (c, l, b) {
      var x = c.words,
        M = l.words,
        D = b.words,
        S = 0,
        d,
        p,
        R,
        Z = x[0] | 0,
        se = Z & 8191,
        I = Z >>> 13,
        ee = x[1] | 0,
        B = ee & 8191,
        j = ee >>> 13,
        K = x[2] | 0,
        w = K & 8191,
        $ = K >>> 13,
        ne = x[3] | 0,
        ce = ne & 8191,
        fe = ne >>> 13,
        ye = x[4] | 0,
        we = ye & 8191,
        Ne = ye >>> 13,
        Qe = x[5] | 0,
        Pe = Qe & 8191,
        Re = Qe >>> 13,
        Me = x[6] | 0,
        me = Me & 8191,
        Ce = Me >>> 13,
        Te = x[7] | 0,
        ve = Te & 8191,
        Oe = Te >>> 13,
        Se = x[8] | 0,
        be = Se & 8191,
        qe = Se >>> 13,
        Ie = x[9] | 0,
        _e = Ie & 8191,
        He = Ie >>> 13,
        Ve = M[0] | 0,
        Ee = Ve & 8191,
        Ke = Ve >>> 13,
        ut = M[1] | 0,
        Ge = ut & 8191,
        _t = ut >>> 13,
        lt = M[2] | 0,
        Je = lt & 8191,
        Et = lt >>> 13,
        Mt = M[3] | 0,
        Fe = Mt & 8191,
        Xe = Mt >>> 13,
        tt = M[4] | 0,
        Be = tt & 8191,
        et = tt >>> 13,
        Ze = M[5] | 0,
        $e = Ze & 8191,
        ht = Ze >>> 13,
        rt = M[6] | 0,
        ze = rt & 8191,
        it = rt >>> 13,
        st = M[7] | 0,
        Le = st & 8191,
        Ye = st >>> 13,
        ft = M[8] | 0,
        ke = ft & 8191,
        Rt = ft >>> 13,
        Tt = M[9] | 0,
        at = Tt & 8191,
        bt = Tt >>> 13;
      (b.negative = c.negative ^ l.negative),
        (b.length = 19),
        (d = Math.imul(se, Ee)),
        (p = Math.imul(se, Ke)),
        (p = (p + Math.imul(I, Ee)) | 0),
        (R = Math.imul(I, Ke));
      var Rr = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Rr >>> 26)) | 0),
        (Rr &= 67108863),
        (d = Math.imul(B, Ee)),
        (p = Math.imul(B, Ke)),
        (p = (p + Math.imul(j, Ee)) | 0),
        (R = Math.imul(j, Ke)),
        (d = (d + Math.imul(se, Ge)) | 0),
        (p = (p + Math.imul(se, _t)) | 0),
        (p = (p + Math.imul(I, Ge)) | 0),
        (R = (R + Math.imul(I, _t)) | 0);
      var Tr = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Tr >>> 26)) | 0),
        (Tr &= 67108863),
        (d = Math.imul(w, Ee)),
        (p = Math.imul(w, Ke)),
        (p = (p + Math.imul($, Ee)) | 0),
        (R = Math.imul($, Ke)),
        (d = (d + Math.imul(B, Ge)) | 0),
        (p = (p + Math.imul(B, _t)) | 0),
        (p = (p + Math.imul(j, Ge)) | 0),
        (R = (R + Math.imul(j, _t)) | 0),
        (d = (d + Math.imul(se, Je)) | 0),
        (p = (p + Math.imul(se, Et)) | 0),
        (p = (p + Math.imul(I, Je)) | 0),
        (R = (R + Math.imul(I, Et)) | 0);
      var Fr = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Fr >>> 26)) | 0),
        (Fr &= 67108863),
        (d = Math.imul(ce, Ee)),
        (p = Math.imul(ce, Ke)),
        (p = (p + Math.imul(fe, Ee)) | 0),
        (R = Math.imul(fe, Ke)),
        (d = (d + Math.imul(w, Ge)) | 0),
        (p = (p + Math.imul(w, _t)) | 0),
        (p = (p + Math.imul($, Ge)) | 0),
        (R = (R + Math.imul($, _t)) | 0),
        (d = (d + Math.imul(B, Je)) | 0),
        (p = (p + Math.imul(B, Et)) | 0),
        (p = (p + Math.imul(j, Je)) | 0),
        (R = (R + Math.imul(j, Et)) | 0),
        (d = (d + Math.imul(se, Fe)) | 0),
        (p = (p + Math.imul(se, Xe)) | 0),
        (p = (p + Math.imul(I, Fe)) | 0),
        (R = (R + Math.imul(I, Xe)) | 0);
      var Br = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Br >>> 26)) | 0),
        (Br &= 67108863),
        (d = Math.imul(we, Ee)),
        (p = Math.imul(we, Ke)),
        (p = (p + Math.imul(Ne, Ee)) | 0),
        (R = Math.imul(Ne, Ke)),
        (d = (d + Math.imul(ce, Ge)) | 0),
        (p = (p + Math.imul(ce, _t)) | 0),
        (p = (p + Math.imul(fe, Ge)) | 0),
        (R = (R + Math.imul(fe, _t)) | 0),
        (d = (d + Math.imul(w, Je)) | 0),
        (p = (p + Math.imul(w, Et)) | 0),
        (p = (p + Math.imul($, Je)) | 0),
        (R = (R + Math.imul($, Et)) | 0),
        (d = (d + Math.imul(B, Fe)) | 0),
        (p = (p + Math.imul(B, Xe)) | 0),
        (p = (p + Math.imul(j, Fe)) | 0),
        (R = (R + Math.imul(j, Xe)) | 0),
        (d = (d + Math.imul(se, Be)) | 0),
        (p = (p + Math.imul(se, et)) | 0),
        (p = (p + Math.imul(I, Be)) | 0),
        (R = (R + Math.imul(I, et)) | 0);
      var Lr = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Lr >>> 26)) | 0),
        (Lr &= 67108863),
        (d = Math.imul(Pe, Ee)),
        (p = Math.imul(Pe, Ke)),
        (p = (p + Math.imul(Re, Ee)) | 0),
        (R = Math.imul(Re, Ke)),
        (d = (d + Math.imul(we, Ge)) | 0),
        (p = (p + Math.imul(we, _t)) | 0),
        (p = (p + Math.imul(Ne, Ge)) | 0),
        (R = (R + Math.imul(Ne, _t)) | 0),
        (d = (d + Math.imul(ce, Je)) | 0),
        (p = (p + Math.imul(ce, Et)) | 0),
        (p = (p + Math.imul(fe, Je)) | 0),
        (R = (R + Math.imul(fe, Et)) | 0),
        (d = (d + Math.imul(w, Fe)) | 0),
        (p = (p + Math.imul(w, Xe)) | 0),
        (p = (p + Math.imul($, Fe)) | 0),
        (R = (R + Math.imul($, Xe)) | 0),
        (d = (d + Math.imul(B, Be)) | 0),
        (p = (p + Math.imul(B, et)) | 0),
        (p = (p + Math.imul(j, Be)) | 0),
        (R = (R + Math.imul(j, et)) | 0),
        (d = (d + Math.imul(se, $e)) | 0),
        (p = (p + Math.imul(se, ht)) | 0),
        (p = (p + Math.imul(I, $e)) | 0),
        (R = (R + Math.imul(I, ht)) | 0);
      var er = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (er >>> 26)) | 0),
        (er &= 67108863),
        (d = Math.imul(me, Ee)),
        (p = Math.imul(me, Ke)),
        (p = (p + Math.imul(Ce, Ee)) | 0),
        (R = Math.imul(Ce, Ke)),
        (d = (d + Math.imul(Pe, Ge)) | 0),
        (p = (p + Math.imul(Pe, _t)) | 0),
        (p = (p + Math.imul(Re, Ge)) | 0),
        (R = (R + Math.imul(Re, _t)) | 0),
        (d = (d + Math.imul(we, Je)) | 0),
        (p = (p + Math.imul(we, Et)) | 0),
        (p = (p + Math.imul(Ne, Je)) | 0),
        (R = (R + Math.imul(Ne, Et)) | 0),
        (d = (d + Math.imul(ce, Fe)) | 0),
        (p = (p + Math.imul(ce, Xe)) | 0),
        (p = (p + Math.imul(fe, Fe)) | 0),
        (R = (R + Math.imul(fe, Xe)) | 0),
        (d = (d + Math.imul(w, Be)) | 0),
        (p = (p + Math.imul(w, et)) | 0),
        (p = (p + Math.imul($, Be)) | 0),
        (R = (R + Math.imul($, et)) | 0),
        (d = (d + Math.imul(B, $e)) | 0),
        (p = (p + Math.imul(B, ht)) | 0),
        (p = (p + Math.imul(j, $e)) | 0),
        (R = (R + Math.imul(j, ht)) | 0),
        (d = (d + Math.imul(se, ze)) | 0),
        (p = (p + Math.imul(se, it)) | 0),
        (p = (p + Math.imul(I, ze)) | 0),
        (R = (R + Math.imul(I, it)) | 0);
      var ei = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (ei >>> 26)) | 0),
        (ei &= 67108863),
        (d = Math.imul(ve, Ee)),
        (p = Math.imul(ve, Ke)),
        (p = (p + Math.imul(Oe, Ee)) | 0),
        (R = Math.imul(Oe, Ke)),
        (d = (d + Math.imul(me, Ge)) | 0),
        (p = (p + Math.imul(me, _t)) | 0),
        (p = (p + Math.imul(Ce, Ge)) | 0),
        (R = (R + Math.imul(Ce, _t)) | 0),
        (d = (d + Math.imul(Pe, Je)) | 0),
        (p = (p + Math.imul(Pe, Et)) | 0),
        (p = (p + Math.imul(Re, Je)) | 0),
        (R = (R + Math.imul(Re, Et)) | 0),
        (d = (d + Math.imul(we, Fe)) | 0),
        (p = (p + Math.imul(we, Xe)) | 0),
        (p = (p + Math.imul(Ne, Fe)) | 0),
        (R = (R + Math.imul(Ne, Xe)) | 0),
        (d = (d + Math.imul(ce, Be)) | 0),
        (p = (p + Math.imul(ce, et)) | 0),
        (p = (p + Math.imul(fe, Be)) | 0),
        (R = (R + Math.imul(fe, et)) | 0),
        (d = (d + Math.imul(w, $e)) | 0),
        (p = (p + Math.imul(w, ht)) | 0),
        (p = (p + Math.imul($, $e)) | 0),
        (R = (R + Math.imul($, ht)) | 0),
        (d = (d + Math.imul(B, ze)) | 0),
        (p = (p + Math.imul(B, it)) | 0),
        (p = (p + Math.imul(j, ze)) | 0),
        (R = (R + Math.imul(j, it)) | 0),
        (d = (d + Math.imul(se, Le)) | 0),
        (p = (p + Math.imul(se, Ye)) | 0),
        (p = (p + Math.imul(I, Le)) | 0),
        (R = (R + Math.imul(I, Ye)) | 0);
      var Gi = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Gi >>> 26)) | 0),
        (Gi &= 67108863),
        (d = Math.imul(be, Ee)),
        (p = Math.imul(be, Ke)),
        (p = (p + Math.imul(qe, Ee)) | 0),
        (R = Math.imul(qe, Ke)),
        (d = (d + Math.imul(ve, Ge)) | 0),
        (p = (p + Math.imul(ve, _t)) | 0),
        (p = (p + Math.imul(Oe, Ge)) | 0),
        (R = (R + Math.imul(Oe, _t)) | 0),
        (d = (d + Math.imul(me, Je)) | 0),
        (p = (p + Math.imul(me, Et)) | 0),
        (p = (p + Math.imul(Ce, Je)) | 0),
        (R = (R + Math.imul(Ce, Et)) | 0),
        (d = (d + Math.imul(Pe, Fe)) | 0),
        (p = (p + Math.imul(Pe, Xe)) | 0),
        (p = (p + Math.imul(Re, Fe)) | 0),
        (R = (R + Math.imul(Re, Xe)) | 0),
        (d = (d + Math.imul(we, Be)) | 0),
        (p = (p + Math.imul(we, et)) | 0),
        (p = (p + Math.imul(Ne, Be)) | 0),
        (R = (R + Math.imul(Ne, et)) | 0),
        (d = (d + Math.imul(ce, $e)) | 0),
        (p = (p + Math.imul(ce, ht)) | 0),
        (p = (p + Math.imul(fe, $e)) | 0),
        (R = (R + Math.imul(fe, ht)) | 0),
        (d = (d + Math.imul(w, ze)) | 0),
        (p = (p + Math.imul(w, it)) | 0),
        (p = (p + Math.imul($, ze)) | 0),
        (R = (R + Math.imul($, it)) | 0),
        (d = (d + Math.imul(B, Le)) | 0),
        (p = (p + Math.imul(B, Ye)) | 0),
        (p = (p + Math.imul(j, Le)) | 0),
        (R = (R + Math.imul(j, Ye)) | 0),
        (d = (d + Math.imul(se, ke)) | 0),
        (p = (p + Math.imul(se, Rt)) | 0),
        (p = (p + Math.imul(I, ke)) | 0),
        (R = (R + Math.imul(I, Rt)) | 0);
      var ti = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (ti >>> 26)) | 0),
        (ti &= 67108863),
        (d = Math.imul(_e, Ee)),
        (p = Math.imul(_e, Ke)),
        (p = (p + Math.imul(He, Ee)) | 0),
        (R = Math.imul(He, Ke)),
        (d = (d + Math.imul(be, Ge)) | 0),
        (p = (p + Math.imul(be, _t)) | 0),
        (p = (p + Math.imul(qe, Ge)) | 0),
        (R = (R + Math.imul(qe, _t)) | 0),
        (d = (d + Math.imul(ve, Je)) | 0),
        (p = (p + Math.imul(ve, Et)) | 0),
        (p = (p + Math.imul(Oe, Je)) | 0),
        (R = (R + Math.imul(Oe, Et)) | 0),
        (d = (d + Math.imul(me, Fe)) | 0),
        (p = (p + Math.imul(me, Xe)) | 0),
        (p = (p + Math.imul(Ce, Fe)) | 0),
        (R = (R + Math.imul(Ce, Xe)) | 0),
        (d = (d + Math.imul(Pe, Be)) | 0),
        (p = (p + Math.imul(Pe, et)) | 0),
        (p = (p + Math.imul(Re, Be)) | 0),
        (R = (R + Math.imul(Re, et)) | 0),
        (d = (d + Math.imul(we, $e)) | 0),
        (p = (p + Math.imul(we, ht)) | 0),
        (p = (p + Math.imul(Ne, $e)) | 0),
        (R = (R + Math.imul(Ne, ht)) | 0),
        (d = (d + Math.imul(ce, ze)) | 0),
        (p = (p + Math.imul(ce, it)) | 0),
        (p = (p + Math.imul(fe, ze)) | 0),
        (R = (R + Math.imul(fe, it)) | 0),
        (d = (d + Math.imul(w, Le)) | 0),
        (p = (p + Math.imul(w, Ye)) | 0),
        (p = (p + Math.imul($, Le)) | 0),
        (R = (R + Math.imul($, Ye)) | 0),
        (d = (d + Math.imul(B, ke)) | 0),
        (p = (p + Math.imul(B, Rt)) | 0),
        (p = (p + Math.imul(j, ke)) | 0),
        (R = (R + Math.imul(j, Rt)) | 0),
        (d = (d + Math.imul(se, at)) | 0),
        (p = (p + Math.imul(se, bt)) | 0),
        (p = (p + Math.imul(I, at)) | 0),
        (R = (R + Math.imul(I, bt)) | 0);
      var Wi = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Wi >>> 26)) | 0),
        (Wi &= 67108863),
        (d = Math.imul(_e, Ge)),
        (p = Math.imul(_e, _t)),
        (p = (p + Math.imul(He, Ge)) | 0),
        (R = Math.imul(He, _t)),
        (d = (d + Math.imul(be, Je)) | 0),
        (p = (p + Math.imul(be, Et)) | 0),
        (p = (p + Math.imul(qe, Je)) | 0),
        (R = (R + Math.imul(qe, Et)) | 0),
        (d = (d + Math.imul(ve, Fe)) | 0),
        (p = (p + Math.imul(ve, Xe)) | 0),
        (p = (p + Math.imul(Oe, Fe)) | 0),
        (R = (R + Math.imul(Oe, Xe)) | 0),
        (d = (d + Math.imul(me, Be)) | 0),
        (p = (p + Math.imul(me, et)) | 0),
        (p = (p + Math.imul(Ce, Be)) | 0),
        (R = (R + Math.imul(Ce, et)) | 0),
        (d = (d + Math.imul(Pe, $e)) | 0),
        (p = (p + Math.imul(Pe, ht)) | 0),
        (p = (p + Math.imul(Re, $e)) | 0),
        (R = (R + Math.imul(Re, ht)) | 0),
        (d = (d + Math.imul(we, ze)) | 0),
        (p = (p + Math.imul(we, it)) | 0),
        (p = (p + Math.imul(Ne, ze)) | 0),
        (R = (R + Math.imul(Ne, it)) | 0),
        (d = (d + Math.imul(ce, Le)) | 0),
        (p = (p + Math.imul(ce, Ye)) | 0),
        (p = (p + Math.imul(fe, Le)) | 0),
        (R = (R + Math.imul(fe, Ye)) | 0),
        (d = (d + Math.imul(w, ke)) | 0),
        (p = (p + Math.imul(w, Rt)) | 0),
        (p = (p + Math.imul($, ke)) | 0),
        (R = (R + Math.imul($, Rt)) | 0),
        (d = (d + Math.imul(B, at)) | 0),
        (p = (p + Math.imul(B, bt)) | 0),
        (p = (p + Math.imul(j, at)) | 0),
        (R = (R + Math.imul(j, bt)) | 0);
      var Ji = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Ji >>> 26)) | 0),
        (Ji &= 67108863),
        (d = Math.imul(_e, Je)),
        (p = Math.imul(_e, Et)),
        (p = (p + Math.imul(He, Je)) | 0),
        (R = Math.imul(He, Et)),
        (d = (d + Math.imul(be, Fe)) | 0),
        (p = (p + Math.imul(be, Xe)) | 0),
        (p = (p + Math.imul(qe, Fe)) | 0),
        (R = (R + Math.imul(qe, Xe)) | 0),
        (d = (d + Math.imul(ve, Be)) | 0),
        (p = (p + Math.imul(ve, et)) | 0),
        (p = (p + Math.imul(Oe, Be)) | 0),
        (R = (R + Math.imul(Oe, et)) | 0),
        (d = (d + Math.imul(me, $e)) | 0),
        (p = (p + Math.imul(me, ht)) | 0),
        (p = (p + Math.imul(Ce, $e)) | 0),
        (R = (R + Math.imul(Ce, ht)) | 0),
        (d = (d + Math.imul(Pe, ze)) | 0),
        (p = (p + Math.imul(Pe, it)) | 0),
        (p = (p + Math.imul(Re, ze)) | 0),
        (R = (R + Math.imul(Re, it)) | 0),
        (d = (d + Math.imul(we, Le)) | 0),
        (p = (p + Math.imul(we, Ye)) | 0),
        (p = (p + Math.imul(Ne, Le)) | 0),
        (R = (R + Math.imul(Ne, Ye)) | 0),
        (d = (d + Math.imul(ce, ke)) | 0),
        (p = (p + Math.imul(ce, Rt)) | 0),
        (p = (p + Math.imul(fe, ke)) | 0),
        (R = (R + Math.imul(fe, Rt)) | 0),
        (d = (d + Math.imul(w, at)) | 0),
        (p = (p + Math.imul(w, bt)) | 0),
        (p = (p + Math.imul($, at)) | 0),
        (R = (R + Math.imul($, bt)) | 0);
      var ri = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (ri >>> 26)) | 0),
        (ri &= 67108863),
        (d = Math.imul(_e, Fe)),
        (p = Math.imul(_e, Xe)),
        (p = (p + Math.imul(He, Fe)) | 0),
        (R = Math.imul(He, Xe)),
        (d = (d + Math.imul(be, Be)) | 0),
        (p = (p + Math.imul(be, et)) | 0),
        (p = (p + Math.imul(qe, Be)) | 0),
        (R = (R + Math.imul(qe, et)) | 0),
        (d = (d + Math.imul(ve, $e)) | 0),
        (p = (p + Math.imul(ve, ht)) | 0),
        (p = (p + Math.imul(Oe, $e)) | 0),
        (R = (R + Math.imul(Oe, ht)) | 0),
        (d = (d + Math.imul(me, ze)) | 0),
        (p = (p + Math.imul(me, it)) | 0),
        (p = (p + Math.imul(Ce, ze)) | 0),
        (R = (R + Math.imul(Ce, it)) | 0),
        (d = (d + Math.imul(Pe, Le)) | 0),
        (p = (p + Math.imul(Pe, Ye)) | 0),
        (p = (p + Math.imul(Re, Le)) | 0),
        (R = (R + Math.imul(Re, Ye)) | 0),
        (d = (d + Math.imul(we, ke)) | 0),
        (p = (p + Math.imul(we, Rt)) | 0),
        (p = (p + Math.imul(Ne, ke)) | 0),
        (R = (R + Math.imul(Ne, Rt)) | 0),
        (d = (d + Math.imul(ce, at)) | 0),
        (p = (p + Math.imul(ce, bt)) | 0),
        (p = (p + Math.imul(fe, at)) | 0),
        (R = (R + Math.imul(fe, bt)) | 0);
      var Mi = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Mi >>> 26)) | 0),
        (Mi &= 67108863),
        (d = Math.imul(_e, Be)),
        (p = Math.imul(_e, et)),
        (p = (p + Math.imul(He, Be)) | 0),
        (R = Math.imul(He, et)),
        (d = (d + Math.imul(be, $e)) | 0),
        (p = (p + Math.imul(be, ht)) | 0),
        (p = (p + Math.imul(qe, $e)) | 0),
        (R = (R + Math.imul(qe, ht)) | 0),
        (d = (d + Math.imul(ve, ze)) | 0),
        (p = (p + Math.imul(ve, it)) | 0),
        (p = (p + Math.imul(Oe, ze)) | 0),
        (R = (R + Math.imul(Oe, it)) | 0),
        (d = (d + Math.imul(me, Le)) | 0),
        (p = (p + Math.imul(me, Ye)) | 0),
        (p = (p + Math.imul(Ce, Le)) | 0),
        (R = (R + Math.imul(Ce, Ye)) | 0),
        (d = (d + Math.imul(Pe, ke)) | 0),
        (p = (p + Math.imul(Pe, Rt)) | 0),
        (p = (p + Math.imul(Re, ke)) | 0),
        (R = (R + Math.imul(Re, Rt)) | 0),
        (d = (d + Math.imul(we, at)) | 0),
        (p = (p + Math.imul(we, bt)) | 0),
        (p = (p + Math.imul(Ne, at)) | 0),
        (R = (R + Math.imul(Ne, bt)) | 0);
      var Ii = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Ii >>> 26)) | 0),
        (Ii &= 67108863),
        (d = Math.imul(_e, $e)),
        (p = Math.imul(_e, ht)),
        (p = (p + Math.imul(He, $e)) | 0),
        (R = Math.imul(He, ht)),
        (d = (d + Math.imul(be, ze)) | 0),
        (p = (p + Math.imul(be, it)) | 0),
        (p = (p + Math.imul(qe, ze)) | 0),
        (R = (R + Math.imul(qe, it)) | 0),
        (d = (d + Math.imul(ve, Le)) | 0),
        (p = (p + Math.imul(ve, Ye)) | 0),
        (p = (p + Math.imul(Oe, Le)) | 0),
        (R = (R + Math.imul(Oe, Ye)) | 0),
        (d = (d + Math.imul(me, ke)) | 0),
        (p = (p + Math.imul(me, Rt)) | 0),
        (p = (p + Math.imul(Ce, ke)) | 0),
        (R = (R + Math.imul(Ce, Rt)) | 0),
        (d = (d + Math.imul(Pe, at)) | 0),
        (p = (p + Math.imul(Pe, bt)) | 0),
        (p = (p + Math.imul(Re, at)) | 0),
        (R = (R + Math.imul(Re, bt)) | 0);
      var lr = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (lr >>> 26)) | 0),
        (lr &= 67108863),
        (d = Math.imul(_e, ze)),
        (p = Math.imul(_e, it)),
        (p = (p + Math.imul(He, ze)) | 0),
        (R = Math.imul(He, it)),
        (d = (d + Math.imul(be, Le)) | 0),
        (p = (p + Math.imul(be, Ye)) | 0),
        (p = (p + Math.imul(qe, Le)) | 0),
        (R = (R + Math.imul(qe, Ye)) | 0),
        (d = (d + Math.imul(ve, ke)) | 0),
        (p = (p + Math.imul(ve, Rt)) | 0),
        (p = (p + Math.imul(Oe, ke)) | 0),
        (R = (R + Math.imul(Oe, Rt)) | 0),
        (d = (d + Math.imul(me, at)) | 0),
        (p = (p + Math.imul(me, bt)) | 0),
        (p = (p + Math.imul(Ce, at)) | 0),
        (R = (R + Math.imul(Ce, bt)) | 0);
      var Yi = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Yi >>> 26)) | 0),
        (Yi &= 67108863),
        (d = Math.imul(_e, Le)),
        (p = Math.imul(_e, Ye)),
        (p = (p + Math.imul(He, Le)) | 0),
        (R = Math.imul(He, Ye)),
        (d = (d + Math.imul(be, ke)) | 0),
        (p = (p + Math.imul(be, Rt)) | 0),
        (p = (p + Math.imul(qe, ke)) | 0),
        (R = (R + Math.imul(qe, Rt)) | 0),
        (d = (d + Math.imul(ve, at)) | 0),
        (p = (p + Math.imul(ve, bt)) | 0),
        (p = (p + Math.imul(Oe, at)) | 0),
        (R = (R + Math.imul(Oe, bt)) | 0);
      var Qi = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Qi >>> 26)) | 0),
        (Qi &= 67108863),
        (d = Math.imul(_e, ke)),
        (p = Math.imul(_e, Rt)),
        (p = (p + Math.imul(He, ke)) | 0),
        (R = Math.imul(He, Rt)),
        (d = (d + Math.imul(be, at)) | 0),
        (p = (p + Math.imul(be, bt)) | 0),
        (p = (p + Math.imul(qe, at)) | 0),
        (R = (R + Math.imul(qe, bt)) | 0);
      var Xi = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      (S = (((R + (p >>> 13)) | 0) + (Xi >>> 26)) | 0),
        (Xi &= 67108863),
        (d = Math.imul(_e, at)),
        (p = Math.imul(_e, bt)),
        (p = (p + Math.imul(He, at)) | 0),
        (R = Math.imul(He, bt));
      var js = (((S + d) | 0) + ((p & 8191) << 13)) | 0;
      return (
        (S = (((R + (p >>> 13)) | 0) + (js >>> 26)) | 0),
        (js &= 67108863),
        (D[0] = Rr),
        (D[1] = Tr),
        (D[2] = Fr),
        (D[3] = Br),
        (D[4] = Lr),
        (D[5] = er),
        (D[6] = ei),
        (D[7] = Gi),
        (D[8] = ti),
        (D[9] = Wi),
        (D[10] = Ji),
        (D[11] = ri),
        (D[12] = Mi),
        (D[13] = Ii),
        (D[14] = lr),
        (D[15] = Yi),
        (D[16] = Qi),
        (D[17] = Xi),
        (D[18] = js),
        S !== 0 && ((D[19] = S), b.length++),
        b
      );
    };
    Math.imul || (z = Q);
    function Y(c, l, b) {
      (b.negative = l.negative ^ c.negative), (b.length = c.length + l.length);
      for (var x = 0, M = 0, D = 0; D < b.length - 1; D++) {
        var S = M;
        M = 0;
        for (
          var d = x & 67108863,
            p = Math.min(D, l.length - 1),
            R = Math.max(0, D - c.length + 1);
          R <= p;
          R++
        ) {
          var Z = D - R,
            se = c.words[Z] | 0,
            I = l.words[R] | 0,
            ee = se * I,
            B = ee & 67108863;
          (S = (S + ((ee / 67108864) | 0)) | 0),
            (B = (B + d) | 0),
            (d = B & 67108863),
            (S = (S + (B >>> 26)) | 0),
            (M += S >>> 26),
            (S &= 67108863);
        }
        (b.words[D] = d), (x = S), (S = M);
      }
      return x !== 0 ? (b.words[D] = x) : b.length--, b._strip();
    }
    function q(c, l, b) {
      return Y(c, l, b);
    }
    (a.prototype.mulTo = function (c, l) {
      var b,
        x = this.length + c.length;
      return (
        this.length === 10 && c.length === 10
          ? (b = z(this, c, l))
          : x < 63
          ? (b = Q(this, c, l))
          : x < 1024
          ? (b = Y(this, c, l))
          : (b = q(this, c, l)),
        b
      );
    }),
      (a.prototype.mul = function (c) {
        var l = new a(null);
        return (l.words = new Array(this.length + c.length)), this.mulTo(c, l);
      }),
      (a.prototype.mulf = function (c) {
        var l = new a(null);
        return (l.words = new Array(this.length + c.length)), q(this, c, l);
      }),
      (a.prototype.imul = function (c) {
        return this.clone().mulTo(c, this);
      }),
      (a.prototype.imuln = function (c) {
        var l = c < 0;
        l && (c = -c), i(typeof c == "number"), i(c < 67108864);
        for (var b = 0, x = 0; x < this.length; x++) {
          var M = (this.words[x] | 0) * c,
            D = (M & 67108863) + (b & 67108863);
          (b >>= 26),
            (b += (M / 67108864) | 0),
            (b += D >>> 26),
            (this.words[x] = D & 67108863);
        }
        return (
          b !== 0 && ((this.words[x] = b), this.length++),
          l ? this.ineg() : this
        );
      }),
      (a.prototype.muln = function (c) {
        return this.clone().imuln(c);
      }),
      (a.prototype.sqr = function () {
        return this.mul(this);
      }),
      (a.prototype.isqr = function () {
        return this.imul(this.clone());
      }),
      (a.prototype.pow = function (c) {
        var l = G(c);
        if (l.length === 0) return new a(1);
        for (var b = this, x = 0; x < l.length && l[x] === 0; x++, b = b.sqr());
        if (++x < l.length)
          for (var M = b.sqr(); x < l.length; x++, M = M.sqr())
            l[x] !== 0 && (b = b.mul(M));
        return b;
      }),
      (a.prototype.iushln = function (c) {
        i(typeof c == "number" && c >= 0);
        var l = c % 26,
          b = (c - l) / 26,
          x = (67108863 >>> (26 - l)) << (26 - l),
          M;
        if (l !== 0) {
          var D = 0;
          for (M = 0; M < this.length; M++) {
            var S = this.words[M] & x,
              d = ((this.words[M] | 0) - S) << l;
            (this.words[M] = d | D), (D = S >>> (26 - l));
          }
          D && ((this.words[M] = D), this.length++);
        }
        if (b !== 0) {
          for (M = this.length - 1; M >= 0; M--)
            this.words[M + b] = this.words[M];
          for (M = 0; M < b; M++) this.words[M] = 0;
          this.length += b;
        }
        return this._strip();
      }),
      (a.prototype.ishln = function (c) {
        return i(this.negative === 0), this.iushln(c);
      }),
      (a.prototype.iushrn = function (c, l, b) {
        i(typeof c == "number" && c >= 0);
        var x;
        l ? (x = (l - (l % 26)) / 26) : (x = 0);
        var M = c % 26,
          D = Math.min((c - M) / 26, this.length),
          S = 67108863 ^ ((67108863 >>> M) << M),
          d = b;
        if (((x -= D), (x = Math.max(0, x)), d)) {
          for (var p = 0; p < D; p++) d.words[p] = this.words[p];
          d.length = D;
        }
        if (D !== 0)
          if (this.length > D)
            for (this.length -= D, p = 0; p < this.length; p++)
              this.words[p] = this.words[p + D];
          else (this.words[0] = 0), (this.length = 1);
        var R = 0;
        for (p = this.length - 1; p >= 0 && (R !== 0 || p >= x); p--) {
          var Z = this.words[p] | 0;
          (this.words[p] = (R << (26 - M)) | (Z >>> M)), (R = Z & S);
        }
        return (
          d && R !== 0 && (d.words[d.length++] = R),
          this.length === 0 && ((this.words[0] = 0), (this.length = 1)),
          this._strip()
        );
      }),
      (a.prototype.ishrn = function (c, l, b) {
        return i(this.negative === 0), this.iushrn(c, l, b);
      }),
      (a.prototype.shln = function (c) {
        return this.clone().ishln(c);
      }),
      (a.prototype.ushln = function (c) {
        return this.clone().iushln(c);
      }),
      (a.prototype.shrn = function (c) {
        return this.clone().ishrn(c);
      }),
      (a.prototype.ushrn = function (c) {
        return this.clone().iushrn(c);
      }),
      (a.prototype.testn = function (c) {
        i(typeof c == "number" && c >= 0);
        var l = c % 26,
          b = (c - l) / 26,
          x = 1 << l;
        if (this.length <= b) return !1;
        var M = this.words[b];
        return !!(M & x);
      }),
      (a.prototype.imaskn = function (c) {
        i(typeof c == "number" && c >= 0);
        var l = c % 26,
          b = (c - l) / 26;
        if (
          (i(this.negative === 0, "imaskn works only with positive numbers"),
          this.length <= b)
        )
          return this;
        if (
          (l !== 0 && b++, (this.length = Math.min(b, this.length)), l !== 0)
        ) {
          var x = 67108863 ^ ((67108863 >>> l) << l);
          this.words[this.length - 1] &= x;
        }
        return this._strip();
      }),
      (a.prototype.maskn = function (c) {
        return this.clone().imaskn(c);
      }),
      (a.prototype.iaddn = function (c) {
        return (
          i(typeof c == "number"),
          i(c < 67108864),
          c < 0
            ? this.isubn(-c)
            : this.negative !== 0
            ? this.length === 1 && (this.words[0] | 0) <= c
              ? ((this.words[0] = c - (this.words[0] | 0)),
                (this.negative = 0),
                this)
              : ((this.negative = 0), this.isubn(c), (this.negative = 1), this)
            : this._iaddn(c)
        );
      }),
      (a.prototype._iaddn = function (c) {
        this.words[0] += c;
        for (var l = 0; l < this.length && this.words[l] >= 67108864; l++)
          (this.words[l] -= 67108864),
            l === this.length - 1
              ? (this.words[l + 1] = 1)
              : this.words[l + 1]++;
        return (this.length = Math.max(this.length, l + 1)), this;
      }),
      (a.prototype.isubn = function (c) {
        if ((i(typeof c == "number"), i(c < 67108864), c < 0))
          return this.iaddn(-c);
        if (this.negative !== 0)
          return (this.negative = 0), this.iaddn(c), (this.negative = 1), this;
        if (((this.words[0] -= c), this.length === 1 && this.words[0] < 0))
          (this.words[0] = -this.words[0]), (this.negative = 1);
        else
          for (var l = 0; l < this.length && this.words[l] < 0; l++)
            (this.words[l] += 67108864), (this.words[l + 1] -= 1);
        return this._strip();
      }),
      (a.prototype.addn = function (c) {
        return this.clone().iaddn(c);
      }),
      (a.prototype.subn = function (c) {
        return this.clone().isubn(c);
      }),
      (a.prototype.iabs = function () {
        return (this.negative = 0), this;
      }),
      (a.prototype.abs = function () {
        return this.clone().iabs();
      }),
      (a.prototype._ishlnsubmul = function (c, l, b) {
        var x = c.length + b,
          M;
        this._expand(x);
        var D,
          S = 0;
        for (M = 0; M < c.length; M++) {
          D = (this.words[M + b] | 0) + S;
          var d = (c.words[M] | 0) * l;
          (D -= d & 67108863),
            (S = (D >> 26) - ((d / 67108864) | 0)),
            (this.words[M + b] = D & 67108863);
        }
        for (; M < this.length - b; M++)
          (D = (this.words[M + b] | 0) + S),
            (S = D >> 26),
            (this.words[M + b] = D & 67108863);
        if (S === 0) return this._strip();
        for (i(S === -1), S = 0, M = 0; M < this.length; M++)
          (D = -(this.words[M] | 0) + S),
            (S = D >> 26),
            (this.words[M] = D & 67108863);
        return (this.negative = 1), this._strip();
      }),
      (a.prototype._wordDiv = function (c, l) {
        var b = this.length - c.length,
          x = this.clone(),
          M = c,
          D = M.words[M.length - 1] | 0,
          S = this._countBits(D);
        (b = 26 - S),
          b !== 0 &&
            ((M = M.ushln(b)), x.iushln(b), (D = M.words[M.length - 1] | 0));
        var d = x.length - M.length,
          p;
        if (l !== "mod") {
          (p = new a(null)),
            (p.length = d + 1),
            (p.words = new Array(p.length));
          for (var R = 0; R < p.length; R++) p.words[R] = 0;
        }
        var Z = x.clone()._ishlnsubmul(M, 1, d);
        Z.negative === 0 && ((x = Z), p && (p.words[d] = 1));
        for (var se = d - 1; se >= 0; se--) {
          var I =
            (x.words[M.length + se] | 0) * 67108864 +
            (x.words[M.length + se - 1] | 0);
          for (
            I = Math.min((I / D) | 0, 67108863), x._ishlnsubmul(M, I, se);
            x.negative !== 0;

          )
            I--,
              (x.negative = 0),
              x._ishlnsubmul(M, 1, se),
              x.isZero() || (x.negative ^= 1);
          p && (p.words[se] = I);
        }
        return (
          p && p._strip(),
          x._strip(),
          l !== "div" && b !== 0 && x.iushrn(b),
          { div: p || null, mod: x }
        );
      }),
      (a.prototype.divmod = function (c, l, b) {
        if ((i(!c.isZero()), this.isZero()))
          return { div: new a(0), mod: new a(0) };
        var x, M, D;
        return this.negative !== 0 && c.negative === 0
          ? ((D = this.neg().divmod(c, l)),
            l !== "mod" && (x = D.div.neg()),
            l !== "div" &&
              ((M = D.mod.neg()), b && M.negative !== 0 && M.iadd(c)),
            { div: x, mod: M })
          : this.negative === 0 && c.negative !== 0
          ? ((D = this.divmod(c.neg(), l)),
            l !== "mod" && (x = D.div.neg()),
            { div: x, mod: D.mod })
          : this.negative & c.negative
          ? ((D = this.neg().divmod(c.neg(), l)),
            l !== "div" &&
              ((M = D.mod.neg()), b && M.negative !== 0 && M.isub(c)),
            { div: D.div, mod: M })
          : c.length > this.length || this.cmp(c) < 0
          ? { div: new a(0), mod: this }
          : c.length === 1
          ? l === "div"
            ? { div: this.divn(c.words[0]), mod: null }
            : l === "mod"
            ? { div: null, mod: new a(this.modrn(c.words[0])) }
            : { div: this.divn(c.words[0]), mod: new a(this.modrn(c.words[0])) }
          : this._wordDiv(c, l);
      }),
      (a.prototype.div = function (c) {
        return this.divmod(c, "div", !1).div;
      }),
      (a.prototype.mod = function (c) {
        return this.divmod(c, "mod", !1).mod;
      }),
      (a.prototype.umod = function (c) {
        return this.divmod(c, "mod", !0).mod;
      }),
      (a.prototype.divRound = function (c) {
        var l = this.divmod(c);
        if (l.mod.isZero()) return l.div;
        var b = l.div.negative !== 0 ? l.mod.isub(c) : l.mod,
          x = c.ushrn(1),
          M = c.andln(1),
          D = b.cmp(x);
        return D < 0 || (M === 1 && D === 0)
          ? l.div
          : l.div.negative !== 0
          ? l.div.isubn(1)
          : l.div.iaddn(1);
      }),
      (a.prototype.modrn = function (c) {
        var l = c < 0;
        l && (c = -c), i(c <= 67108863);
        for (var b = (1 << 26) % c, x = 0, M = this.length - 1; M >= 0; M--)
          x = (b * x + (this.words[M] | 0)) % c;
        return l ? -x : x;
      }),
      (a.prototype.modn = function (c) {
        return this.modrn(c);
      }),
      (a.prototype.idivn = function (c) {
        var l = c < 0;
        l && (c = -c), i(c <= 67108863);
        for (var b = 0, x = this.length - 1; x >= 0; x--) {
          var M = (this.words[x] | 0) + b * 67108864;
          (this.words[x] = (M / c) | 0), (b = M % c);
        }
        return this._strip(), l ? this.ineg() : this;
      }),
      (a.prototype.divn = function (c) {
        return this.clone().idivn(c);
      }),
      (a.prototype.egcd = function (c) {
        i(c.negative === 0), i(!c.isZero());
        var l = this,
          b = c.clone();
        l.negative !== 0 ? (l = l.umod(c)) : (l = l.clone());
        for (
          var x = new a(1), M = new a(0), D = new a(0), S = new a(1), d = 0;
          l.isEven() && b.isEven();

        )
          l.iushrn(1), b.iushrn(1), ++d;
        for (var p = b.clone(), R = l.clone(); !l.isZero(); ) {
          for (var Z = 0, se = 1; !(l.words[0] & se) && Z < 26; ++Z, se <<= 1);
          if (Z > 0)
            for (l.iushrn(Z); Z-- > 0; )
              (x.isOdd() || M.isOdd()) && (x.iadd(p), M.isub(R)),
                x.iushrn(1),
                M.iushrn(1);
          for (var I = 0, ee = 1; !(b.words[0] & ee) && I < 26; ++I, ee <<= 1);
          if (I > 0)
            for (b.iushrn(I); I-- > 0; )
              (D.isOdd() || S.isOdd()) && (D.iadd(p), S.isub(R)),
                D.iushrn(1),
                S.iushrn(1);
          l.cmp(b) >= 0
            ? (l.isub(b), x.isub(D), M.isub(S))
            : (b.isub(l), D.isub(x), S.isub(M));
        }
        return { a: D, b: S, gcd: b.iushln(d) };
      }),
      (a.prototype._invmp = function (c) {
        i(c.negative === 0), i(!c.isZero());
        var l = this,
          b = c.clone();
        l.negative !== 0 ? (l = l.umod(c)) : (l = l.clone());
        for (
          var x = new a(1), M = new a(0), D = b.clone();
          l.cmpn(1) > 0 && b.cmpn(1) > 0;

        ) {
          for (var S = 0, d = 1; !(l.words[0] & d) && S < 26; ++S, d <<= 1);
          if (S > 0)
            for (l.iushrn(S); S-- > 0; ) x.isOdd() && x.iadd(D), x.iushrn(1);
          for (var p = 0, R = 1; !(b.words[0] & R) && p < 26; ++p, R <<= 1);
          if (p > 0)
            for (b.iushrn(p); p-- > 0; ) M.isOdd() && M.iadd(D), M.iushrn(1);
          l.cmp(b) >= 0 ? (l.isub(b), x.isub(M)) : (b.isub(l), M.isub(x));
        }
        var Z;
        return (
          l.cmpn(1) === 0 ? (Z = x) : (Z = M), Z.cmpn(0) < 0 && Z.iadd(c), Z
        );
      }),
      (a.prototype.gcd = function (c) {
        if (this.isZero()) return c.abs();
        if (c.isZero()) return this.abs();
        var l = this.clone(),
          b = c.clone();
        (l.negative = 0), (b.negative = 0);
        for (var x = 0; l.isEven() && b.isEven(); x++) l.iushrn(1), b.iushrn(1);
        do {
          for (; l.isEven(); ) l.iushrn(1);
          for (; b.isEven(); ) b.iushrn(1);
          var M = l.cmp(b);
          if (M < 0) {
            var D = l;
            (l = b), (b = D);
          } else if (M === 0 || b.cmpn(1) === 0) break;
          l.isub(b);
        } while (!0);
        return b.iushln(x);
      }),
      (a.prototype.invm = function (c) {
        return this.egcd(c).a.umod(c);
      }),
      (a.prototype.isEven = function () {
        return (this.words[0] & 1) === 0;
      }),
      (a.prototype.isOdd = function () {
        return (this.words[0] & 1) === 1;
      }),
      (a.prototype.andln = function (c) {
        return this.words[0] & c;
      }),
      (a.prototype.bincn = function (c) {
        i(typeof c == "number");
        var l = c % 26,
          b = (c - l) / 26,
          x = 1 << l;
        if (this.length <= b)
          return this._expand(b + 1), (this.words[b] |= x), this;
        for (var M = x, D = b; M !== 0 && D < this.length; D++) {
          var S = this.words[D] | 0;
          (S += M), (M = S >>> 26), (S &= 67108863), (this.words[D] = S);
        }
        return M !== 0 && ((this.words[D] = M), this.length++), this;
      }),
      (a.prototype.isZero = function () {
        return this.length === 1 && this.words[0] === 0;
      }),
      (a.prototype.cmpn = function (c) {
        var l = c < 0;
        if (this.negative !== 0 && !l) return -1;
        if (this.negative === 0 && l) return 1;
        this._strip();
        var b;
        if (this.length > 1) b = 1;
        else {
          l && (c = -c), i(c <= 67108863, "Number is too big");
          var x = this.words[0] | 0;
          b = x === c ? 0 : x < c ? -1 : 1;
        }
        return this.negative !== 0 ? -b | 0 : b;
      }),
      (a.prototype.cmp = function (c) {
        if (this.negative !== 0 && c.negative === 0) return -1;
        if (this.negative === 0 && c.negative !== 0) return 1;
        var l = this.ucmp(c);
        return this.negative !== 0 ? -l | 0 : l;
      }),
      (a.prototype.ucmp = function (c) {
        if (this.length > c.length) return 1;
        if (this.length < c.length) return -1;
        for (var l = 0, b = this.length - 1; b >= 0; b--) {
          var x = this.words[b] | 0,
            M = c.words[b] | 0;
          if (x !== M) {
            x < M ? (l = -1) : x > M && (l = 1);
            break;
          }
        }
        return l;
      }),
      (a.prototype.gtn = function (c) {
        return this.cmpn(c) === 1;
      }),
      (a.prototype.gt = function (c) {
        return this.cmp(c) === 1;
      }),
      (a.prototype.gten = function (c) {
        return this.cmpn(c) >= 0;
      }),
      (a.prototype.gte = function (c) {
        return this.cmp(c) >= 0;
      }),
      (a.prototype.ltn = function (c) {
        return this.cmpn(c) === -1;
      }),
      (a.prototype.lt = function (c) {
        return this.cmp(c) === -1;
      }),
      (a.prototype.lten = function (c) {
        return this.cmpn(c) <= 0;
      }),
      (a.prototype.lte = function (c) {
        return this.cmp(c) <= 0;
      }),
      (a.prototype.eqn = function (c) {
        return this.cmpn(c) === 0;
      }),
      (a.prototype.eq = function (c) {
        return this.cmp(c) === 0;
      }),
      (a.red = function (c) {
        return new U(c);
      }),
      (a.prototype.toRed = function (c) {
        return (
          i(!this.red, "Already a number in reduction context"),
          i(this.negative === 0, "red works only with positives"),
          c.convertTo(this)._forceRed(c)
        );
      }),
      (a.prototype.fromRed = function () {
        return (
          i(this.red, "fromRed works only with numbers in reduction context"),
          this.red.convertFrom(this)
        );
      }),
      (a.prototype._forceRed = function (c) {
        return (this.red = c), this;
      }),
      (a.prototype.forceRed = function (c) {
        return (
          i(!this.red, "Already a number in reduction context"),
          this._forceRed(c)
        );
      }),
      (a.prototype.redAdd = function (c) {
        return (
          i(this.red, "redAdd works only with red numbers"),
          this.red.add(this, c)
        );
      }),
      (a.prototype.redIAdd = function (c) {
        return (
          i(this.red, "redIAdd works only with red numbers"),
          this.red.iadd(this, c)
        );
      }),
      (a.prototype.redSub = function (c) {
        return (
          i(this.red, "redSub works only with red numbers"),
          this.red.sub(this, c)
        );
      }),
      (a.prototype.redISub = function (c) {
        return (
          i(this.red, "redISub works only with red numbers"),
          this.red.isub(this, c)
        );
      }),
      (a.prototype.redShl = function (c) {
        return (
          i(this.red, "redShl works only with red numbers"),
          this.red.shl(this, c)
        );
      }),
      (a.prototype.redMul = function (c) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, c),
          this.red.mul(this, c)
        );
      }),
      (a.prototype.redIMul = function (c) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, c),
          this.red.imul(this, c)
        );
      }),
      (a.prototype.redSqr = function () {
        return (
          i(this.red, "redSqr works only with red numbers"),
          this.red._verify1(this),
          this.red.sqr(this)
        );
      }),
      (a.prototype.redISqr = function () {
        return (
          i(this.red, "redISqr works only with red numbers"),
          this.red._verify1(this),
          this.red.isqr(this)
        );
      }),
      (a.prototype.redSqrt = function () {
        return (
          i(this.red, "redSqrt works only with red numbers"),
          this.red._verify1(this),
          this.red.sqrt(this)
        );
      }),
      (a.prototype.redInvm = function () {
        return (
          i(this.red, "redInvm works only with red numbers"),
          this.red._verify1(this),
          this.red.invm(this)
        );
      }),
      (a.prototype.redNeg = function () {
        return (
          i(this.red, "redNeg works only with red numbers"),
          this.red._verify1(this),
          this.red.neg(this)
        );
      }),
      (a.prototype.redPow = function (c) {
        return (
          i(this.red && !c.red, "redPow(normalNum)"),
          this.red._verify1(this),
          this.red.pow(this, c)
        );
      });
    var k = { k256: null, p224: null, p192: null, p25519: null };
    function V(c, l) {
      (this.name = c),
        (this.p = new a(l, 16)),
        (this.n = this.p.bitLength()),
        (this.k = new a(1).iushln(this.n).isub(this.p)),
        (this.tmp = this._tmp());
    }
    (V.prototype._tmp = function () {
      var c = new a(null);
      return (c.words = new Array(Math.ceil(this.n / 13))), c;
    }),
      (V.prototype.ireduce = function (c) {
        var l = c,
          b;
        do
          this.split(l, this.tmp),
            (l = this.imulK(l)),
            (l = l.iadd(this.tmp)),
            (b = l.bitLength());
        while (b > this.n);
        var x = b < this.n ? -1 : l.ucmp(this.p);
        return (
          x === 0
            ? ((l.words[0] = 0), (l.length = 1))
            : x > 0
            ? l.isub(this.p)
            : l.strip !== void 0
            ? l.strip()
            : l._strip(),
          l
        );
      }),
      (V.prototype.split = function (c, l) {
        c.iushrn(this.n, 0, l);
      }),
      (V.prototype.imulK = function (c) {
        return c.imul(this.k);
      });
    function A() {
      V.call(
        this,
        "k256",
        "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
      );
    }
    n(A, V),
      (A.prototype.split = function (c, l) {
        for (var b = 4194303, x = Math.min(c.length, 9), M = 0; M < x; M++)
          l.words[M] = c.words[M];
        if (((l.length = x), c.length <= 9)) {
          (c.words[0] = 0), (c.length = 1);
          return;
        }
        var D = c.words[9];
        for (l.words[l.length++] = D & b, M = 10; M < c.length; M++) {
          var S = c.words[M] | 0;
          (c.words[M - 10] = ((S & b) << 4) | (D >>> 22)), (D = S);
        }
        (D >>>= 22),
          (c.words[M - 10] = D),
          D === 0 && c.length > 10 ? (c.length -= 10) : (c.length -= 9);
      }),
      (A.prototype.imulK = function (c) {
        (c.words[c.length] = 0), (c.words[c.length + 1] = 0), (c.length += 2);
        for (var l = 0, b = 0; b < c.length; b++) {
          var x = c.words[b] | 0;
          (l += x * 977),
            (c.words[b] = l & 67108863),
            (l = x * 64 + ((l / 67108864) | 0));
        }
        return (
          c.words[c.length - 1] === 0 &&
            (c.length--, c.words[c.length - 1] === 0 && c.length--),
          c
        );
      });
    function F() {
      V.call(
        this,
        "p224",
        "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
      );
    }
    n(F, V);
    function ae() {
      V.call(
        this,
        "p192",
        "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
      );
    }
    n(ae, V);
    function de() {
      V.call(
        this,
        "25519",
        "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
      );
    }
    n(de, V),
      (de.prototype.imulK = function (c) {
        for (var l = 0, b = 0; b < c.length; b++) {
          var x = (c.words[b] | 0) * 19 + l,
            M = x & 67108863;
          (x >>>= 26), (c.words[b] = M), (l = x);
        }
        return l !== 0 && (c.words[c.length++] = l), c;
      }),
      (a._prime = function (c) {
        if (k[c]) return k[c];
        var l;
        if (c === "k256") l = new A();
        else if (c === "p224") l = new F();
        else if (c === "p192") l = new ae();
        else if (c === "p25519") l = new de();
        else throw new Error("Unknown prime " + c);
        return (k[c] = l), l;
      });
    function U(c) {
      if (typeof c == "string") {
        var l = a._prime(c);
        (this.m = l.p), (this.prime = l);
      } else
        i(c.gtn(1), "modulus must be greater than 1"),
          (this.m = c),
          (this.prime = null);
    }
    (U.prototype._verify1 = function (c) {
      i(c.negative === 0, "red works only with positives"),
        i(c.red, "red works only with red numbers");
    }),
      (U.prototype._verify2 = function (c, l) {
        i((c.negative | l.negative) === 0, "red works only with positives"),
          i(c.red && c.red === l.red, "red works only with red numbers");
      }),
      (U.prototype.imod = function (c) {
        return this.prime
          ? this.prime.ireduce(c)._forceRed(this)
          : (y(c, c.umod(this.m)._forceRed(this)), c);
      }),
      (U.prototype.neg = function (c) {
        return c.isZero() ? c.clone() : this.m.sub(c)._forceRed(this);
      }),
      (U.prototype.add = function (c, l) {
        this._verify2(c, l);
        var b = c.add(l);
        return b.cmp(this.m) >= 0 && b.isub(this.m), b._forceRed(this);
      }),
      (U.prototype.iadd = function (c, l) {
        this._verify2(c, l);
        var b = c.iadd(l);
        return b.cmp(this.m) >= 0 && b.isub(this.m), b;
      }),
      (U.prototype.sub = function (c, l) {
        this._verify2(c, l);
        var b = c.sub(l);
        return b.cmpn(0) < 0 && b.iadd(this.m), b._forceRed(this);
      }),
      (U.prototype.isub = function (c, l) {
        this._verify2(c, l);
        var b = c.isub(l);
        return b.cmpn(0) < 0 && b.iadd(this.m), b;
      }),
      (U.prototype.shl = function (c, l) {
        return this._verify1(c), this.imod(c.ushln(l));
      }),
      (U.prototype.imul = function (c, l) {
        return this._verify2(c, l), this.imod(c.imul(l));
      }),
      (U.prototype.mul = function (c, l) {
        return this._verify2(c, l), this.imod(c.mul(l));
      }),
      (U.prototype.isqr = function (c) {
        return this.imul(c, c.clone());
      }),
      (U.prototype.sqr = function (c) {
        return this.mul(c, c);
      }),
      (U.prototype.sqrt = function (c) {
        if (c.isZero()) return c.clone();
        var l = this.m.andln(3);
        if ((i(l % 2 === 1), l === 3)) {
          var b = this.m.add(new a(1)).iushrn(2);
          return this.pow(c, b);
        }
        for (var x = this.m.subn(1), M = 0; !x.isZero() && x.andln(1) === 0; )
          M++, x.iushrn(1);
        i(!x.isZero());
        var D = new a(1).toRed(this),
          S = D.redNeg(),
          d = this.m.subn(1).iushrn(1),
          p = this.m.bitLength();
        for (p = new a(2 * p * p).toRed(this); this.pow(p, d).cmp(S) !== 0; )
          p.redIAdd(S);
        for (
          var R = this.pow(p, x),
            Z = this.pow(c, x.addn(1).iushrn(1)),
            se = this.pow(c, x),
            I = M;
          se.cmp(D) !== 0;

        ) {
          for (var ee = se, B = 0; ee.cmp(D) !== 0; B++) ee = ee.redSqr();
          i(B < I);
          var j = this.pow(R, new a(1).iushln(I - B - 1));
          (Z = Z.redMul(j)), (R = j.redSqr()), (se = se.redMul(R)), (I = B);
        }
        return Z;
      }),
      (U.prototype.invm = function (c) {
        var l = c._invmp(this.m);
        return l.negative !== 0
          ? ((l.negative = 0), this.imod(l).redNeg())
          : this.imod(l);
      }),
      (U.prototype.pow = function (c, l) {
        if (l.isZero()) return new a(1).toRed(this);
        if (l.cmpn(1) === 0) return c.clone();
        var b = 4,
          x = new Array(1 << b);
        (x[0] = new a(1).toRed(this)), (x[1] = c);
        for (var M = 2; M < x.length; M++) x[M] = this.mul(x[M - 1], c);
        var D = x[0],
          S = 0,
          d = 0,
          p = l.bitLength() % 26;
        for (p === 0 && (p = 26), M = l.length - 1; M >= 0; M--) {
          for (var R = l.words[M], Z = p - 1; Z >= 0; Z--) {
            var se = (R >> Z) & 1;
            if ((D !== x[0] && (D = this.sqr(D)), se === 0 && S === 0)) {
              d = 0;
              continue;
            }
            (S <<= 1),
              (S |= se),
              d++,
              !(d !== b && (M !== 0 || Z !== 0)) &&
                ((D = this.mul(D, x[S])), (d = 0), (S = 0));
          }
          p = 26;
        }
        return D;
      }),
      (U.prototype.convertTo = function (c) {
        var l = c.umod(this.m);
        return l === c ? l.clone() : l;
      }),
      (U.prototype.convertFrom = function (c) {
        var l = c.clone();
        return (l.red = null), l;
      }),
      (a.mont = function (c) {
        return new m(c);
      });
    function m(c) {
      U.call(this, c),
        (this.shift = this.m.bitLength()),
        this.shift % 26 !== 0 && (this.shift += 26 - (this.shift % 26)),
        (this.r = new a(1).iushln(this.shift)),
        (this.r2 = this.imod(this.r.sqr())),
        (this.rinv = this.r._invmp(this.m)),
        (this.minv = this.rinv.mul(this.r).isubn(1).div(this.m)),
        (this.minv = this.minv.umod(this.r)),
        (this.minv = this.r.sub(this.minv));
    }
    n(m, U),
      (m.prototype.convertTo = function (c) {
        return this.imod(c.ushln(this.shift));
      }),
      (m.prototype.convertFrom = function (c) {
        var l = this.imod(c.mul(this.rinv));
        return (l.red = null), l;
      }),
      (m.prototype.imul = function (c, l) {
        if (c.isZero() || l.isZero())
          return (c.words[0] = 0), (c.length = 1), c;
        var b = c.imul(l),
          x = b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          M = b.isub(x).iushrn(this.shift),
          D = M;
        return (
          M.cmp(this.m) >= 0
            ? (D = M.isub(this.m))
            : M.cmpn(0) < 0 && (D = M.iadd(this.m)),
          D._forceRed(this)
        );
      }),
      (m.prototype.mul = function (c, l) {
        if (c.isZero() || l.isZero()) return new a(0)._forceRed(this);
        var b = c.mul(l),
          x = b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          M = b.isub(x).iushrn(this.shift),
          D = M;
        return (
          M.cmp(this.m) >= 0
            ? (D = M.isub(this.m))
            : M.cmpn(0) < 0 && (D = M.iadd(this.m)),
          D._forceRed(this)
        );
      }),
      (m.prototype.invm = function (c) {
        var l = this.imod(c._invmp(this.m).mul(this.r2));
        return l._forceRed(this);
      });
  })(r, Kb);
})(Jb);
var vt = Jb.exports;
const Yb = "bignumber/5.7.0";
var vf = vt.BN;
const fs = new Pr(Yb),
  Al = {},
  Q1 = 9007199254740991;
function HE(r) {
  return (
    r != null &&
    (Gt.isBigNumber(r) ||
      (typeof r == "number" && r % 1 === 0) ||
      (typeof r == "string" && !!r.match(/^-?[0-9]+$/)) ||
      Ai(r) ||
      typeof r == "bigint" ||
      mo(r))
  );
}
let X1 = !1;
class Gt {
  constructor(e, t) {
    e !== Al &&
      fs.throwError(
        "cannot call constructor directly; use BigNumber.from",
        Pr.errors.UNSUPPORTED_OPERATION,
        { operation: "new (BigNumber)" }
      ),
      (this._hex = t),
      (this._isBigNumber = !0),
      Object.freeze(this);
  }
  fromTwos(e) {
    return ci(Dt(this).fromTwos(e));
  }
  toTwos(e) {
    return ci(Dt(this).toTwos(e));
  }
  abs() {
    return this._hex[0] === "-" ? Gt.from(this._hex.substring(1)) : this;
  }
  add(e) {
    return ci(Dt(this).add(Dt(e)));
  }
  sub(e) {
    return ci(Dt(this).sub(Dt(e)));
  }
  div(e) {
    return (
      Gt.from(e).isZero() && Bi("division-by-zero", "div"),
      ci(Dt(this).div(Dt(e)))
    );
  }
  mul(e) {
    return ci(Dt(this).mul(Dt(e)));
  }
  mod(e) {
    const t = Dt(e);
    return t.isNeg() && Bi("division-by-zero", "mod"), ci(Dt(this).umod(t));
  }
  pow(e) {
    const t = Dt(e);
    return t.isNeg() && Bi("negative-power", "pow"), ci(Dt(this).pow(t));
  }
  and(e) {
    const t = Dt(e);
    return (
      (this.isNegative() || t.isNeg()) && Bi("unbound-bitwise-result", "and"),
      ci(Dt(this).and(t))
    );
  }
  or(e) {
    const t = Dt(e);
    return (
      (this.isNegative() || t.isNeg()) && Bi("unbound-bitwise-result", "or"),
      ci(Dt(this).or(t))
    );
  }
  xor(e) {
    const t = Dt(e);
    return (
      (this.isNegative() || t.isNeg()) && Bi("unbound-bitwise-result", "xor"),
      ci(Dt(this).xor(t))
    );
  }
  mask(e) {
    return (
      (this.isNegative() || e < 0) && Bi("negative-width", "mask"),
      ci(Dt(this).maskn(e))
    );
  }
  shl(e) {
    return (
      (this.isNegative() || e < 0) && Bi("negative-width", "shl"),
      ci(Dt(this).shln(e))
    );
  }
  shr(e) {
    return (
      (this.isNegative() || e < 0) && Bi("negative-width", "shr"),
      ci(Dt(this).shrn(e))
    );
  }
  eq(e) {
    return Dt(this).eq(Dt(e));
  }
  lt(e) {
    return Dt(this).lt(Dt(e));
  }
  lte(e) {
    return Dt(this).lte(Dt(e));
  }
  gt(e) {
    return Dt(this).gt(Dt(e));
  }
  gte(e) {
    return Dt(this).gte(Dt(e));
  }
  isNegative() {
    return this._hex[0] === "-";
  }
  isZero() {
    return Dt(this).isZero();
  }
  toNumber() {
    try {
      return Dt(this).toNumber();
    } catch {
      Bi("overflow", "toNumber", this.toString());
    }
    return null;
  }
  toBigInt() {
    try {
      return BigInt(this.toString());
    } catch {}
    return fs.throwError(
      "this platform does not support BigInt",
      Pr.errors.UNSUPPORTED_OPERATION,
      { value: this.toString() }
    );
  }
  toString() {
    return (
      arguments.length > 0 &&
        (arguments[0] === 10
          ? X1 ||
            ((X1 = !0),
            fs.warn(
              "BigNumber.toString does not accept any parameters; base-10 is assumed"
            ))
          : arguments[0] === 16
          ? fs.throwError(
              "BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",
              Pr.errors.UNEXPECTED_ARGUMENT,
              {}
            )
          : fs.throwError(
              "BigNumber.toString does not accept parameters",
              Pr.errors.UNEXPECTED_ARGUMENT,
              {}
            )),
      Dt(this).toString(10)
    );
  }
  toHexString() {
    return this._hex;
  }
  toJSON(e) {
    return { type: "BigNumber", hex: this.toHexString() };
  }
  static from(e) {
    if (e instanceof Gt) return e;
    if (typeof e == "string")
      return e.match(/^-?0x[0-9a-f]+$/i)
        ? new Gt(Al, gc(e))
        : e.match(/^-?[0-9]+$/)
        ? new Gt(Al, gc(new vf(e)))
        : fs.throwArgumentError("invalid BigNumber string", "value", e);
    if (typeof e == "number")
      return (
        e % 1 && Bi("underflow", "BigNumber.from", e),
        (e >= Q1 || e <= -Q1) && Bi("overflow", "BigNumber.from", e),
        Gt.from(String(e))
      );
    const t = e;
    if (typeof t == "bigint") return Gt.from(t.toString());
    if (mo(t)) return Gt.from(Wr(t));
    if (t)
      if (t.toHexString) {
        const i = t.toHexString();
        if (typeof i == "string") return Gt.from(i);
      } else {
        let i = t._hex;
        if (
          (i == null && t.type === "BigNumber" && (i = t.hex),
          typeof i == "string" &&
            (Ai(i) || (i[0] === "-" && Ai(i.substring(1)))))
        )
          return Gt.from(i);
      }
    return fs.throwArgumentError("invalid BigNumber value", "value", e);
  }
  static isBigNumber(e) {
    return !!(e && e._isBigNumber);
  }
}
function gc(r) {
  if (typeof r != "string") return gc(r.toString(16));
  if (r[0] === "-")
    return (
      (r = r.substring(1)),
      r[0] === "-" && fs.throwArgumentError("invalid hex", "value", r),
      (r = gc(r)),
      r === "0x00" ? r : "-" + r
    );
  if ((r.substring(0, 2) !== "0x" && (r = "0x" + r), r === "0x")) return "0x00";
  for (
    r.length % 2 && (r = "0x0" + r.substring(2));
    r.length > 4 && r.substring(0, 4) === "0x00";

  )
    r = "0x" + r.substring(4);
  return r;
}
function ci(r) {
  return Gt.from(gc(r));
}
function Dt(r) {
  const e = Gt.from(r).toHexString();
  return e[0] === "-"
    ? new vf("-" + e.substring(3), 16)
    : new vf(e.substring(2), 16);
}
function Bi(r, e, t) {
  const i = { fault: r, operation: e };
  return (
    t != null && (i.value = t), fs.throwError(r, Pr.errors.NUMERIC_FAULT, i)
  );
}
function KE(r) {
  return new vf(r, 36).toString(16);
}
const Yr = new Pr(Yb),
  cc = {},
  Qb = Gt.from(0),
  Xb = Gt.from(-1);
function Zb(r, e, t, i) {
  const n = { fault: e, operation: t };
  return (
    i !== void 0 && (n.value = i), Yr.throwError(r, Pr.errors.NUMERIC_FAULT, n)
  );
}
let hc = "0";
for (; hc.length < 256; ) hc += hc;
function z0(r) {
  if (typeof r != "number")
    try {
      r = Gt.from(r).toNumber();
    } catch {}
  return typeof r == "number" && r >= 0 && r <= 256 && !(r % 1)
    ? "1" + hc.substring(0, r)
    : Yr.throwArgumentError("invalid decimal size", "decimals", r);
}
function El(r, e) {
  e == null && (e = 0);
  const t = z0(e);
  r = Gt.from(r);
  const i = r.lt(Qb);
  i && (r = r.mul(Xb));
  let n = r.mod(t).toString();
  for (; n.length < t.length - 1; ) n = "0" + n;
  n = n.match(/^([0-9]*[1-9]|0)(0*)/)[1];
  const a = r.div(t).toString();
  return t.length === 1 ? (r = a) : (r = a + "." + n), i && (r = "-" + r), r;
}
function as(r, e) {
  e == null && (e = 0);
  const t = z0(e);
  (typeof r != "string" || !r.match(/^-?[0-9.]+$/)) &&
    Yr.throwArgumentError("invalid decimal value", "value", r);
  const i = r.substring(0, 1) === "-";
  i && (r = r.substring(1)),
    r === "." && Yr.throwArgumentError("missing value", "value", r);
  const n = r.split(".");
  n.length > 2 && Yr.throwArgumentError("too many decimal points", "value", r);
  let a = n[0],
    h = n[1];
  for (a || (a = "0"), h || (h = "0"); h[h.length - 1] === "0"; )
    h = h.substring(0, h.length - 1);
  for (
    h.length > t.length - 1 &&
      Zb("fractional component exceeds decimals", "underflow", "parseFixed"),
      h === "" && (h = "0");
    h.length < t.length - 1;

  )
    h += "0";
  const f = Gt.from(a),
    v = Gt.from(h);
  let g = f.mul(t).add(v);
  return i && (g = g.mul(Xb)), g;
}
let xl = class h0 {
    constructor(e, t, i, n) {
      e !== cc &&
        Yr.throwError(
          "cannot use FixedFormat constructor; use FixedFormat.from",
          Pr.errors.UNSUPPORTED_OPERATION,
          { operation: "new FixedFormat" }
        ),
        (this.signed = t),
        (this.width = i),
        (this.decimals = n),
        (this.name = (t ? "" : "u") + "fixed" + String(i) + "x" + String(n)),
        (this._multiplier = z0(n)),
        Object.freeze(this);
    }
    static from(e) {
      if (e instanceof h0) return e;
      typeof e == "number" && (e = `fixed128x${e}`);
      let t = !0,
        i = 128,
        n = 18;
      if (typeof e == "string") {
        if (e !== "fixed")
          if (e === "ufixed") t = !1;
          else {
            const a = e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);
            a || Yr.throwArgumentError("invalid fixed format", "format", e),
              (t = a[1] !== "u"),
              (i = parseInt(a[2])),
              (n = parseInt(a[3]));
          }
      } else if (e) {
        const a = (h, f, v) =>
          e[h] == null
            ? v
            : (typeof e[h] !== f &&
                Yr.throwArgumentError(
                  "invalid fixed format (" + h + " not " + f + ")",
                  "format." + h,
                  e[h]
                ),
              e[h]);
        (t = a("signed", "boolean", t)),
          (i = a("width", "number", i)),
          (n = a("decimals", "number", n));
      }
      return (
        i % 8 &&
          Yr.throwArgumentError(
            "invalid fixed format width (not byte aligned)",
            "format.width",
            i
          ),
        n > 80 &&
          Yr.throwArgumentError(
            "invalid fixed format (decimals too large)",
            "format.decimals",
            n
          ),
        new h0(cc, t, i, n)
      );
    }
  },
  e2 = class Gr {
    constructor(e, t, i, n) {
      e !== cc &&
        Yr.throwError(
          "cannot use FixedNumber constructor; use FixedNumber.from",
          Pr.errors.UNSUPPORTED_OPERATION,
          { operation: "new FixedFormat" }
        ),
        (this.format = n),
        (this._hex = t),
        (this._value = i),
        (this._isFixedNumber = !0),
        Object.freeze(this);
    }
    _checkFormat(e) {
      this.format.name !== e.format.name &&
        Yr.throwArgumentError(
          "incompatible format; use fixedNumber.toFormat",
          "other",
          e
        );
    }
    addUnsafe(e) {
      this._checkFormat(e);
      const t = as(this._value, this.format.decimals),
        i = as(e._value, e.format.decimals);
      return Gr.fromValue(t.add(i), this.format.decimals, this.format);
    }
    subUnsafe(e) {
      this._checkFormat(e);
      const t = as(this._value, this.format.decimals),
        i = as(e._value, e.format.decimals);
      return Gr.fromValue(t.sub(i), this.format.decimals, this.format);
    }
    mulUnsafe(e) {
      this._checkFormat(e);
      const t = as(this._value, this.format.decimals),
        i = as(e._value, e.format.decimals);
      return Gr.fromValue(
        t.mul(i).div(this.format._multiplier),
        this.format.decimals,
        this.format
      );
    }
    divUnsafe(e) {
      this._checkFormat(e);
      const t = as(this._value, this.format.decimals),
        i = as(e._value, e.format.decimals);
      return Gr.fromValue(
        t.mul(this.format._multiplier).div(i),
        this.format.decimals,
        this.format
      );
    }
    floor() {
      const e = this.toString().split(".");
      e.length === 1 && e.push("0");
      let t = Gr.from(e[0], this.format);
      const i = !e[1].match(/^(0*)$/);
      return (
        this.isNegative() && i && (t = t.subUnsafe(Z1.toFormat(t.format))), t
      );
    }
    ceiling() {
      const e = this.toString().split(".");
      e.length === 1 && e.push("0");
      let t = Gr.from(e[0], this.format);
      const i = !e[1].match(/^(0*)$/);
      return (
        !this.isNegative() && i && (t = t.addUnsafe(Z1.toFormat(t.format))), t
      );
    }
    round(e) {
      e == null && (e = 0);
      const t = this.toString().split(".");
      if (
        (t.length === 1 && t.push("0"),
        (e < 0 || e > 80 || e % 1) &&
          Yr.throwArgumentError("invalid decimal count", "decimals", e),
        t[1].length <= e)
      )
        return this;
      const i = Gr.from("1" + hc.substring(0, e), this.format),
        n = VE.toFormat(this.format);
      return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i);
    }
    isZero() {
      return this._value === "0.0" || this._value === "0";
    }
    isNegative() {
      return this._value[0] === "-";
    }
    toString() {
      return this._value;
    }
    toHexString(e) {
      if (e == null) return this._hex;
      e % 8 && Yr.throwArgumentError("invalid byte width", "width", e);
      const t = Gt.from(this._hex)
        .fromTwos(this.format.width)
        .toTwos(e)
        .toHexString();
      return Bn(t, e / 8);
    }
    toUnsafeFloat() {
      return parseFloat(this.toString());
    }
    toFormat(e) {
      return Gr.fromString(this._value, e);
    }
    static fromValue(e, t, i) {
      return (
        i == null && t != null && !HE(t) && ((i = t), (t = null)),
        t == null && (t = 0),
        i == null && (i = "fixed"),
        Gr.fromString(El(e, t), xl.from(i))
      );
    }
    static fromString(e, t) {
      t == null && (t = "fixed");
      const i = xl.from(t),
        n = as(e, i.decimals);
      !i.signed &&
        n.lt(Qb) &&
        Zb("unsigned value cannot be negative", "overflow", "value", e);
      let a = null;
      i.signed
        ? (a = n.toTwos(i.width).toHexString())
        : ((a = n.toHexString()), (a = Bn(a, i.width / 8)));
      const h = El(n, i.decimals);
      return new Gr(cc, a, h, i);
    }
    static fromBytes(e, t) {
      t == null && (t = "fixed");
      const i = xl.from(t);
      if (ir(e).length > i.width / 8) throw new Error("overflow");
      let n = Gt.from(e);
      i.signed && (n = n.fromTwos(i.width));
      const a = n.toTwos((i.signed ? 0 : 1) + i.width).toHexString(),
        h = El(n, i.decimals);
      return new Gr(cc, a, h, i);
    }
    static from(e, t) {
      if (typeof e == "string") return Gr.fromString(e, t);
      if (mo(e)) return Gr.fromBytes(e, t);
      try {
        return Gr.fromValue(e, 0, t);
      } catch (i) {
        if (i.code !== Pr.errors.INVALID_ARGUMENT) throw i;
      }
      return Yr.throwArgumentError("invalid FixedNumber value", "value", e);
    }
    static isFixedNumber(e) {
      return !!(e && e._isFixedNumber);
    }
  };
const Z1 = e2.from(1),
  VE = e2.from("0.5"),
  GE = "strings/5.7.0",
  WE = new Pr(GE);
var bf;
(function (r) {
  (r.current = ""),
    (r.NFC = "NFC"),
    (r.NFD = "NFD"),
    (r.NFKC = "NFKC"),
    (r.NFKD = "NFKD");
})(bf || (bf = {}));
var eg;
(function (r) {
  (r.UNEXPECTED_CONTINUE = "unexpected continuation byte"),
    (r.BAD_PREFIX = "bad codepoint prefix"),
    (r.OVERRUN = "string overrun"),
    (r.MISSING_CONTINUE = "missing continuation byte"),
    (r.OUT_OF_RANGE = "out of UTF-8 range"),
    (r.UTF16_SURROGATE = "UTF-16 surrogate"),
    (r.OVERLONG = "overlong representation");
})(eg || (eg = {}));
function Sl(r, e = bf.current) {
  e != bf.current && (WE.checkNormalize(), (r = r.normalize(e)));
  let t = [];
  for (let i = 0; i < r.length; i++) {
    const n = r.charCodeAt(i);
    if (n < 128) t.push(n);
    else if (n < 2048) t.push((n >> 6) | 192), t.push((n & 63) | 128);
    else if ((n & 64512) == 55296) {
      i++;
      const a = r.charCodeAt(i);
      if (i >= r.length || (a & 64512) !== 56320)
        throw new Error("invalid utf-8 string");
      const h = 65536 + ((n & 1023) << 10) + (a & 1023);
      t.push((h >> 18) | 240),
        t.push(((h >> 12) & 63) | 128),
        t.push(((h >> 6) & 63) | 128),
        t.push((h & 63) | 128);
    } else
      t.push((n >> 12) | 224),
        t.push(((n >> 6) & 63) | 128),
        t.push((n & 63) | 128);
  }
  return ir(t);
}
function JE(r) {
  if (r.length % 4 !== 0) throw new Error("bad data");
  let e = [];
  for (let t = 0; t < r.length; t += 4)
    e.push(parseInt(r.substring(t, t + 4), 16));
  return e;
}
function Ml(r, e) {
  e ||
    (e = function (n) {
      return [parseInt(n, 16)];
    });
  let t = 0,
    i = {};
  return (
    r.split(",").forEach((n) => {
      let a = n.split(":");
      (t += parseInt(a[0], 16)), (i[t] = e(a[1]));
    }),
    i
  );
}
function tg(r) {
  let e = 0;
  return r.split(",").map((t) => {
    let i = t.split("-");
    i.length === 1 ? (i[1] = "0") : i[1] === "" && (i[1] = "1");
    let n = e + parseInt(i[0], 16);
    return (e = parseInt(i[1], 16)), { l: n, h: e };
  });
}
tg(
  "221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"
),
  "ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff"
    .split(",")
    .map((r) => parseInt(r, 16)),
  Ml(
    "b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"
  ),
  Ml(
    "179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"
  ),
  Ml(
    "df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",
    JE
  ),
  tg(
    "80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001"
  );
function YE(r) {
  r = atob(r);
  const e = [];
  for (let t = 0; t < r.length; t++) e.push(r.charCodeAt(t));
  return ir(e);
}
function t2(r, e) {
  e == null && (e = 1);
  const t = [],
    i = t.forEach,
    n = function (a, h) {
      i.call(a, function (f) {
        h > 0 && Array.isArray(f) ? n(f, h - 1) : t.push(f);
      });
    };
  return n(r, e), t;
}
function QE(r) {
  const e = {};
  for (let t = 0; t < r.length; t++) {
    const i = r[t];
    e[i[0]] = i[1];
  }
  return e;
}
function XE(r) {
  let e = 0;
  function t() {
    return (r[e++] << 8) | r[e++];
  }
  let i = t(),
    n = 1,
    a = [0, 1];
  for (let k = 1; k < i; k++) a.push((n += t()));
  let h = t(),
    f = e;
  e += h;
  let v = 0,
    g = 0;
  function y() {
    return v == 0 && ((g = (g << 8) | r[e++]), (v = 8)), (g >> --v) & 1;
  }
  const _ = 31,
    C = Math.pow(2, _),
    P = C >>> 1,
    O = P >> 1,
    H = C - 1;
  let G = 0;
  for (let k = 0; k < _; k++) G = (G << 1) | y();
  let Q = [],
    z = 0,
    Y = C;
  for (;;) {
    let k = Math.floor(((G - z + 1) * n - 1) / Y),
      V = 0,
      A = i;
    for (; A - V > 1; ) {
      let de = (V + A) >>> 1;
      k < a[de] ? (A = de) : (V = de);
    }
    if (V == 0) break;
    Q.push(V);
    let F = z + Math.floor((Y * a[V]) / n),
      ae = z + Math.floor((Y * a[V + 1]) / n) - 1;
    for (; !((F ^ ae) & P); )
      (G = ((G << 1) & H) | y()),
        (F = (F << 1) & H),
        (ae = ((ae << 1) & H) | 1);
    for (; F & ~ae & O; )
      (G = (G & P) | ((G << 1) & (H >>> 1)) | y()),
        (F = (F << 1) ^ P),
        (ae = ((ae ^ P) << 1) | P | 1);
    (z = F), (Y = 1 + ae - F);
  }
  let q = i - 4;
  return Q.map((k) => {
    switch (k - q) {
      case 3:
        return q + 65792 + ((r[f++] << 16) | (r[f++] << 8) | r[f++]);
      case 2:
        return q + 256 + ((r[f++] << 8) | r[f++]);
      case 1:
        return q + r[f++];
      default:
        return k - 1;
    }
  });
}
function ZE(r) {
  let e = 0;
  return () => r[e++];
}
function ex(r) {
  return ZE(XE(r));
}
function tx(r) {
  return r & 1 ? ~r >> 1 : r >> 1;
}
function rx(r, e) {
  let t = Array(r);
  for (let i = 0; i < r; i++) t[i] = 1 + e();
  return t;
}
function rg(r, e) {
  let t = Array(r);
  for (let i = 0, n = -1; i < r; i++) t[i] = n += 1 + e();
  return t;
}
function ix(r, e) {
  let t = Array(r);
  for (let i = 0, n = 0; i < r; i++) t[i] = n += tx(e());
  return t;
}
function mf(r, e) {
  let t = rg(r(), r),
    i = r(),
    n = rg(i, r),
    a = rx(i, r);
  for (let h = 0; h < i; h++) for (let f = 0; f < a[h]; f++) t.push(n[h] + f);
  return e ? t.map((h) => e[h]) : t;
}
function nx(r) {
  let e = [];
  for (;;) {
    let t = r();
    if (t == 0) break;
    e.push(ax(t, r));
  }
  for (;;) {
    let t = r() - 1;
    if (t < 0) break;
    e.push(ox(t, r));
  }
  return QE(t2(e));
}
function sx(r) {
  let e = [];
  for (;;) {
    let t = r();
    if (t == 0) break;
    e.push(t);
  }
  return e;
}
function r2(r, e, t) {
  let i = Array(r)
    .fill(void 0)
    .map(() => []);
  for (let n = 0; n < e; n++) ix(r, t).forEach((a, h) => i[h].push(a));
  return i;
}
function ax(r, e) {
  let t = 1 + e(),
    i = e(),
    n = sx(e),
    a = r2(n.length, 1 + r, e);
  return t2(
    a.map((h, f) => {
      const v = h[0],
        g = h.slice(1);
      return Array(n[f])
        .fill(void 0)
        .map((y, _) => {
          let C = _ * i;
          return [v + _ * t, g.map((P) => P + C)];
        });
    })
  );
}
function ox(r, e) {
  let t = 1 + e();
  return r2(t, 1 + r, e).map((i) => [i[0], i.slice(1)]);
}
function cx(r) {
  let e = mf(r).sort((i, n) => i - n);
  return t();
  function t() {
    let i = [];
    for (;;) {
      let g = mf(r, e);
      if (g.length == 0) break;
      i.push({ set: new Set(g), node: t() });
    }
    i.sort((g, y) => y.set.size - g.set.size);
    let n = r(),
      a = n % 3;
    n = (n / 3) | 0;
    let h = !!(n & 1);
    n >>= 1;
    let f = n == 1,
      v = n == 2;
    return { branches: i, valid: a, fe0f: h, save: f, check: v };
  }
}
function hx() {
  return ex(
    YE(
      "AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="
    )
  );
}
const Uh = hx();
new Set(mf(Uh)), new Set(mf(Uh)), nx(Uh), cx(Uh);
const fx = new Uint8Array(32);
fx.fill(0);
const ux = `Ethereum Signed Message:
`;
function i2(r) {
  return (
    typeof r == "string" && (r = Sl(r)),
    $0(qE([Sl(ux), Sl(String(r.length)), r]))
  );
}
const lx = "address/5.7.0",
  nc = new Pr(lx);
function ig(r) {
  Ai(r, 20) || nc.throwArgumentError("invalid address", "address", r),
    (r = r.toLowerCase());
  const e = r.substring(2).split(""),
    t = new Uint8Array(40);
  for (let n = 0; n < 40; n++) t[n] = e[n].charCodeAt(0);
  const i = ir($0(t));
  for (let n = 0; n < 40; n += 2)
    i[n >> 1] >> 4 >= 8 && (e[n] = e[n].toUpperCase()),
      (i[n >> 1] & 15) >= 8 && (e[n + 1] = e[n + 1].toUpperCase());
  return "0x" + e.join("");
}
const dx = 9007199254740991;
function px(r) {
  return Math.log10 ? Math.log10(r) : Math.log(r) / Math.LN10;
}
const k0 = {};
for (let r = 0; r < 10; r++) k0[String(r)] = String(r);
for (let r = 0; r < 26; r++) k0[String.fromCharCode(65 + r)] = String(10 + r);
const ng = Math.floor(px(dx));
function gx(r) {
  (r = r.toUpperCase()), (r = r.substring(4) + r.substring(0, 2) + "00");
  let e = r
    .split("")
    .map((i) => k0[i])
    .join("");
  for (; e.length >= ng; ) {
    let i = e.substring(0, ng);
    e = (parseInt(i, 10) % 97) + e.substring(i.length);
  }
  let t = String(98 - (parseInt(e, 10) % 97));
  for (; t.length < 2; ) t = "0" + t;
  return t;
}
function vx(r) {
  let e = null;
  if (
    (typeof r != "string" &&
      nc.throwArgumentError("invalid address", "address", r),
    r.match(/^(0x)?[0-9a-fA-F]{40}$/))
  )
    r.substring(0, 2) !== "0x" && (r = "0x" + r),
      (e = ig(r)),
      r.match(/([A-F].*[a-f])|([a-f].*[A-F])/) &&
        e !== r &&
        nc.throwArgumentError("bad address checksum", "address", r);
  else if (r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {
    for (
      r.substring(2, 4) !== gx(r) &&
        nc.throwArgumentError("bad icap checksum", "address", r),
        e = KE(r.substring(4));
      e.length < 40;

    )
      e = "0" + e;
    e = ig("0x" + e);
  } else nc.throwArgumentError("invalid address", "address", r);
  return e;
}
function Wo(r, e, t) {
  Object.defineProperty(r, e, { enumerable: !0, value: t, writable: !1 });
}
const bx = new Uint8Array(32);
bx.fill(0), Gt.from(-1);
const mx = Gt.from(0),
  yx = Gt.from(1);
Gt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),
  Bn(yx.toHexString(), 32),
  Bn(mx.toHexString(), 32);
var Mn = {},
  Ct = {},
  Pc = n2;
function n2(r, e) {
  if (!r) throw new Error(e || "Assertion failed");
}
n2.equal = function (r, e, t) {
  if (r != e) throw new Error(t || "Assertion failed: " + r + " != " + e);
};
var f0 = { exports: {} };
typeof Object.create == "function"
  ? (f0.exports = function (r, e) {
      e &&
        ((r.super_ = e),
        (r.prototype = Object.create(e.prototype, {
          constructor: {
            value: r,
            enumerable: !1,
            writable: !0,
            configurable: !0,
          },
        })));
    })
  : (f0.exports = function (r, e) {
      if (e) {
        r.super_ = e;
        var t = function () {};
        (t.prototype = e.prototype),
          (r.prototype = new t()),
          (r.prototype.constructor = r);
      }
    });
var wx = Pc,
  _x = f0.exports;
Ct.inherits = _x;
function Ax(r, e) {
  return (r.charCodeAt(e) & 64512) !== 55296 || e < 0 || e + 1 >= r.length
    ? !1
    : (r.charCodeAt(e + 1) & 64512) === 56320;
}
function Ex(r, e) {
  if (Array.isArray(r)) return r.slice();
  if (!r) return [];
  var t = [];
  if (typeof r == "string")
    if (e) {
      if (e === "hex")
        for (
          r = r.replace(/[^a-z0-9]+/gi, ""),
            r.length % 2 !== 0 && (r = "0" + r),
            n = 0;
          n < r.length;
          n += 2
        )
          t.push(parseInt(r[n] + r[n + 1], 16));
    } else
      for (var i = 0, n = 0; n < r.length; n++) {
        var a = r.charCodeAt(n);
        a < 128
          ? (t[i++] = a)
          : a < 2048
          ? ((t[i++] = (a >> 6) | 192), (t[i++] = (a & 63) | 128))
          : Ax(r, n)
          ? ((a = 65536 + ((a & 1023) << 10) + (r.charCodeAt(++n) & 1023)),
            (t[i++] = (a >> 18) | 240),
            (t[i++] = ((a >> 12) & 63) | 128),
            (t[i++] = ((a >> 6) & 63) | 128),
            (t[i++] = (a & 63) | 128))
          : ((t[i++] = (a >> 12) | 224),
            (t[i++] = ((a >> 6) & 63) | 128),
            (t[i++] = (a & 63) | 128));
      }
  else for (n = 0; n < r.length; n++) t[n] = r[n] | 0;
  return t;
}
Ct.toArray = Ex;
function xx(r) {
  for (var e = "", t = 0; t < r.length; t++) e += a2(r[t].toString(16));
  return e;
}
Ct.toHex = xx;
function s2(r) {
  var e =
    (r >>> 24) |
    ((r >>> 8) & 65280) |
    ((r << 8) & 16711680) |
    ((r & 255) << 24);
  return e >>> 0;
}
Ct.htonl = s2;
function Sx(r, e) {
  for (var t = "", i = 0; i < r.length; i++) {
    var n = r[i];
    e === "little" && (n = s2(n)), (t += o2(n.toString(16)));
  }
  return t;
}
Ct.toHex32 = Sx;
function a2(r) {
  return r.length === 1 ? "0" + r : r;
}
Ct.zero2 = a2;
function o2(r) {
  return r.length === 7
    ? "0" + r
    : r.length === 6
    ? "00" + r
    : r.length === 5
    ? "000" + r
    : r.length === 4
    ? "0000" + r
    : r.length === 3
    ? "00000" + r
    : r.length === 2
    ? "000000" + r
    : r.length === 1
    ? "0000000" + r
    : r;
}
Ct.zero8 = o2;
function Mx(r, e, t, i) {
  var n = t - e;
  wx(n % 4 === 0);
  for (var a = new Array(n / 4), h = 0, f = e; h < a.length; h++, f += 4) {
    var v;
    i === "big"
      ? (v = (r[f] << 24) | (r[f + 1] << 16) | (r[f + 2] << 8) | r[f + 3])
      : (v = (r[f + 3] << 24) | (r[f + 2] << 16) | (r[f + 1] << 8) | r[f]),
      (a[h] = v >>> 0);
  }
  return a;
}
Ct.join32 = Mx;
function Ix(r, e) {
  for (
    var t = new Array(r.length * 4), i = 0, n = 0;
    i < r.length;
    i++, n += 4
  ) {
    var a = r[i];
    e === "big"
      ? ((t[n] = a >>> 24),
        (t[n + 1] = (a >>> 16) & 255),
        (t[n + 2] = (a >>> 8) & 255),
        (t[n + 3] = a & 255))
      : ((t[n + 3] = a >>> 24),
        (t[n + 2] = (a >>> 16) & 255),
        (t[n + 1] = (a >>> 8) & 255),
        (t[n] = a & 255));
  }
  return t;
}
Ct.split32 = Ix;
function Dx(r, e) {
  return (r >>> e) | (r << (32 - e));
}
Ct.rotr32 = Dx;
function Px(r, e) {
  return (r << e) | (r >>> (32 - e));
}
Ct.rotl32 = Px;
function Cx(r, e) {
  return (r + e) >>> 0;
}
Ct.sum32 = Cx;
function Ox(r, e, t) {
  return (r + e + t) >>> 0;
}
Ct.sum32_3 = Ox;
function Nx(r, e, t, i) {
  return (r + e + t + i) >>> 0;
}
Ct.sum32_4 = Nx;
function Rx(r, e, t, i, n) {
  return (r + e + t + i + n) >>> 0;
}
Ct.sum32_5 = Rx;
function Tx(r, e, t, i) {
  var n = r[e],
    a = r[e + 1],
    h = (i + a) >>> 0,
    f = (h < i ? 1 : 0) + t + n;
  (r[e] = f >>> 0), (r[e + 1] = h);
}
Ct.sum64 = Tx;
function Fx(r, e, t, i) {
  var n = (e + i) >>> 0,
    a = (n < e ? 1 : 0) + r + t;
  return a >>> 0;
}
Ct.sum64_hi = Fx;
function Bx(r, e, t, i) {
  var n = e + i;
  return n >>> 0;
}
Ct.sum64_lo = Bx;
function Lx(r, e, t, i, n, a, h, f) {
  var v = 0,
    g = e;
  (g = (g + i) >>> 0),
    (v += g < e ? 1 : 0),
    (g = (g + a) >>> 0),
    (v += g < a ? 1 : 0),
    (g = (g + f) >>> 0),
    (v += g < f ? 1 : 0);
  var y = r + t + n + h + v;
  return y >>> 0;
}
Ct.sum64_4_hi = Lx;
function qx(r, e, t, i, n, a, h, f) {
  var v = e + i + a + f;
  return v >>> 0;
}
Ct.sum64_4_lo = qx;
function Ux(r, e, t, i, n, a, h, f, v, g) {
  var y = 0,
    _ = e;
  (_ = (_ + i) >>> 0),
    (y += _ < e ? 1 : 0),
    (_ = (_ + a) >>> 0),
    (y += _ < a ? 1 : 0),
    (_ = (_ + f) >>> 0),
    (y += _ < f ? 1 : 0),
    (_ = (_ + g) >>> 0),
    (y += _ < g ? 1 : 0);
  var C = r + t + n + h + v + y;
  return C >>> 0;
}
Ct.sum64_5_hi = Ux;
function $x(r, e, t, i, n, a, h, f, v, g) {
  var y = e + i + a + f + g;
  return y >>> 0;
}
Ct.sum64_5_lo = $x;
function zx(r, e, t) {
  var i = (e << (32 - t)) | (r >>> t);
  return i >>> 0;
}
Ct.rotr64_hi = zx;
function kx(r, e, t) {
  var i = (r << (32 - t)) | (e >>> t);
  return i >>> 0;
}
Ct.rotr64_lo = kx;
function jx(r, e, t) {
  return r >>> t;
}
Ct.shr64_hi = jx;
function Hx(r, e, t) {
  var i = (r << (32 - t)) | (e >>> t);
  return i >>> 0;
}
Ct.shr64_lo = Hx;
var yo = {},
  sg = Ct,
  Kx = Pc;
function $h() {
  (this.pending = null),
    (this.pendingTotal = 0),
    (this.blockSize = this.constructor.blockSize),
    (this.outSize = this.constructor.outSize),
    (this.hmacStrength = this.constructor.hmacStrength),
    (this.padLength = this.constructor.padLength / 8),
    (this.endian = "big"),
    (this._delta8 = this.blockSize / 8),
    (this._delta32 = this.blockSize / 32);
}
(yo.BlockHash = $h),
  ($h.prototype.update = function (r, e) {
    if (
      ((r = sg.toArray(r, e)),
      this.pending
        ? (this.pending = this.pending.concat(r))
        : (this.pending = r),
      (this.pendingTotal += r.length),
      this.pending.length >= this._delta8)
    ) {
      r = this.pending;
      var t = r.length % this._delta8;
      (this.pending = r.slice(r.length - t, r.length)),
        this.pending.length === 0 && (this.pending = null),
        (r = sg.join32(r, 0, r.length - t, this.endian));
      for (var i = 0; i < r.length; i += this._delta32)
        this._update(r, i, i + this._delta32);
    }
    return this;
  }),
  ($h.prototype.digest = function (r) {
    return this.update(this._pad()), Kx(this.pending === null), this._digest(r);
  }),
  ($h.prototype._pad = function () {
    var r = this.pendingTotal,
      e = this._delta8,
      t = e - ((r + this.padLength) % e),
      i = new Array(t + this.padLength);
    i[0] = 128;
    for (var n = 1; n < t; n++) i[n] = 0;
    if (((r <<= 3), this.endian === "big")) {
      for (var a = 8; a < this.padLength; a++) i[n++] = 0;
      (i[n++] = 0),
        (i[n++] = 0),
        (i[n++] = 0),
        (i[n++] = 0),
        (i[n++] = (r >>> 24) & 255),
        (i[n++] = (r >>> 16) & 255),
        (i[n++] = (r >>> 8) & 255),
        (i[n++] = r & 255);
    } else
      for (
        i[n++] = r & 255,
          i[n++] = (r >>> 8) & 255,
          i[n++] = (r >>> 16) & 255,
          i[n++] = (r >>> 24) & 255,
          i[n++] = 0,
          i[n++] = 0,
          i[n++] = 0,
          i[n++] = 0,
          a = 8;
        a < this.padLength;
        a++
      )
        i[n++] = 0;
    return i;
  });
var Ja = {},
  Wn = {},
  Vx = Ct,
  Ln = Vx.rotr32;
function Gx(r, e, t, i) {
  if (r === 0) return c2(e, t, i);
  if (r === 1 || r === 3) return f2(e, t, i);
  if (r === 2) return h2(e, t, i);
}
Wn.ft_1 = Gx;
function c2(r, e, t) {
  return (r & e) ^ (~r & t);
}
Wn.ch32 = c2;
function h2(r, e, t) {
  return (r & e) ^ (r & t) ^ (e & t);
}
Wn.maj32 = h2;
function f2(r, e, t) {
  return r ^ e ^ t;
}
Wn.p32 = f2;
function Wx(r) {
  return Ln(r, 2) ^ Ln(r, 13) ^ Ln(r, 22);
}
Wn.s0_256 = Wx;
function Jx(r) {
  return Ln(r, 6) ^ Ln(r, 11) ^ Ln(r, 25);
}
Wn.s1_256 = Jx;
function Yx(r) {
  return Ln(r, 7) ^ Ln(r, 18) ^ (r >>> 3);
}
Wn.g0_256 = Yx;
function Qx(r) {
  return Ln(r, 17) ^ Ln(r, 19) ^ (r >>> 10);
}
Wn.g1_256 = Qx;
var oo = Ct,
  Xx = yo,
  Zx = Wn,
  Il = oo.rotl32,
  Jo = oo.sum32,
  eS = oo.sum32_5,
  tS = Zx.ft_1,
  u2 = Xx.BlockHash,
  rS = [1518500249, 1859775393, 2400959708, 3395469782];
function Cn() {
  if (!(this instanceof Cn)) return new Cn();
  u2.call(this),
    (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
    (this.W = new Array(80));
}
oo.inherits(Cn, u2);
var iS = Cn;
(Cn.blockSize = 512),
  (Cn.outSize = 160),
  (Cn.hmacStrength = 80),
  (Cn.padLength = 64),
  (Cn.prototype._update = function (r, e) {
    for (var t = this.W, i = 0; i < 16; i++) t[i] = r[e + i];
    for (; i < t.length; i++)
      t[i] = Il(t[i - 3] ^ t[i - 8] ^ t[i - 14] ^ t[i - 16], 1);
    var n = this.h[0],
      a = this.h[1],
      h = this.h[2],
      f = this.h[3],
      v = this.h[4];
    for (i = 0; i < t.length; i++) {
      var g = ~~(i / 20),
        y = eS(Il(n, 5), tS(g, a, h, f), v, t[i], rS[g]);
      (v = f), (f = h), (h = Il(a, 30)), (a = n), (n = y);
    }
    (this.h[0] = Jo(this.h[0], n)),
      (this.h[1] = Jo(this.h[1], a)),
      (this.h[2] = Jo(this.h[2], h)),
      (this.h[3] = Jo(this.h[3], f)),
      (this.h[4] = Jo(this.h[4], v));
  }),
  (Cn.prototype._digest = function (r) {
    return r === "hex" ? oo.toHex32(this.h, "big") : oo.split32(this.h, "big");
  });
var co = Ct,
  nS = yo,
  wo = Wn,
  sS = Pc,
  an = co.sum32,
  aS = co.sum32_4,
  oS = co.sum32_5,
  cS = wo.ch32,
  hS = wo.maj32,
  fS = wo.s0_256,
  uS = wo.s1_256,
  lS = wo.g0_256,
  dS = wo.g1_256,
  l2 = nS.BlockHash,
  pS = [
    1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
    2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
    1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
    2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
    1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
    3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
    1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
    2428436474, 2756734187, 3204031479, 3329325298,
  ];
function On() {
  if (!(this instanceof On)) return new On();
  l2.call(this),
    (this.h = [
      1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924,
      528734635, 1541459225,
    ]),
    (this.k = pS),
    (this.W = new Array(64));
}
co.inherits(On, l2);
var d2 = On;
(On.blockSize = 512),
  (On.outSize = 256),
  (On.hmacStrength = 192),
  (On.padLength = 64),
  (On.prototype._update = function (r, e) {
    for (var t = this.W, i = 0; i < 16; i++) t[i] = r[e + i];
    for (; i < t.length; i++)
      t[i] = aS(dS(t[i - 2]), t[i - 7], lS(t[i - 15]), t[i - 16]);
    var n = this.h[0],
      a = this.h[1],
      h = this.h[2],
      f = this.h[3],
      v = this.h[4],
      g = this.h[5],
      y = this.h[6],
      _ = this.h[7];
    for (sS(this.k.length === t.length), i = 0; i < t.length; i++) {
      var C = oS(_, uS(v), cS(v, g, y), this.k[i], t[i]),
        P = an(fS(n), hS(n, a, h));
      (_ = y),
        (y = g),
        (g = v),
        (v = an(f, C)),
        (f = h),
        (h = a),
        (a = n),
        (n = an(C, P));
    }
    (this.h[0] = an(this.h[0], n)),
      (this.h[1] = an(this.h[1], a)),
      (this.h[2] = an(this.h[2], h)),
      (this.h[3] = an(this.h[3], f)),
      (this.h[4] = an(this.h[4], v)),
      (this.h[5] = an(this.h[5], g)),
      (this.h[6] = an(this.h[6], y)),
      (this.h[7] = an(this.h[7], _));
  }),
  (On.prototype._digest = function (r) {
    return r === "hex" ? co.toHex32(this.h, "big") : co.split32(this.h, "big");
  });
var u0 = Ct,
  p2 = d2;
function ls() {
  if (!(this instanceof ls)) return new ls();
  p2.call(this),
    (this.h = [
      3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025,
      1694076839, 3204075428,
    ]);
}
u0.inherits(ls, p2);
var gS = ls;
(ls.blockSize = 512),
  (ls.outSize = 224),
  (ls.hmacStrength = 192),
  (ls.padLength = 64),
  (ls.prototype._digest = function (r) {
    return r === "hex"
      ? u0.toHex32(this.h.slice(0, 7), "big")
      : u0.split32(this.h.slice(0, 7), "big");
  });
var di = Ct,
  vS = yo,
  bS = Pc,
  qn = di.rotr64_hi,
  Un = di.rotr64_lo,
  g2 = di.shr64_hi,
  v2 = di.shr64_lo,
  Os = di.sum64,
  Dl = di.sum64_hi,
  Pl = di.sum64_lo,
  mS = di.sum64_4_hi,
  yS = di.sum64_4_lo,
  wS = di.sum64_5_hi,
  _S = di.sum64_5_lo,
  b2 = vS.BlockHash,
  AS = [
    1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
    3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
    2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394,
    310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994,
    1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317,
    3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139,
    264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901,
    1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837,
    2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879,
    3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901,
    113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964,
    773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823,
    1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142,
    2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273,
    3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344,
    3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720,
    430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593,
    883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403,
    1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
    2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
    2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
    3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
    3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
    174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
    685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
    1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866,
    1607167915, 987167468, 1816402316, 1246189591,
  ];
function un() {
  if (!(this instanceof un)) return new un();
  b2.call(this),
    (this.h = [
      1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723,
      2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199,
      528734635, 4215389547, 1541459225, 327033209,
    ]),
    (this.k = AS),
    (this.W = new Array(160));
}
di.inherits(un, b2);
var m2 = un;
(un.blockSize = 1024),
  (un.outSize = 512),
  (un.hmacStrength = 192),
  (un.padLength = 128),
  (un.prototype._prepareBlock = function (r, e) {
    for (var t = this.W, i = 0; i < 32; i++) t[i] = r[e + i];
    for (; i < t.length; i += 2) {
      var n = RS(t[i - 4], t[i - 3]),
        a = TS(t[i - 4], t[i - 3]),
        h = t[i - 14],
        f = t[i - 13],
        v = OS(t[i - 30], t[i - 29]),
        g = NS(t[i - 30], t[i - 29]),
        y = t[i - 32],
        _ = t[i - 31];
      (t[i] = mS(n, a, h, f, v, g, y, _)),
        (t[i + 1] = yS(n, a, h, f, v, g, y, _));
    }
  }),
  (un.prototype._update = function (r, e) {
    this._prepareBlock(r, e);
    var t = this.W,
      i = this.h[0],
      n = this.h[1],
      a = this.h[2],
      h = this.h[3],
      f = this.h[4],
      v = this.h[5],
      g = this.h[6],
      y = this.h[7],
      _ = this.h[8],
      C = this.h[9],
      P = this.h[10],
      O = this.h[11],
      H = this.h[12],
      G = this.h[13],
      Q = this.h[14],
      z = this.h[15];
    bS(this.k.length === t.length);
    for (var Y = 0; Y < t.length; Y += 2) {
      var q = Q,
        k = z,
        V = PS(_, C),
        A = CS(_, C),
        F = ES(_, C, P, O, H),
        ae = xS(_, C, P, O, H, G),
        de = this.k[Y],
        U = this.k[Y + 1],
        m = t[Y],
        c = t[Y + 1],
        l = wS(q, k, V, A, F, ae, de, U, m, c),
        b = _S(q, k, V, A, F, ae, de, U, m, c);
      (q = IS(i, n)),
        (k = DS(i, n)),
        (V = SS(i, n, a, h, f)),
        (A = MS(i, n, a, h, f, v));
      var x = Dl(q, k, V, A),
        M = Pl(q, k, V, A);
      (Q = H),
        (z = G),
        (H = P),
        (G = O),
        (P = _),
        (O = C),
        (_ = Dl(g, y, l, b)),
        (C = Pl(y, y, l, b)),
        (g = f),
        (y = v),
        (f = a),
        (v = h),
        (a = i),
        (h = n),
        (i = Dl(l, b, x, M)),
        (n = Pl(l, b, x, M));
    }
    Os(this.h, 0, i, n),
      Os(this.h, 2, a, h),
      Os(this.h, 4, f, v),
      Os(this.h, 6, g, y),
      Os(this.h, 8, _, C),
      Os(this.h, 10, P, O),
      Os(this.h, 12, H, G),
      Os(this.h, 14, Q, z);
  }),
  (un.prototype._digest = function (r) {
    return r === "hex" ? di.toHex32(this.h, "big") : di.split32(this.h, "big");
  });
function ES(r, e, t, i, n) {
  var a = (r & t) ^ (~r & n);
  return a < 0 && (a += 4294967296), a;
}
function xS(r, e, t, i, n, a) {
  var h = (e & i) ^ (~e & a);
  return h < 0 && (h += 4294967296), h;
}
function SS(r, e, t, i, n) {
  var a = (r & t) ^ (r & n) ^ (t & n);
  return a < 0 && (a += 4294967296), a;
}
function MS(r, e, t, i, n, a) {
  var h = (e & i) ^ (e & a) ^ (i & a);
  return h < 0 && (h += 4294967296), h;
}
function IS(r, e) {
  var t = qn(r, e, 28),
    i = qn(e, r, 2),
    n = qn(e, r, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function DS(r, e) {
  var t = Un(r, e, 28),
    i = Un(e, r, 2),
    n = Un(e, r, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function PS(r, e) {
  var t = qn(r, e, 14),
    i = qn(r, e, 18),
    n = qn(e, r, 9),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function CS(r, e) {
  var t = Un(r, e, 14),
    i = Un(r, e, 18),
    n = Un(e, r, 9),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function OS(r, e) {
  var t = qn(r, e, 1),
    i = qn(r, e, 8),
    n = g2(r, e, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function NS(r, e) {
  var t = Un(r, e, 1),
    i = Un(r, e, 8),
    n = v2(r, e, 7),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function RS(r, e) {
  var t = qn(r, e, 19),
    i = qn(e, r, 29),
    n = g2(r, e, 6),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
function TS(r, e) {
  var t = Un(r, e, 19),
    i = Un(e, r, 29),
    n = v2(r, e, 6),
    a = t ^ i ^ n;
  return a < 0 && (a += 4294967296), a;
}
var l0 = Ct,
  y2 = m2;
function ds() {
  if (!(this instanceof ds)) return new ds();
  y2.call(this),
    (this.h = [
      3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999,
      355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025,
      3675008525, 1694076839, 1203062813, 3204075428,
    ]);
}
l0.inherits(ds, y2);
var FS = ds;
(ds.blockSize = 1024),
  (ds.outSize = 384),
  (ds.hmacStrength = 192),
  (ds.padLength = 128),
  (ds.prototype._digest = function (r) {
    return r === "hex"
      ? l0.toHex32(this.h.slice(0, 12), "big")
      : l0.split32(this.h.slice(0, 12), "big");
  }),
  (Ja.sha1 = iS),
  (Ja.sha224 = gS),
  (Ja.sha256 = d2),
  (Ja.sha384 = FS),
  (Ja.sha512 = m2);
var w2 = {},
  pa = Ct,
  BS = yo,
  zh = pa.rotl32,
  ag = pa.sum32,
  Yo = pa.sum32_3,
  og = pa.sum32_4,
  _2 = BS.BlockHash;
function In() {
  if (!(this instanceof In)) return new In();
  _2.call(this),
    (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
    (this.endian = "little");
}
pa.inherits(In, _2),
  (w2.ripemd160 = In),
  (In.blockSize = 512),
  (In.outSize = 160),
  (In.hmacStrength = 192),
  (In.padLength = 64),
  (In.prototype._update = function (r, e) {
    for (
      var t = this.h[0],
        i = this.h[1],
        n = this.h[2],
        a = this.h[3],
        h = this.h[4],
        f = t,
        v = i,
        g = n,
        y = a,
        _ = h,
        C = 0;
      C < 80;
      C++
    ) {
      var P = ag(zh(og(t, cg(C, i, n, a), r[US[C] + e], LS(C)), zS[C]), h);
      (t = h),
        (h = a),
        (a = zh(n, 10)),
        (n = i),
        (i = P),
        (P = ag(zh(og(f, cg(79 - C, v, g, y), r[$S[C] + e], qS(C)), kS[C]), _)),
        (f = _),
        (_ = y),
        (y = zh(g, 10)),
        (g = v),
        (v = P);
    }
    (P = Yo(this.h[1], n, y)),
      (this.h[1] = Yo(this.h[2], a, _)),
      (this.h[2] = Yo(this.h[3], h, f)),
      (this.h[3] = Yo(this.h[4], t, v)),
      (this.h[4] = Yo(this.h[0], i, g)),
      (this.h[0] = P);
  }),
  (In.prototype._digest = function (r) {
    return r === "hex"
      ? pa.toHex32(this.h, "little")
      : pa.split32(this.h, "little");
  });
function cg(r, e, t, i) {
  return r <= 15
    ? e ^ t ^ i
    : r <= 31
    ? (e & t) | (~e & i)
    : r <= 47
    ? (e | ~t) ^ i
    : r <= 63
    ? (e & i) | (t & ~i)
    : e ^ (t | ~i);
}
function LS(r) {
  return r <= 15
    ? 0
    : r <= 31
    ? 1518500249
    : r <= 47
    ? 1859775393
    : r <= 63
    ? 2400959708
    : 2840853838;
}
function qS(r) {
  return r <= 15
    ? 1352829926
    : r <= 31
    ? 1548603684
    : r <= 47
    ? 1836072691
    : r <= 63
    ? 2053994217
    : 0;
}
var US = [
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6,
    15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13,
    11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9,
    7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13,
  ],
  $S = [
    5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5,
    10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10,
    0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10,
    4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11,
  ],
  zS = [
    11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9,
    7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13,
    6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9,
    15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6,
  ],
  kS = [
    8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8,
    9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14,
    13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5,
    12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11,
  ],
  jS = Ct,
  HS = Pc;
function ro(r, e, t) {
  if (!(this instanceof ro)) return new ro(r, e, t);
  (this.Hash = r),
    (this.blockSize = r.blockSize / 8),
    (this.outSize = r.outSize / 8),
    (this.inner = null),
    (this.outer = null),
    this._init(jS.toArray(e, t));
}
var KS = ro;
(ro.prototype._init = function (r) {
  r.length > this.blockSize && (r = new this.Hash().update(r).digest()),
    HS(r.length <= this.blockSize);
  for (var e = r.length; e < this.blockSize; e++) r.push(0);
  for (e = 0; e < r.length; e++) r[e] ^= 54;
  for (this.inner = new this.Hash().update(r), e = 0; e < r.length; e++)
    r[e] ^= 106;
  this.outer = new this.Hash().update(r);
}),
  (ro.prototype.update = function (r, e) {
    return this.inner.update(r, e), this;
  }),
  (ro.prototype.digest = function (r) {
    return this.outer.update(this.inner.digest()), this.outer.digest(r);
  }),
  (function (r) {
    var e = r;
    (e.utils = Ct),
      (e.common = yo),
      (e.sha = Ja),
      (e.ripemd = w2),
      (e.hmac = KS),
      (e.sha1 = e.sha.sha1),
      (e.sha256 = e.sha.sha256),
      (e.sha224 = e.sha.sha224),
      (e.sha384 = e.sha.sha384),
      (e.sha512 = e.sha.sha512),
      (e.ripemd160 = e.ripemd.ripemd160);
  })(Mn);
function _o(r, e, t) {
  return (
    (t = {
      path: e,
      exports: {},
      require: function (i, n) {
        return VS(i, n ?? t.path);
      },
    }),
    r(t, t.exports),
    t.exports
  );
}
function VS() {
  throw new Error(
    "Dynamic requires are not currently supported by @rollup/plugin-commonjs"
  );
}
var j0 = A2;
function A2(r, e) {
  if (!r) throw new Error(e || "Assertion failed");
}
A2.equal = function (r, e, t) {
  if (r != e) throw new Error(t || "Assertion failed: " + r + " != " + e);
};
var dn = _o(function (r, e) {
    var t = e;
    function i(h, f) {
      if (Array.isArray(h)) return h.slice();
      if (!h) return [];
      var v = [];
      if (typeof h != "string") {
        for (var g = 0; g < h.length; g++) v[g] = h[g] | 0;
        return v;
      }
      if (f === "hex") {
        (h = h.replace(/[^a-z0-9]+/gi, "")),
          h.length % 2 !== 0 && (h = "0" + h);
        for (var g = 0; g < h.length; g += 2)
          v.push(parseInt(h[g] + h[g + 1], 16));
      } else
        for (var g = 0; g < h.length; g++) {
          var y = h.charCodeAt(g),
            _ = y >> 8,
            C = y & 255;
          _ ? v.push(_, C) : v.push(C);
        }
      return v;
    }
    t.toArray = i;
    function n(h) {
      return h.length === 1 ? "0" + h : h;
    }
    t.zero2 = n;
    function a(h) {
      for (var f = "", v = 0; v < h.length; v++) f += n(h[v].toString(16));
      return f;
    }
    (t.toHex = a),
      (t.encode = function (h, f) {
        return f === "hex" ? a(h) : h;
      });
  }),
  Ei = _o(function (r, e) {
    var t = e;
    (t.assert = j0),
      (t.toArray = dn.toArray),
      (t.zero2 = dn.zero2),
      (t.toHex = dn.toHex),
      (t.encode = dn.encode);
    function i(v, g, y) {
      var _ = new Array(Math.max(v.bitLength(), y) + 1);
      _.fill(0);
      for (var C = 1 << (g + 1), P = v.clone(), O = 0; O < _.length; O++) {
        var H,
          G = P.andln(C - 1);
        P.isOdd()
          ? (G > (C >> 1) - 1 ? (H = (C >> 1) - G) : (H = G), P.isubn(H))
          : (H = 0),
          (_[O] = H),
          P.iushrn(1);
      }
      return _;
    }
    t.getNAF = i;
    function n(v, g) {
      var y = [[], []];
      (v = v.clone()), (g = g.clone());
      for (var _ = 0, C = 0, P; v.cmpn(-_) > 0 || g.cmpn(-C) > 0; ) {
        var O = (v.andln(3) + _) & 3,
          H = (g.andln(3) + C) & 3;
        O === 3 && (O = -1), H === 3 && (H = -1);
        var G;
        O & 1
          ? ((P = (v.andln(7) + _) & 7),
            (P === 3 || P === 5) && H === 2 ? (G = -O) : (G = O))
          : (G = 0),
          y[0].push(G);
        var Q;
        H & 1
          ? ((P = (g.andln(7) + C) & 7),
            (P === 3 || P === 5) && O === 2 ? (Q = -H) : (Q = H))
          : (Q = 0),
          y[1].push(Q),
          2 * _ === G + 1 && (_ = 1 - _),
          2 * C === Q + 1 && (C = 1 - C),
          v.iushrn(1),
          g.iushrn(1);
      }
      return y;
    }
    t.getJSF = n;
    function a(v, g, y) {
      var _ = "_" + g;
      v.prototype[g] = function () {
        return this[_] !== void 0 ? this[_] : (this[_] = y.call(this));
      };
    }
    t.cachedProperty = a;
    function h(v) {
      return typeof v == "string" ? t.toArray(v, "hex") : v;
    }
    t.parseBytes = h;
    function f(v) {
      return new vt(v, "hex", "le");
    }
    t.intFromLE = f;
  }),
  kh = Ei.getNAF,
  GS = Ei.getJSF,
  yf = Ei.assert;
function Ts(r, e) {
  (this.type = r),
    (this.p = new vt(e.p, 16)),
    (this.red = e.prime ? vt.red(e.prime) : vt.mont(this.p)),
    (this.zero = new vt(0).toRed(this.red)),
    (this.one = new vt(1).toRed(this.red)),
    (this.two = new vt(2).toRed(this.red)),
    (this.n = e.n && new vt(e.n, 16)),
    (this.g = e.g && this.pointFromJSON(e.g, e.gRed)),
    (this._wnafT1 = new Array(4)),
    (this._wnafT2 = new Array(4)),
    (this._wnafT3 = new Array(4)),
    (this._wnafT4 = new Array(4)),
    (this._bitLength = this.n ? this.n.bitLength() : 0);
  var t = this.n && this.p.div(this.n);
  !t || t.cmpn(100) > 0
    ? (this.redN = null)
    : ((this._maxwellTrick = !0), (this.redN = this.n.toRed(this.red)));
}
var Aa = Ts;
(Ts.prototype.point = function () {
  throw new Error("Not implemented");
}),
  (Ts.prototype.validate = function () {
    throw new Error("Not implemented");
  }),
  (Ts.prototype._fixedNafMul = function (r, e) {
    yf(r.precomputed);
    var t = r._getDoubles(),
      i = kh(e, 1, this._bitLength),
      n = (1 << (t.step + 1)) - (t.step % 2 === 0 ? 2 : 1);
    n /= 3;
    var a = [],
      h,
      f;
    for (h = 0; h < i.length; h += t.step) {
      f = 0;
      for (var v = h + t.step - 1; v >= h; v--) f = (f << 1) + i[v];
      a.push(f);
    }
    for (
      var g = this.jpoint(null, null, null),
        y = this.jpoint(null, null, null),
        _ = n;
      _ > 0;
      _--
    ) {
      for (h = 0; h < a.length; h++)
        (f = a[h]),
          f === _
            ? (y = y.mixedAdd(t.points[h]))
            : f === -_ && (y = y.mixedAdd(t.points[h].neg()));
      g = g.add(y);
    }
    return g.toP();
  }),
  (Ts.prototype._wnafMul = function (r, e) {
    var t = 4,
      i = r._getNAFPoints(t);
    t = i.wnd;
    for (
      var n = i.points,
        a = kh(e, t, this._bitLength),
        h = this.jpoint(null, null, null),
        f = a.length - 1;
      f >= 0;
      f--
    ) {
      for (var v = 0; f >= 0 && a[f] === 0; f--) v++;
      if ((f >= 0 && v++, (h = h.dblp(v)), f < 0)) break;
      var g = a[f];
      yf(g !== 0),
        r.type === "affine"
          ? g > 0
            ? (h = h.mixedAdd(n[(g - 1) >> 1]))
            : (h = h.mixedAdd(n[(-g - 1) >> 1].neg()))
          : g > 0
          ? (h = h.add(n[(g - 1) >> 1]))
          : (h = h.add(n[(-g - 1) >> 1].neg()));
    }
    return r.type === "affine" ? h.toP() : h;
  }),
  (Ts.prototype._wnafMulAdd = function (r, e, t, i, n) {
    var a = this._wnafT1,
      h = this._wnafT2,
      f = this._wnafT3,
      v = 0,
      g,
      y,
      _;
    for (g = 0; g < i; g++) {
      _ = e[g];
      var C = _._getNAFPoints(r);
      (a[g] = C.wnd), (h[g] = C.points);
    }
    for (g = i - 1; g >= 1; g -= 2) {
      var P = g - 1,
        O = g;
      if (a[P] !== 1 || a[O] !== 1) {
        (f[P] = kh(t[P], a[P], this._bitLength)),
          (f[O] = kh(t[O], a[O], this._bitLength)),
          (v = Math.max(f[P].length, v)),
          (v = Math.max(f[O].length, v));
        continue;
      }
      var H = [e[P], null, null, e[O]];
      e[P].y.cmp(e[O].y) === 0
        ? ((H[1] = e[P].add(e[O])), (H[2] = e[P].toJ().mixedAdd(e[O].neg())))
        : e[P].y.cmp(e[O].y.redNeg()) === 0
        ? ((H[1] = e[P].toJ().mixedAdd(e[O])), (H[2] = e[P].add(e[O].neg())))
        : ((H[1] = e[P].toJ().mixedAdd(e[O])),
          (H[2] = e[P].toJ().mixedAdd(e[O].neg())));
      var G = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
        Q = GS(t[P], t[O]);
      for (
        v = Math.max(Q[0].length, v),
          f[P] = new Array(v),
          f[O] = new Array(v),
          y = 0;
        y < v;
        y++
      ) {
        var z = Q[0][y] | 0,
          Y = Q[1][y] | 0;
        (f[P][y] = G[(z + 1) * 3 + (Y + 1)]), (f[O][y] = 0), (h[P] = H);
      }
    }
    var q = this.jpoint(null, null, null),
      k = this._wnafT4;
    for (g = v; g >= 0; g--) {
      for (var V = 0; g >= 0; ) {
        var A = !0;
        for (y = 0; y < i; y++) (k[y] = f[y][g] | 0), k[y] !== 0 && (A = !1);
        if (!A) break;
        V++, g--;
      }
      if ((g >= 0 && V++, (q = q.dblp(V)), g < 0)) break;
      for (y = 0; y < i; y++) {
        var F = k[y];
        F !== 0 &&
          (F > 0
            ? (_ = h[y][(F - 1) >> 1])
            : F < 0 && (_ = h[y][(-F - 1) >> 1].neg()),
          _.type === "affine" ? (q = q.mixedAdd(_)) : (q = q.add(_)));
      }
    }
    for (g = 0; g < i; g++) h[g] = null;
    return n ? q : q.toP();
  });
function Li(r, e) {
  (this.curve = r), (this.type = e), (this.precomputed = null);
}
(Ts.BasePoint = Li),
  (Li.prototype.eq = function () {
    throw new Error("Not implemented");
  }),
  (Li.prototype.validate = function () {
    return this.curve.validate(this);
  }),
  (Ts.prototype.decodePoint = function (r, e) {
    r = Ei.toArray(r, e);
    var t = this.p.byteLength();
    if ((r[0] === 4 || r[0] === 6 || r[0] === 7) && r.length - 1 === 2 * t) {
      r[0] === 6
        ? yf(r[r.length - 1] % 2 === 0)
        : r[0] === 7 && yf(r[r.length - 1] % 2 === 1);
      var i = this.point(r.slice(1, 1 + t), r.slice(1 + t, 1 + 2 * t));
      return i;
    } else if ((r[0] === 2 || r[0] === 3) && r.length - 1 === t)
      return this.pointFromX(r.slice(1, 1 + t), r[0] === 3);
    throw new Error("Unknown point format");
  }),
  (Li.prototype.encodeCompressed = function (r) {
    return this.encode(r, !0);
  }),
  (Li.prototype._encode = function (r) {
    var e = this.curve.p.byteLength(),
      t = this.getX().toArray("be", e);
    return r
      ? [this.getY().isEven() ? 2 : 3].concat(t)
      : [4].concat(t, this.getY().toArray("be", e));
  }),
  (Li.prototype.encode = function (r, e) {
    return Ei.encode(this._encode(e), r);
  }),
  (Li.prototype.precompute = function (r) {
    if (this.precomputed) return this;
    var e = { doubles: null, naf: null, beta: null };
    return (
      (e.naf = this._getNAFPoints(8)),
      (e.doubles = this._getDoubles(4, r)),
      (e.beta = this._getBeta()),
      (this.precomputed = e),
      this
    );
  }),
  (Li.prototype._hasDoubles = function (r) {
    if (!this.precomputed) return !1;
    var e = this.precomputed.doubles;
    return e ? e.points.length >= Math.ceil((r.bitLength() + 1) / e.step) : !1;
  }),
  (Li.prototype._getDoubles = function (r, e) {
    if (this.precomputed && this.precomputed.doubles)
      return this.precomputed.doubles;
    for (var t = [this], i = this, n = 0; n < e; n += r) {
      for (var a = 0; a < r; a++) i = i.dbl();
      t.push(i);
    }
    return { step: r, points: t };
  }),
  (Li.prototype._getNAFPoints = function (r) {
    if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;
    for (
      var e = [this], t = (1 << r) - 1, i = t === 1 ? null : this.dbl(), n = 1;
      n < t;
      n++
    )
      e[n] = e[n - 1].add(i);
    return { wnd: r, points: e };
  }),
  (Li.prototype._getBeta = function () {
    return null;
  }),
  (Li.prototype.dblp = function (r) {
    for (var e = this, t = 0; t < r; t++) e = e.dbl();
    return e;
  });
var H0 = _o(function (r) {
    typeof Object.create == "function"
      ? (r.exports = function (e, t) {
          t &&
            ((e.super_ = t),
            (e.prototype = Object.create(t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })));
        })
      : (r.exports = function (e, t) {
          if (t) {
            e.super_ = t;
            var i = function () {};
            (i.prototype = t.prototype),
              (e.prototype = new i()),
              (e.prototype.constructor = e);
          }
        });
  }),
  WS = Ei.assert;
function ki(r) {
  Aa.call(this, "short", r),
    (this.a = new vt(r.a, 16).toRed(this.red)),
    (this.b = new vt(r.b, 16).toRed(this.red)),
    (this.tinv = this.two.redInvm()),
    (this.zeroA = this.a.fromRed().cmpn(0) === 0),
    (this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0),
    (this.endo = this._getEndomorphism(r)),
    (this._endoWnafT1 = new Array(4)),
    (this._endoWnafT2 = new Array(4));
}
H0(ki, Aa);
var JS = ki;
(ki.prototype._getEndomorphism = function (r) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var e, t;
    if (r.beta) e = new vt(r.beta, 16).toRed(this.red);
    else {
      var i = this._getEndoRoots(this.p);
      (e = i[0].cmp(i[1]) < 0 ? i[0] : i[1]), (e = e.toRed(this.red));
    }
    if (r.lambda) t = new vt(r.lambda, 16);
    else {
      var n = this._getEndoRoots(this.n);
      this.g.mul(n[0]).x.cmp(this.g.x.redMul(e)) === 0
        ? (t = n[0])
        : ((t = n[1]), WS(this.g.mul(t).x.cmp(this.g.x.redMul(e)) === 0));
    }
    var a;
    return (
      r.basis
        ? (a = r.basis.map(function (h) {
            return { a: new vt(h.a, 16), b: new vt(h.b, 16) };
          }))
        : (a = this._getEndoBasis(t)),
      { beta: e, lambda: t, basis: a }
    );
  }
}),
  (ki.prototype._getEndoRoots = function (r) {
    var e = r === this.p ? this.red : vt.mont(r),
      t = new vt(2).toRed(e).redInvm(),
      i = t.redNeg(),
      n = new vt(3).toRed(e).redNeg().redSqrt().redMul(t),
      a = i.redAdd(n).fromRed(),
      h = i.redSub(n).fromRed();
    return [a, h];
  }),
  (ki.prototype._getEndoBasis = function (r) {
    for (
      var e = this.n.ushrn(Math.floor(this.n.bitLength() / 2)),
        t = r,
        i = this.n.clone(),
        n = new vt(1),
        a = new vt(0),
        h = new vt(0),
        f = new vt(1),
        v,
        g,
        y,
        _,
        C,
        P,
        O,
        H = 0,
        G,
        Q;
      t.cmpn(0) !== 0;

    ) {
      var z = i.div(t);
      (G = i.sub(z.mul(t))), (Q = h.sub(z.mul(n)));
      var Y = f.sub(z.mul(a));
      if (!y && G.cmp(e) < 0) (v = O.neg()), (g = n), (y = G.neg()), (_ = Q);
      else if (y && ++H === 2) break;
      (O = G), (i = t), (t = G), (h = n), (n = Q), (f = a), (a = Y);
    }
    (C = G.neg()), (P = Q);
    var q = y.sqr().add(_.sqr()),
      k = C.sqr().add(P.sqr());
    return (
      k.cmp(q) >= 0 && ((C = v), (P = g)),
      y.negative && ((y = y.neg()), (_ = _.neg())),
      C.negative && ((C = C.neg()), (P = P.neg())),
      [
        { a: y, b: _ },
        { a: C, b: P },
      ]
    );
  }),
  (ki.prototype._endoSplit = function (r) {
    var e = this.endo.basis,
      t = e[0],
      i = e[1],
      n = i.b.mul(r).divRound(this.n),
      a = t.b.neg().mul(r).divRound(this.n),
      h = n.mul(t.a),
      f = a.mul(i.a),
      v = n.mul(t.b),
      g = a.mul(i.b),
      y = r.sub(h).sub(f),
      _ = v.add(g).neg();
    return { k1: y, k2: _ };
  }),
  (ki.prototype.pointFromX = function (r, e) {
    (r = new vt(r, 16)), r.red || (r = r.toRed(this.red));
    var t = r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),
      i = t.redSqrt();
    if (i.redSqr().redSub(t).cmp(this.zero) !== 0)
      throw new Error("invalid point");
    var n = i.fromRed().isOdd();
    return ((e && !n) || (!e && n)) && (i = i.redNeg()), this.point(r, i);
  }),
  (ki.prototype.validate = function (r) {
    if (r.inf) return !0;
    var e = r.x,
      t = r.y,
      i = this.a.redMul(e),
      n = e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);
    return t.redSqr().redISub(n).cmpn(0) === 0;
  }),
  (ki.prototype._endoWnafMulAdd = function (r, e, t) {
    for (
      var i = this._endoWnafT1, n = this._endoWnafT2, a = 0;
      a < r.length;
      a++
    ) {
      var h = this._endoSplit(e[a]),
        f = r[a],
        v = f._getBeta();
      h.k1.negative && (h.k1.ineg(), (f = f.neg(!0))),
        h.k2.negative && (h.k2.ineg(), (v = v.neg(!0))),
        (i[a * 2] = f),
        (i[a * 2 + 1] = v),
        (n[a * 2] = h.k1),
        (n[a * 2 + 1] = h.k2);
    }
    for (var g = this._wnafMulAdd(1, i, n, a * 2, t), y = 0; y < a * 2; y++)
      (i[y] = null), (n[y] = null);
    return g;
  });
function yr(r, e, t, i) {
  Aa.BasePoint.call(this, r, "affine"),
    e === null && t === null
      ? ((this.x = null), (this.y = null), (this.inf = !0))
      : ((this.x = new vt(e, 16)),
        (this.y = new vt(t, 16)),
        i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)),
        this.x.red || (this.x = this.x.toRed(this.curve.red)),
        this.y.red || (this.y = this.y.toRed(this.curve.red)),
        (this.inf = !1));
}
H0(yr, Aa.BasePoint),
  (ki.prototype.point = function (r, e, t) {
    return new yr(this, r, e, t);
  }),
  (ki.prototype.pointFromJSON = function (r, e) {
    return yr.fromJSON(this, r, e);
  }),
  (yr.prototype._getBeta = function () {
    if (this.curve.endo) {
      var r = this.precomputed;
      if (r && r.beta) return r.beta;
      var e = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
      if (r) {
        var t = this.curve,
          i = function (n) {
            return t.point(n.x.redMul(t.endo.beta), n.y);
          };
        (r.beta = e),
          (e.precomputed = {
            beta: null,
            naf: r.naf && { wnd: r.naf.wnd, points: r.naf.points.map(i) },
            doubles: r.doubles && {
              step: r.doubles.step,
              points: r.doubles.points.map(i),
            },
          });
      }
      return e;
    }
  }),
  (yr.prototype.toJSON = function () {
    return this.precomputed
      ? [
          this.x,
          this.y,
          this.precomputed && {
            doubles: this.precomputed.doubles && {
              step: this.precomputed.doubles.step,
              points: this.precomputed.doubles.points.slice(1),
            },
            naf: this.precomputed.naf && {
              wnd: this.precomputed.naf.wnd,
              points: this.precomputed.naf.points.slice(1),
            },
          },
        ]
      : [this.x, this.y];
  }),
  (yr.fromJSON = function (r, e, t) {
    typeof e == "string" && (e = JSON.parse(e));
    var i = r.point(e[0], e[1], t);
    if (!e[2]) return i;
    function n(h) {
      return r.point(h[0], h[1], t);
    }
    var a = e[2];
    return (
      (i.precomputed = {
        beta: null,
        doubles: a.doubles && {
          step: a.doubles.step,
          points: [i].concat(a.doubles.points.map(n)),
        },
        naf: a.naf && {
          wnd: a.naf.wnd,
          points: [i].concat(a.naf.points.map(n)),
        },
      }),
      i
    );
  }),
  (yr.prototype.inspect = function () {
    return this.isInfinity()
      ? "<EC Point Infinity>"
      : "<EC Point x: " +
          this.x.fromRed().toString(16, 2) +
          " y: " +
          this.y.fromRed().toString(16, 2) +
          ">";
  }),
  (yr.prototype.isInfinity = function () {
    return this.inf;
  }),
  (yr.prototype.add = function (r) {
    if (this.inf) return r;
    if (r.inf) return this;
    if (this.eq(r)) return this.dbl();
    if (this.neg().eq(r)) return this.curve.point(null, null);
    if (this.x.cmp(r.x) === 0) return this.curve.point(null, null);
    var e = this.y.redSub(r.y);
    e.cmpn(0) !== 0 && (e = e.redMul(this.x.redSub(r.x).redInvm()));
    var t = e.redSqr().redISub(this.x).redISub(r.x),
      i = e.redMul(this.x.redSub(t)).redISub(this.y);
    return this.curve.point(t, i);
  }),
  (yr.prototype.dbl = function () {
    if (this.inf) return this;
    var r = this.y.redAdd(this.y);
    if (r.cmpn(0) === 0) return this.curve.point(null, null);
    var e = this.curve.a,
      t = this.x.redSqr(),
      i = r.redInvm(),
      n = t.redAdd(t).redIAdd(t).redIAdd(e).redMul(i),
      a = n.redSqr().redISub(this.x.redAdd(this.x)),
      h = n.redMul(this.x.redSub(a)).redISub(this.y);
    return this.curve.point(a, h);
  }),
  (yr.prototype.getX = function () {
    return this.x.fromRed();
  }),
  (yr.prototype.getY = function () {
    return this.y.fromRed();
  }),
  (yr.prototype.mul = function (r) {
    return (
      (r = new vt(r, 16)),
      this.isInfinity()
        ? this
        : this._hasDoubles(r)
        ? this.curve._fixedNafMul(this, r)
        : this.curve.endo
        ? this.curve._endoWnafMulAdd([this], [r])
        : this.curve._wnafMul(this, r)
    );
  }),
  (yr.prototype.mulAdd = function (r, e, t) {
    var i = [this, e],
      n = [r, t];
    return this.curve.endo
      ? this.curve._endoWnafMulAdd(i, n)
      : this.curve._wnafMulAdd(1, i, n, 2);
  }),
  (yr.prototype.jmulAdd = function (r, e, t) {
    var i = [this, e],
      n = [r, t];
    return this.curve.endo
      ? this.curve._endoWnafMulAdd(i, n, !0)
      : this.curve._wnafMulAdd(1, i, n, 2, !0);
  }),
  (yr.prototype.eq = function (r) {
    return (
      this === r ||
      (this.inf === r.inf &&
        (this.inf || (this.x.cmp(r.x) === 0 && this.y.cmp(r.y) === 0)))
    );
  }),
  (yr.prototype.neg = function (r) {
    if (this.inf) return this;
    var e = this.curve.point(this.x, this.y.redNeg());
    if (r && this.precomputed) {
      var t = this.precomputed,
        i = function (n) {
          return n.neg();
        };
      e.precomputed = {
        naf: t.naf && { wnd: t.naf.wnd, points: t.naf.points.map(i) },
        doubles: t.doubles && {
          step: t.doubles.step,
          points: t.doubles.points.map(i),
        },
      };
    }
    return e;
  }),
  (yr.prototype.toJ = function () {
    if (this.inf) return this.curve.jpoint(null, null, null);
    var r = this.curve.jpoint(this.x, this.y, this.curve.one);
    return r;
  });
function Dr(r, e, t, i) {
  Aa.BasePoint.call(this, r, "jacobian"),
    e === null && t === null && i === null
      ? ((this.x = this.curve.one),
        (this.y = this.curve.one),
        (this.z = new vt(0)))
      : ((this.x = new vt(e, 16)),
        (this.y = new vt(t, 16)),
        (this.z = new vt(i, 16))),
    this.x.red || (this.x = this.x.toRed(this.curve.red)),
    this.y.red || (this.y = this.y.toRed(this.curve.red)),
    this.z.red || (this.z = this.z.toRed(this.curve.red)),
    (this.zOne = this.z === this.curve.one);
}
H0(Dr, Aa.BasePoint),
  (ki.prototype.jpoint = function (r, e, t) {
    return new Dr(this, r, e, t);
  }),
  (Dr.prototype.toP = function () {
    if (this.isInfinity()) return this.curve.point(null, null);
    var r = this.z.redInvm(),
      e = r.redSqr(),
      t = this.x.redMul(e),
      i = this.y.redMul(e).redMul(r);
    return this.curve.point(t, i);
  }),
  (Dr.prototype.neg = function () {
    return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
  }),
  (Dr.prototype.add = function (r) {
    if (this.isInfinity()) return r;
    if (r.isInfinity()) return this;
    var e = r.z.redSqr(),
      t = this.z.redSqr(),
      i = this.x.redMul(e),
      n = r.x.redMul(t),
      a = this.y.redMul(e.redMul(r.z)),
      h = r.y.redMul(t.redMul(this.z)),
      f = i.redSub(n),
      v = a.redSub(h);
    if (f.cmpn(0) === 0)
      return v.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
    var g = f.redSqr(),
      y = g.redMul(f),
      _ = i.redMul(g),
      C = v.redSqr().redIAdd(y).redISub(_).redISub(_),
      P = v.redMul(_.redISub(C)).redISub(a.redMul(y)),
      O = this.z.redMul(r.z).redMul(f);
    return this.curve.jpoint(C, P, O);
  }),
  (Dr.prototype.mixedAdd = function (r) {
    if (this.isInfinity()) return r.toJ();
    if (r.isInfinity()) return this;
    var e = this.z.redSqr(),
      t = this.x,
      i = r.x.redMul(e),
      n = this.y,
      a = r.y.redMul(e).redMul(this.z),
      h = t.redSub(i),
      f = n.redSub(a);
    if (h.cmpn(0) === 0)
      return f.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
    var v = h.redSqr(),
      g = v.redMul(h),
      y = t.redMul(v),
      _ = f.redSqr().redIAdd(g).redISub(y).redISub(y),
      C = f.redMul(y.redISub(_)).redISub(n.redMul(g)),
      P = this.z.redMul(h);
    return this.curve.jpoint(_, C, P);
  }),
  (Dr.prototype.dblp = function (r) {
    if (r === 0) return this;
    if (this.isInfinity()) return this;
    if (!r) return this.dbl();
    var e;
    if (this.curve.zeroA || this.curve.threeA) {
      var t = this;
      for (e = 0; e < r; e++) t = t.dbl();
      return t;
    }
    var i = this.curve.a,
      n = this.curve.tinv,
      a = this.x,
      h = this.y,
      f = this.z,
      v = f.redSqr().redSqr(),
      g = h.redAdd(h);
    for (e = 0; e < r; e++) {
      var y = a.redSqr(),
        _ = g.redSqr(),
        C = _.redSqr(),
        P = y.redAdd(y).redIAdd(y).redIAdd(i.redMul(v)),
        O = a.redMul(_),
        H = P.redSqr().redISub(O.redAdd(O)),
        G = O.redISub(H),
        Q = P.redMul(G);
      Q = Q.redIAdd(Q).redISub(C);
      var z = g.redMul(f);
      e + 1 < r && (v = v.redMul(C)), (a = H), (f = z), (g = Q);
    }
    return this.curve.jpoint(a, g.redMul(n), f);
  }),
  (Dr.prototype.dbl = function () {
    return this.isInfinity()
      ? this
      : this.curve.zeroA
      ? this._zeroDbl()
      : this.curve.threeA
      ? this._threeDbl()
      : this._dbl();
  }),
  (Dr.prototype._zeroDbl = function () {
    var r, e, t;
    if (this.zOne) {
      var i = this.x.redSqr(),
        n = this.y.redSqr(),
        a = n.redSqr(),
        h = this.x.redAdd(n).redSqr().redISub(i).redISub(a);
      h = h.redIAdd(h);
      var f = i.redAdd(i).redIAdd(i),
        v = f.redSqr().redISub(h).redISub(h),
        g = a.redIAdd(a);
      (g = g.redIAdd(g)),
        (g = g.redIAdd(g)),
        (r = v),
        (e = f.redMul(h.redISub(v)).redISub(g)),
        (t = this.y.redAdd(this.y));
    } else {
      var y = this.x.redSqr(),
        _ = this.y.redSqr(),
        C = _.redSqr(),
        P = this.x.redAdd(_).redSqr().redISub(y).redISub(C);
      P = P.redIAdd(P);
      var O = y.redAdd(y).redIAdd(y),
        H = O.redSqr(),
        G = C.redIAdd(C);
      (G = G.redIAdd(G)),
        (G = G.redIAdd(G)),
        (r = H.redISub(P).redISub(P)),
        (e = O.redMul(P.redISub(r)).redISub(G)),
        (t = this.y.redMul(this.z)),
        (t = t.redIAdd(t));
    }
    return this.curve.jpoint(r, e, t);
  }),
  (Dr.prototype._threeDbl = function () {
    var r, e, t;
    if (this.zOne) {
      var i = this.x.redSqr(),
        n = this.y.redSqr(),
        a = n.redSqr(),
        h = this.x.redAdd(n).redSqr().redISub(i).redISub(a);
      h = h.redIAdd(h);
      var f = i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),
        v = f.redSqr().redISub(h).redISub(h);
      r = v;
      var g = a.redIAdd(a);
      (g = g.redIAdd(g)),
        (g = g.redIAdd(g)),
        (e = f.redMul(h.redISub(v)).redISub(g)),
        (t = this.y.redAdd(this.y));
    } else {
      var y = this.z.redSqr(),
        _ = this.y.redSqr(),
        C = this.x.redMul(_),
        P = this.x.redSub(y).redMul(this.x.redAdd(y));
      P = P.redAdd(P).redIAdd(P);
      var O = C.redIAdd(C);
      O = O.redIAdd(O);
      var H = O.redAdd(O);
      (r = P.redSqr().redISub(H)),
        (t = this.y.redAdd(this.z).redSqr().redISub(_).redISub(y));
      var G = _.redSqr();
      (G = G.redIAdd(G)),
        (G = G.redIAdd(G)),
        (G = G.redIAdd(G)),
        (e = P.redMul(O.redISub(r)).redISub(G));
    }
    return this.curve.jpoint(r, e, t);
  }),
  (Dr.prototype._dbl = function () {
    var r = this.curve.a,
      e = this.x,
      t = this.y,
      i = this.z,
      n = i.redSqr().redSqr(),
      a = e.redSqr(),
      h = t.redSqr(),
      f = a.redAdd(a).redIAdd(a).redIAdd(r.redMul(n)),
      v = e.redAdd(e);
    v = v.redIAdd(v);
    var g = v.redMul(h),
      y = f.redSqr().redISub(g.redAdd(g)),
      _ = g.redISub(y),
      C = h.redSqr();
    (C = C.redIAdd(C)), (C = C.redIAdd(C)), (C = C.redIAdd(C));
    var P = f.redMul(_).redISub(C),
      O = t.redAdd(t).redMul(i);
    return this.curve.jpoint(y, P, O);
  }),
  (Dr.prototype.trpl = function () {
    if (!this.curve.zeroA) return this.dbl().add(this);
    var r = this.x.redSqr(),
      e = this.y.redSqr(),
      t = this.z.redSqr(),
      i = e.redSqr(),
      n = r.redAdd(r).redIAdd(r),
      a = n.redSqr(),
      h = this.x.redAdd(e).redSqr().redISub(r).redISub(i);
    (h = h.redIAdd(h)), (h = h.redAdd(h).redIAdd(h)), (h = h.redISub(a));
    var f = h.redSqr(),
      v = i.redIAdd(i);
    (v = v.redIAdd(v)), (v = v.redIAdd(v)), (v = v.redIAdd(v));
    var g = n.redIAdd(h).redSqr().redISub(a).redISub(f).redISub(v),
      y = e.redMul(g);
    (y = y.redIAdd(y)), (y = y.redIAdd(y));
    var _ = this.x.redMul(f).redISub(y);
    (_ = _.redIAdd(_)), (_ = _.redIAdd(_));
    var C = this.y.redMul(g.redMul(v.redISub(g)).redISub(h.redMul(f)));
    (C = C.redIAdd(C)), (C = C.redIAdd(C)), (C = C.redIAdd(C));
    var P = this.z.redAdd(h).redSqr().redISub(t).redISub(f);
    return this.curve.jpoint(_, C, P);
  }),
  (Dr.prototype.mul = function (r, e) {
    return (r = new vt(r, e)), this.curve._wnafMul(this, r);
  }),
  (Dr.prototype.eq = function (r) {
    if (r.type === "affine") return this.eq(r.toJ());
    if (this === r) return !0;
    var e = this.z.redSqr(),
      t = r.z.redSqr();
    if (this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0) !== 0) return !1;
    var i = e.redMul(this.z),
      n = t.redMul(r.z);
    return this.y.redMul(n).redISub(r.y.redMul(i)).cmpn(0) === 0;
  }),
  (Dr.prototype.eqXToP = function (r) {
    var e = this.z.redSqr(),
      t = r.toRed(this.curve.red).redMul(e);
    if (this.x.cmp(t) === 0) return !0;
    for (var i = r.clone(), n = this.curve.redN.redMul(e); ; ) {
      if ((i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)) return !1;
      if ((t.redIAdd(n), this.x.cmp(t) === 0)) return !0;
    }
  }),
  (Dr.prototype.inspect = function () {
    return this.isInfinity()
      ? "<EC JPoint Infinity>"
      : "<EC JPoint x: " +
          this.x.toString(16, 2) +
          " y: " +
          this.y.toString(16, 2) +
          " z: " +
          this.z.toString(16, 2) +
          ">";
  }),
  (Dr.prototype.isInfinity = function () {
    return this.z.cmpn(0) === 0;
  });
var ef = _o(function (r, e) {
    var t = e;
    (t.base = Aa), (t.short = JS), (t.mont = null), (t.edwards = null);
  }),
  tf = _o(function (r, e) {
    var t = e,
      i = Ei.assert;
    function n(f) {
      f.type === "short"
        ? (this.curve = new ef.short(f))
        : f.type === "edwards"
        ? (this.curve = new ef.edwards(f))
        : (this.curve = new ef.mont(f)),
        (this.g = this.curve.g),
        (this.n = this.curve.n),
        (this.hash = f.hash),
        i(this.g.validate(), "Invalid curve"),
        i(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
    }
    t.PresetCurve = n;
    function a(f, v) {
      Object.defineProperty(t, f, {
        configurable: !0,
        enumerable: !0,
        get: function () {
          var g = new n(v);
          return (
            Object.defineProperty(t, f, {
              configurable: !0,
              enumerable: !0,
              value: g,
            }),
            g
          );
        },
      });
    }
    a("p192", {
      type: "short",
      prime: "p192",
      p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
      a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
      b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
      n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
      hash: Mn.sha256,
      gRed: !1,
      g: [
        "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
        "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811",
      ],
    }),
      a("p224", {
        type: "short",
        prime: "p224",
        p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
        a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
        b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
        n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
        hash: Mn.sha256,
        gRed: !1,
        g: [
          "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
          "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34",
        ],
      }),
      a("p256", {
        type: "short",
        prime: null,
        p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
        a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
        b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
        n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
        hash: Mn.sha256,
        gRed: !1,
        g: [
          "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
          "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5",
        ],
      }),
      a("p384", {
        type: "short",
        prime: null,
        p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
        a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
        b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
        n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
        hash: Mn.sha384,
        gRed: !1,
        g: [
          "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
          "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f",
        ],
      }),
      a("p521", {
        type: "short",
        prime: null,
        p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
        a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
        b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
        n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
        hash: Mn.sha512,
        gRed: !1,
        g: [
          "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
          "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650",
        ],
      }),
      a("curve25519", {
        type: "mont",
        prime: "p25519",
        p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
        a: "76d06",
        b: "1",
        n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
        hash: Mn.sha256,
        gRed: !1,
        g: ["9"],
      }),
      a("ed25519", {
        type: "edwards",
        prime: "p25519",
        p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
        a: "-1",
        c: "1",
        d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
        n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
        hash: Mn.sha256,
        gRed: !1,
        g: [
          "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
          "6666666666666666666666666666666666666666666666666666666666666658",
        ],
      });
    var h;
    try {
      h = null.crash();
    } catch {
      h = void 0;
    }
    a("secp256k1", {
      type: "short",
      prime: "k256",
      p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
      a: "0",
      b: "7",
      n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
      h: "1",
      hash: Mn.sha256,
      beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
      lambda:
        "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
      basis: [
        {
          a: "3086d221a7d46bcde86c90e49284eb15",
          b: "-e4437ed6010e88286f547fa90abfe4c3",
        },
        {
          a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
          b: "3086d221a7d46bcde86c90e49284eb15",
        },
      ],
      gRed: !1,
      g: [
        "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
        h,
      ],
    });
  });
function Fs(r) {
  if (!(this instanceof Fs)) return new Fs(r);
  (this.hash = r.hash),
    (this.predResist = !!r.predResist),
    (this.outLen = this.hash.outSize),
    (this.minEntropy = r.minEntropy || this.hash.hmacStrength),
    (this._reseed = null),
    (this.reseedInterval = null),
    (this.K = null),
    (this.V = null);
  var e = dn.toArray(r.entropy, r.entropyEnc || "hex"),
    t = dn.toArray(r.nonce, r.nonceEnc || "hex"),
    i = dn.toArray(r.pers, r.persEnc || "hex");
  j0(
    e.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
  ),
    this._init(e, t, i);
}
var hg = Fs;
(Fs.prototype._init = function (r, e, t) {
  var i = r.concat(e).concat(t);
  (this.K = new Array(this.outLen / 8)), (this.V = new Array(this.outLen / 8));
  for (var n = 0; n < this.V.length; n++) (this.K[n] = 0), (this.V[n] = 1);
  this._update(i), (this._reseed = 1), (this.reseedInterval = 281474976710656);
}),
  (Fs.prototype._hmac = function () {
    return new Mn.hmac(this.hash, this.K);
  }),
  (Fs.prototype._update = function (r) {
    var e = this._hmac().update(this.V).update([0]);
    r && (e = e.update(r)),
      (this.K = e.digest()),
      (this.V = this._hmac().update(this.V).digest()),
      r &&
        ((this.K = this._hmac().update(this.V).update([1]).update(r).digest()),
        (this.V = this._hmac().update(this.V).digest()));
  }),
  (Fs.prototype.reseed = function (r, e, t, i) {
    typeof e != "string" && ((i = t), (t = e), (e = null)),
      (r = dn.toArray(r, e)),
      (t = dn.toArray(t, i)),
      j0(
        r.length >= this.minEntropy / 8,
        "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
      ),
      this._update(r.concat(t || [])),
      (this._reseed = 1);
  }),
  (Fs.prototype.generate = function (r, e, t, i) {
    if (this._reseed > this.reseedInterval)
      throw new Error("Reseed is required");
    typeof e != "string" && ((i = t), (t = e), (e = null)),
      t && ((t = dn.toArray(t, i || "hex")), this._update(t));
    for (var n = []; n.length < r; )
      (this.V = this._hmac().update(this.V).digest()), (n = n.concat(this.V));
    var a = n.slice(0, r);
    return this._update(t), this._reseed++, dn.encode(a, e);
  });
var Cl = Ei.assert;
function zr(r, e) {
  (this.ec = r),
    (this.priv = null),
    (this.pub = null),
    e.priv && this._importPrivate(e.priv, e.privEnc),
    e.pub && this._importPublic(e.pub, e.pubEnc);
}
var Ol = zr;
(zr.fromPublic = function (r, e, t) {
  return e instanceof zr ? e : new zr(r, { pub: e, pubEnc: t });
}),
  (zr.fromPrivate = function (r, e, t) {
    return e instanceof zr ? e : new zr(r, { priv: e, privEnc: t });
  }),
  (zr.prototype.validate = function () {
    var r = this.getPublic();
    return r.isInfinity()
      ? { result: !1, reason: "Invalid public key" }
      : r.validate()
      ? r.mul(this.ec.curve.n).isInfinity()
        ? { result: !0, reason: null }
        : { result: !1, reason: "Public key * N != O" }
      : { result: !1, reason: "Public key is not a point" };
  }),
  (zr.prototype.getPublic = function (r, e) {
    return (
      typeof r == "string" && ((e = r), (r = null)),
      this.pub || (this.pub = this.ec.g.mul(this.priv)),
      e ? this.pub.encode(e, r) : this.pub
    );
  }),
  (zr.prototype.getPrivate = function (r) {
    return r === "hex" ? this.priv.toString(16, 2) : this.priv;
  }),
  (zr.prototype._importPrivate = function (r, e) {
    (this.priv = new vt(r, e || 16)),
      (this.priv = this.priv.umod(this.ec.curve.n));
  }),
  (zr.prototype._importPublic = function (r, e) {
    if (r.x || r.y) {
      this.ec.curve.type === "mont"
        ? Cl(r.x, "Need x coordinate")
        : (this.ec.curve.type === "short" ||
            this.ec.curve.type === "edwards") &&
          Cl(r.x && r.y, "Need both x and y coordinate"),
        (this.pub = this.ec.curve.point(r.x, r.y));
      return;
    }
    this.pub = this.ec.curve.decodePoint(r, e);
  }),
  (zr.prototype.derive = function (r) {
    return (
      r.validate() || Cl(r.validate(), "public point not validated"),
      r.mul(this.priv).getX()
    );
  }),
  (zr.prototype.sign = function (r, e, t) {
    return this.ec.sign(r, this, e, t);
  }),
  (zr.prototype.verify = function (r, e) {
    return this.ec.verify(r, e, this);
  }),
  (zr.prototype.inspect = function () {
    return (
      "<Key priv: " +
      (this.priv && this.priv.toString(16, 2)) +
      " pub: " +
      (this.pub && this.pub.inspect()) +
      " >"
    );
  });
var YS = Ei.assert;
function Hf(r, e) {
  if (r instanceof Hf) return r;
  this._importDER(r, e) ||
    (YS(r.r && r.s, "Signature without r or s"),
    (this.r = new vt(r.r, 16)),
    (this.s = new vt(r.s, 16)),
    r.recoveryParam === void 0
      ? (this.recoveryParam = null)
      : (this.recoveryParam = r.recoveryParam));
}
var jh = Hf;
function QS() {
  this.place = 0;
}
function Nl(r, e) {
  var t = r[e.place++];
  if (!(t & 128)) return t;
  var i = t & 15;
  if (i === 0 || i > 4) return !1;
  for (var n = 0, a = 0, h = e.place; a < i; a++, h++)
    (n <<= 8), (n |= r[h]), (n >>>= 0);
  return n <= 127 ? !1 : ((e.place = h), n);
}
function fg(r) {
  for (var e = 0, t = r.length - 1; !r[e] && !(r[e + 1] & 128) && e < t; ) e++;
  return e === 0 ? r : r.slice(e);
}
Hf.prototype._importDER = function (r, e) {
  r = Ei.toArray(r, e);
  var t = new QS();
  if (r[t.place++] !== 48) return !1;
  var i = Nl(r, t);
  if (i === !1 || i + t.place !== r.length || r[t.place++] !== 2) return !1;
  var n = Nl(r, t);
  if (n === !1) return !1;
  var a = r.slice(t.place, n + t.place);
  if (((t.place += n), r[t.place++] !== 2)) return !1;
  var h = Nl(r, t);
  if (h === !1 || r.length !== h + t.place) return !1;
  var f = r.slice(t.place, h + t.place);
  if (a[0] === 0)
    if (a[1] & 128) a = a.slice(1);
    else return !1;
  if (f[0] === 0)
    if (f[1] & 128) f = f.slice(1);
    else return !1;
  return (
    (this.r = new vt(a)), (this.s = new vt(f)), (this.recoveryParam = null), !0
  );
};
function Rl(r, e) {
  if (e < 128) {
    r.push(e);
    return;
  }
  var t = 1 + ((Math.log(e) / Math.LN2) >>> 3);
  for (r.push(t | 128); --t; ) r.push((e >>> (t << 3)) & 255);
  r.push(e);
}
Hf.prototype.toDER = function (r) {
  var e = this.r.toArray(),
    t = this.s.toArray();
  for (
    e[0] & 128 && (e = [0].concat(e)),
      t[0] & 128 && (t = [0].concat(t)),
      e = fg(e),
      t = fg(t);
    !t[0] && !(t[1] & 128);

  )
    t = t.slice(1);
  var i = [2];
  Rl(i, e.length), (i = i.concat(e)), i.push(2), Rl(i, t.length);
  var n = i.concat(t),
    a = [48];
  return Rl(a, n.length), (a = a.concat(n)), Ei.encode(a, r);
};
var XS = function () {
    throw new Error("unsupported");
  },
  E2 = Ei.assert;
function $i(r) {
  if (!(this instanceof $i)) return new $i(r);
  typeof r == "string" &&
    (E2(Object.prototype.hasOwnProperty.call(tf, r), "Unknown curve " + r),
    (r = tf[r])),
    r instanceof tf.PresetCurve && (r = { curve: r }),
    (this.curve = r.curve.curve),
    (this.n = this.curve.n),
    (this.nh = this.n.ushrn(1)),
    (this.g = this.curve.g),
    (this.g = r.curve.g),
    this.g.precompute(r.curve.n.bitLength() + 1),
    (this.hash = r.hash || r.curve.hash);
}
var ZS = $i;
($i.prototype.keyPair = function (r) {
  return new Ol(this, r);
}),
  ($i.prototype.keyFromPrivate = function (r, e) {
    return Ol.fromPrivate(this, r, e);
  }),
  ($i.prototype.keyFromPublic = function (r, e) {
    return Ol.fromPublic(this, r, e);
  }),
  ($i.prototype.genKeyPair = function (r) {
    r || (r = {});
    for (
      var e = new hg({
          hash: this.hash,
          pers: r.pers,
          persEnc: r.persEnc || "utf8",
          entropy: r.entropy || XS(this.hash.hmacStrength),
          entropyEnc: (r.entropy && r.entropyEnc) || "utf8",
          nonce: this.n.toArray(),
        }),
        t = this.n.byteLength(),
        i = this.n.sub(new vt(2));
      ;

    ) {
      var n = new vt(e.generate(t));
      if (!(n.cmp(i) > 0)) return n.iaddn(1), this.keyFromPrivate(n);
    }
  }),
  ($i.prototype._truncateToN = function (r, e) {
    var t = r.byteLength() * 8 - this.n.bitLength();
    return (
      t > 0 && (r = r.ushrn(t)), !e && r.cmp(this.n) >= 0 ? r.sub(this.n) : r
    );
  }),
  ($i.prototype.sign = function (r, e, t, i) {
    typeof t == "object" && ((i = t), (t = null)),
      i || (i = {}),
      (e = this.keyFromPrivate(e, t)),
      (r = this._truncateToN(new vt(r, 16)));
    for (
      var n = this.n.byteLength(),
        a = e.getPrivate().toArray("be", n),
        h = r.toArray("be", n),
        f = new hg({
          hash: this.hash,
          entropy: a,
          nonce: h,
          pers: i.pers,
          persEnc: i.persEnc || "utf8",
        }),
        v = this.n.sub(new vt(1)),
        g = 0;
      ;
      g++
    ) {
      var y = i.k ? i.k(g) : new vt(f.generate(this.n.byteLength()));
      if (
        ((y = this._truncateToN(y, !0)), !(y.cmpn(1) <= 0 || y.cmp(v) >= 0))
      ) {
        var _ = this.g.mul(y);
        if (!_.isInfinity()) {
          var C = _.getX(),
            P = C.umod(this.n);
          if (P.cmpn(0) !== 0) {
            var O = y.invm(this.n).mul(P.mul(e.getPrivate()).iadd(r));
            if (((O = O.umod(this.n)), O.cmpn(0) !== 0)) {
              var H = (_.getY().isOdd() ? 1 : 0) | (C.cmp(P) !== 0 ? 2 : 0);
              return (
                i.canonical &&
                  O.cmp(this.nh) > 0 &&
                  ((O = this.n.sub(O)), (H ^= 1)),
                new jh({ r: P, s: O, recoveryParam: H })
              );
            }
          }
        }
      }
    }
  }),
  ($i.prototype.verify = function (r, e, t, i) {
    (r = this._truncateToN(new vt(r, 16))),
      (t = this.keyFromPublic(t, i)),
      (e = new jh(e, "hex"));
    var n = e.r,
      a = e.s;
    if (
      n.cmpn(1) < 0 ||
      n.cmp(this.n) >= 0 ||
      a.cmpn(1) < 0 ||
      a.cmp(this.n) >= 0
    )
      return !1;
    var h = a.invm(this.n),
      f = h.mul(r).umod(this.n),
      v = h.mul(n).umod(this.n),
      g;
    return this.curve._maxwellTrick
      ? ((g = this.g.jmulAdd(f, t.getPublic(), v)),
        g.isInfinity() ? !1 : g.eqXToP(n))
      : ((g = this.g.mulAdd(f, t.getPublic(), v)),
        g.isInfinity() ? !1 : g.getX().umod(this.n).cmp(n) === 0);
  }),
  ($i.prototype.recoverPubKey = function (r, e, t, i) {
    E2((3 & t) === t, "The recovery param is more than two bits"),
      (e = new jh(e, i));
    var n = this.n,
      a = new vt(r),
      h = e.r,
      f = e.s,
      v = t & 1,
      g = t >> 1;
    if (h.cmp(this.curve.p.umod(this.curve.n)) >= 0 && g)
      throw new Error("Unable to find sencond key candinate");
    g
      ? (h = this.curve.pointFromX(h.add(this.curve.n), v))
      : (h = this.curve.pointFromX(h, v));
    var y = e.r.invm(n),
      _ = n.sub(a).mul(y).umod(n),
      C = f.mul(y).umod(n);
    return this.g.mulAdd(_, h, C);
  }),
  ($i.prototype.getKeyRecoveryParam = function (r, e, t, i) {
    if (((e = new jh(e, i)), e.recoveryParam !== null)) return e.recoveryParam;
    for (var n = 0; n < 4; n++) {
      var a;
      try {
        a = this.recoverPubKey(r, e, n);
      } catch {
        continue;
      }
      if (a.eq(t)) return n;
    }
    throw new Error("Unable to find valid recovery factor");
  });
var eM = _o(function (r, e) {
    var t = e;
    (t.version = "6.5.4"),
      (t.utils = Ei),
      (t.rand = function () {
        throw new Error("unsupported");
      }),
      (t.curve = ef),
      (t.curves = tf),
      (t.ec = ZS),
      (t.eddsa = null);
  }),
  tM = eM.ec;
const rM = "signing-key/5.7.0",
  d0 = new Pr(rM);
let Tl = null;
function Nn() {
  return Tl || (Tl = new tM("secp256k1")), Tl;
}
class iM {
  constructor(e) {
    Wo(this, "curve", "secp256k1"),
      Wo(this, "privateKey", Wr(e)),
      $E(this.privateKey) !== 32 &&
        d0.throwArgumentError(
          "invalid private key",
          "privateKey",
          "[[ REDACTED ]]"
        );
    const t = Nn().keyFromPrivate(ir(this.privateKey));
    Wo(this, "publicKey", "0x" + t.getPublic(!1, "hex")),
      Wo(this, "compressedPublicKey", "0x" + t.getPublic(!0, "hex")),
      Wo(this, "_isSigningKey", !0);
  }
  _addPoint(e) {
    const t = Nn().keyFromPublic(ir(this.publicKey)),
      i = Nn().keyFromPublic(ir(e));
    return "0x" + t.pub.add(i.pub).encodeCompressed("hex");
  }
  signDigest(e) {
    const t = Nn().keyFromPrivate(ir(this.privateKey)),
      i = ir(e);
    i.length !== 32 && d0.throwArgumentError("bad digest length", "digest", e);
    const n = t.sign(i, { canonical: !0 });
    return Wb({
      recoveryParam: n.recoveryParam,
      r: Bn("0x" + n.r.toString(16), 32),
      s: Bn("0x" + n.s.toString(16), 32),
    });
  }
  computeSharedSecret(e) {
    const t = Nn().keyFromPrivate(ir(this.privateKey)),
      i = Nn().keyFromPublic(ir(x2(e)));
    return Bn("0x" + t.derive(i.getPublic()).toString(16), 32);
  }
  static isSigningKey(e) {
    return !!(e && e._isSigningKey);
  }
}
function nM(r, e) {
  const t = Wb(e),
    i = { r: ir(t.r), s: ir(t.s) };
  return "0x" + Nn().recoverPubKey(ir(r), i, t.recoveryParam).encode("hex", !1);
}
function x2(r, e) {
  const t = ir(r);
  if (t.length === 32) {
    const i = new iM(t);
    return e ? "0x" + Nn().keyFromPrivate(t).getPublic(!0, "hex") : i.publicKey;
  } else {
    if (t.length === 33)
      return e ? Wr(t) : "0x" + Nn().keyFromPublic(t).getPublic(!1, "hex");
    if (t.length === 65)
      return e ? "0x" + Nn().keyFromPublic(t).getPublic(!0, "hex") : Wr(t);
  }
  return d0.throwArgumentError(
    "invalid public or private key",
    "key",
    "[REDACTED]"
  );
}
var ug;
(function (r) {
  (r[(r.legacy = 0)] = "legacy"),
    (r[(r.eip2930 = 1)] = "eip2930"),
    (r[(r.eip1559 = 2)] = "eip1559");
})(ug || (ug = {}));
function sM(r) {
  const e = x2(r);
  return vx(Y1($0(Y1(e, 1)), 12));
}
function aM(r, e) {
  return sM(nM(ir(r), e));
}
const oM = "https://rpc.walletconnect.org/v1";
async function cM(r, e, t, i, n, a) {
  switch (t.t) {
    case "eip191":
      return hM(r, e, t.s);
    case "eip1271":
      return await fM(r, e, t.s, i, n, a);
    default:
      throw new Error(
        `verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`
      );
  }
}
function hM(r, e, t) {
  return aM(i2(e), t).toLowerCase() === r.toLowerCase();
}
async function fM(r, e, t, i, n, a) {
  try {
    const h = "0x1626ba7e",
      f = "0000000000000000000000000000000000000000000000000000000000000040",
      v = "0000000000000000000000000000000000000000000000000000000000000041",
      g = t.substring(2),
      y = i2(e).substring(2),
      _ = h + y + f + v + g,
      C = await fetch(`${a || oM}/?chainId=${i}&projectId=${n}`, {
        method: "POST",
        body: JSON.stringify({
          id: uM(),
          jsonrpc: "2.0",
          method: "eth_call",
          params: [{ to: r, data: _ }, "latest"],
        }),
      }),
      { result: P } = await C.json();
    return P ? P.slice(0, h.length).toLowerCase() === h.toLowerCase() : !1;
  } catch (h) {
    return console.error("isValidEip1271Signature: ", h), !1;
  }
}
function uM() {
  return Date.now() + Math.floor(Math.random() * 1e3);
}
var lM = Object.defineProperty,
  dM = Object.defineProperties,
  pM = Object.getOwnPropertyDescriptors,
  lg = Object.getOwnPropertySymbols,
  gM = Object.prototype.hasOwnProperty,
  vM = Object.prototype.propertyIsEnumerable,
  dg = (r, e, t) =>
    e in r
      ? lM(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  bM = (r, e) => {
    for (var t in e || (e = {})) gM.call(e, t) && dg(r, t, e[t]);
    if (lg) for (var t of lg(e)) vM.call(e, t) && dg(r, t, e[t]);
    return r;
  },
  mM = (r, e) => dM(r, pM(e));
const yM = "did:pkh:",
  K0 = (r) => (r == null ? void 0 : r.split(":")),
  S2 = (r) => {
    const e = r && K0(r);
    if (e) return r.includes(yM) ? e[3] : e[1];
  },
  pg = (r) => {
    const e = r && K0(r);
    if (e) return e[2] + ":" + e[3];
  },
  wf = (r) => {
    const e = r && K0(r);
    if (e) return e.pop();
  };
async function gg(r) {
  const { cacao: e, projectId: t } = r,
    { s: i, p: n } = e,
    a = M2(n, n.iss),
    h = wf(n.iss);
  return await cM(h, a, i, S2(n.iss), t);
}
const M2 = (r, e) => {
  const t = `${r.domain} wants you to sign in with your Ethereum account:`,
    i = wf(e);
  if (!r.aud && !r.uri)
    throw new Error(
      "Either `aud` or `uri` is required to construct the message"
    );
  let n = r.statement || void 0;
  const a = `URI: ${r.aud || r.uri}`,
    h = `Version: ${r.version}`,
    f = `Chain ID: ${S2(e)}`,
    v = `Nonce: ${r.nonce}`,
    g = `Issued At: ${r.iat}`,
    y = r.exp ? `Expiration Time: ${r.exp}` : void 0,
    _ = r.nbf ? `Not Before: ${r.nbf}` : void 0,
    C = r.requestId ? `Request ID: ${r.requestId}` : void 0,
    P = r.resources
      ? `Resources:${r.resources
          .map(
            (H) => `
- ${H}`
          )
          .join("")}`
      : void 0,
    O = rf(r.resources);
  if (O) {
    const H = vc(O);
    n = DM(n, H);
  }
  return [t, i, "", n, "", a, h, f, v, g, y, _, C, P].filter((H) => H != null)
    .join(`
`);
};
function wM(r) {
  return Buffer.from(JSON.stringify(r)).toString("base64");
}
function _M(r) {
  return JSON.parse(Buffer.from(r, "base64").toString("utf-8"));
}
function ba(r) {
  if (!r) throw new Error("No recap provided, value is undefined");
  if (!r.att) throw new Error("No `att` property found");
  const e = Object.keys(r.att);
  if (!(e != null && e.length))
    throw new Error("No resources found in `att` property");
  e.forEach((t) => {
    const i = r.att[t];
    if (Array.isArray(i)) throw new Error(`Resource must be an object: ${t}`);
    if (typeof i != "object")
      throw new Error(`Resource must be an object: ${t}`);
    if (!Object.keys(i).length)
      throw new Error(`Resource object is empty: ${t}`);
    Object.keys(i).forEach((n) => {
      const a = i[n];
      if (!Array.isArray(a))
        throw new Error(
          `Ability limits ${n} must be an array of objects, found: ${a}`
        );
      if (!a.length)
        throw new Error(
          `Value of ${n} is empty array, must be an array with objects`
        );
      a.forEach((h) => {
        if (typeof h != "object")
          throw new Error(
            `Ability limits (${n}) must be an array of objects, found: ${h}`
          );
      });
    });
  });
}
function AM(r, e, t, i = {}) {
  return (
    t == null || t.sort((n, a) => n.localeCompare(a)),
    { att: { [r]: EM(e, t, i) } }
  );
}
function EM(r, e, t = {}) {
  e = e == null ? void 0 : e.sort((n, a) => n.localeCompare(a));
  const i = e.map((n) => ({ [`${r}/${n}`]: [t] }));
  return Object.assign({}, ...i);
}
function I2(r) {
  return ba(r), `urn:recap:${wM(r).replace(/=/g, "")}`;
}
function vc(r) {
  const e = _M(r.replace("urn:recap:", ""));
  return ba(e), e;
}
function xM(r, e, t) {
  const i = AM(r, e, t);
  return I2(i);
}
function SM(r) {
  return r && r.includes("urn:recap:");
}
function MM(r, e) {
  const t = vc(r),
    i = vc(e),
    n = IM(t, i);
  return I2(n);
}
function IM(r, e) {
  ba(r), ba(e);
  const t = Object.keys(r.att)
      .concat(Object.keys(e.att))
      .sort((n, a) => n.localeCompare(a)),
    i = { att: {} };
  return (
    t.forEach((n) => {
      var a, h;
      Object.keys(((a = r.att) == null ? void 0 : a[n]) || {})
        .concat(Object.keys(((h = e.att) == null ? void 0 : h[n]) || {}))
        .sort((f, v) => f.localeCompare(v))
        .forEach((f) => {
          var v, g;
          i.att[n] = mM(bM({}, i.att[n]), {
            [f]:
              ((v = r.att[n]) == null ? void 0 : v[f]) ||
              ((g = e.att[n]) == null ? void 0 : g[f]),
          });
        });
    }),
    i
  );
}
function DM(r = "", e) {
  ba(e);
  const t =
    "I further authorize the stated URI to perform the following actions on my behalf: ";
  if (r.includes(t)) return r;
  const i = [];
  let n = 0;
  Object.keys(e.att).forEach((f) => {
    const v = Object.keys(e.att[f]).map((_) => ({
      ability: _.split("/")[0],
      action: _.split("/")[1],
    }));
    v.sort((_, C) => _.action.localeCompare(C.action));
    const g = {};
    v.forEach((_) => {
      g[_.ability] || (g[_.ability] = []), g[_.ability].push(_.action);
    });
    const y = Object.keys(g).map(
      (_) => (n++, `(${n}) '${_}': '${g[_].join("', '")}' for '${f}'.`)
    );
    i.push(y.join(", ").replace(".,", "."));
  });
  const a = i.join(" "),
    h = `${t}${a}`;
  return `${r ? r + " " : ""}${h}`;
}
function vg(r) {
  var e;
  const t = vc(r);
  ba(t);
  const i = (e = t.att) == null ? void 0 : e.eip155;
  return i ? Object.keys(i).map((n) => n.split("/")[1]) : [];
}
function bg(r) {
  const e = vc(r);
  ba(e);
  const t = [];
  return (
    Object.values(e.att).forEach((i) => {
      Object.values(i).forEach((n) => {
        var a;
        (a = n == null ? void 0 : n[0]) != null &&
          a.chains &&
          t.push(n[0].chains);
      });
    }),
    [...new Set(t.flat())]
  );
}
function rf(r) {
  if (!r) return;
  const e = r == null ? void 0 : r[r.length - 1];
  return SM(e) ? e : void 0;
}
const D2 = "base10",
  Xr = "base16",
  Ls = "base64pad",
  Qo = "base64url",
  Cc = "utf8",
  P2 = 0,
  gs = 1,
  Oc = 2,
  PM = 0,
  mg = 1,
  fc = 12,
  V0 = 32;
function CM() {
  const r = C0.generateKeyPair();
  return { privateKey: Er(r.secretKey, Xr), publicKey: Er(r.publicKey, Xr) };
}
function p0() {
  const r = zs.randomBytes(V0);
  return Er(r, Xr);
}
function OM(r, e) {
  const t = C0.sharedKey(Ar(r, Xr), Ar(e, Xr), !0),
    i = new N_(Ec.SHA256, t).expand(V0);
  return Er(i, Xr);
}
function nf(r) {
  const e = Ec.hash(Ar(r, Xr));
  return Er(e, Xr);
}
function us(r) {
  const e = Ec.hash(Ar(r, Cc));
  return Er(e, Xr);
}
function C2(r) {
  return Ar(`${r}`, D2);
}
function ma(r) {
  return Number(Er(r, D2));
}
function NM(r) {
  const e = C2(typeof r.type < "u" ? r.type : P2);
  if (ma(e) === gs && typeof r.senderPublicKey > "u")
    throw new Error("Missing sender public key for type 1 envelope");
  const t = typeof r.senderPublicKey < "u" ? Ar(r.senderPublicKey, Xr) : void 0,
    i = typeof r.iv < "u" ? Ar(r.iv, Xr) : zs.randomBytes(fc),
    n = new D0.ChaCha20Poly1305(Ar(r.symKey, Xr)).seal(i, Ar(r.message, Cc));
  return O2({
    type: e,
    sealed: n,
    iv: i,
    senderPublicKey: t,
    encoding: r.encoding,
  });
}
function RM(r, e) {
  const t = C2(Oc),
    i = zs.randomBytes(fc),
    n = Ar(r, Cc);
  return O2({ type: t, sealed: n, iv: i, encoding: e });
}
function TM(r) {
  const e = new D0.ChaCha20Poly1305(Ar(r.symKey, Xr)),
    { sealed: t, iv: i } = bc({
      encoded: r.encoded,
      encoding: r == null ? void 0 : r.encoding,
    }),
    n = e.open(i, t);
  if (n === null) throw new Error("Failed to decrypt");
  return Er(n, Cc);
}
function FM(r, e) {
  const { sealed: t } = bc({ encoded: r, encoding: e });
  return Er(t, Cc);
}
function O2(r) {
  const { encoding: e = Ls } = r;
  if (ma(r.type) === Oc) return Er(Qh([r.type, r.sealed]), e);
  if (ma(r.type) === gs) {
    if (typeof r.senderPublicKey > "u")
      throw new Error("Missing sender public key for type 1 envelope");
    return Er(Qh([r.type, r.senderPublicKey, r.iv, r.sealed]), e);
  }
  return Er(Qh([r.type, r.iv, r.sealed]), e);
}
function bc(r) {
  const { encoded: e, encoding: t = Ls } = r,
    i = Ar(e, t),
    n = i.slice(PM, mg),
    a = mg;
  if (ma(n) === gs) {
    const g = a + V0,
      y = g + fc,
      _ = i.slice(a, g),
      C = i.slice(g, y),
      P = i.slice(y);
    return { type: n, sealed: P, iv: C, senderPublicKey: _ };
  }
  if (ma(n) === Oc) {
    const g = i.slice(a),
      y = zs.randomBytes(fc);
    return { type: n, sealed: g, iv: y };
  }
  const h = a + fc,
    f = i.slice(a, h),
    v = i.slice(h);
  return { type: n, sealed: v, iv: f };
}
function BM(r, e) {
  const t = bc({ encoded: r, encoding: e == null ? void 0 : e.encoding });
  return N2({
    type: ma(t.type),
    senderPublicKey:
      typeof t.senderPublicKey < "u" ? Er(t.senderPublicKey, Xr) : void 0,
    receiverPublicKey: e == null ? void 0 : e.receiverPublicKey,
  });
}
function N2(r) {
  const e = (r == null ? void 0 : r.type) || P2;
  if (e === gs) {
    if (typeof (r == null ? void 0 : r.senderPublicKey) > "u")
      throw new Error("missing sender public key");
    if (typeof (r == null ? void 0 : r.receiverPublicKey) > "u")
      throw new Error("missing receiver public key");
  }
  return {
    type: e,
    senderPublicKey: r == null ? void 0 : r.senderPublicKey,
    receiverPublicKey: r == null ? void 0 : r.receiverPublicKey,
  };
}
function yg(r) {
  return (
    r.type === gs &&
    typeof r.senderPublicKey == "string" &&
    typeof r.receiverPublicKey == "string"
  );
}
function wg(r) {
  return r.type === Oc;
}
function LM(r) {
  return new sb.ec("p256").keyFromPublic(
    {
      x: Buffer.from(r.x, "base64").toString("hex"),
      y: Buffer.from(r.y, "base64").toString("hex"),
    },
    "hex"
  );
}
function qM(r) {
  let e = r.replace(/-/g, "+").replace(/_/g, "/");
  const t = e.length % 4;
  return t > 0 && (e += "=".repeat(4 - t)), e;
}
function UM(r) {
  return Buffer.from(qM(r), "base64");
}
function $M(r, e) {
  const [t, i, n] = r.split("."),
    a = UM(n);
  if (a.length !== 64) throw new Error("Invalid signature length");
  const h = a.slice(0, 32).toString("hex"),
    f = a.slice(32, 64).toString("hex"),
    v = `${t}.${i}`,
    g = new Ec.SHA256().update(Buffer.from(v)).digest(),
    y = LM(e),
    _ = Buffer.from(g).toString("hex");
  if (!y.verify(_, { r: h, s: f })) throw new Error("Invalid signature");
  return o0(r).payload;
}
const zM = "irn";
function g0(r) {
  return (r == null ? void 0 : r.relay) || { protocol: zM };
}
function sc(r) {
  const e = dE[r];
  if (typeof e > "u") throw new Error(`Relay Protocol not supported: ${r}`);
  return e;
}
var kM = Object.defineProperty,
  jM = Object.defineProperties,
  HM = Object.getOwnPropertyDescriptors,
  _g = Object.getOwnPropertySymbols,
  KM = Object.prototype.hasOwnProperty,
  VM = Object.prototype.propertyIsEnumerable,
  Ag = (r, e, t) =>
    e in r
      ? kM(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Eg = (r, e) => {
    for (var t in e || (e = {})) KM.call(e, t) && Ag(r, t, e[t]);
    if (_g) for (var t of _g(e)) VM.call(e, t) && Ag(r, t, e[t]);
    return r;
  },
  GM = (r, e) => jM(r, HM(e));
function WM(r, e = "-") {
  const t = {},
    i = "relay" + e;
  return (
    Object.keys(r).forEach((n) => {
      if (n.startsWith(i)) {
        const a = n.replace(i, ""),
          h = r[n];
        t[a] = h;
      }
    }),
    t
  );
}
function xg(r) {
  if (!r.includes("wc:")) {
    const v = Hb(r);
    v != null && v.includes("wc:") && (r = v);
  }
  (r = r.includes("wc://") ? r.replace("wc://", "") : r),
    (r = r.includes("wc:") ? r.replace("wc:", "") : r);
  const e = r.indexOf(":"),
    t = r.indexOf("?") !== -1 ? r.indexOf("?") : void 0,
    i = r.substring(0, e),
    n = r.substring(e + 1, t).split("@"),
    a = typeof t < "u" ? r.substring(t) : "",
    h = pc.parse(a),
    f = typeof h.methods == "string" ? h.methods.split(",") : void 0;
  return {
    protocol: i,
    topic: JM(n[0]),
    version: parseInt(n[1], 10),
    symKey: h.symKey,
    relay: WM(h),
    methods: f,
    expiryTimestamp: h.expiryTimestamp
      ? parseInt(h.expiryTimestamp, 10)
      : void 0,
  };
}
function JM(r) {
  return r.startsWith("//") ? r.substring(2) : r;
}
function YM(r, e = "-") {
  const t = "relay",
    i = {};
  return (
    Object.keys(r).forEach((n) => {
      const a = t + e + n;
      r[n] && (i[a] = r[n]);
    }),
    i
  );
}
function Sg(r) {
  return (
    `${r.protocol}:${r.topic}@${r.version}?` +
    pc.stringify(
      Eg(
        GM(Eg({ symKey: r.symKey }, YM(r.relay)), {
          expiryTimestamp: r.expiryTimestamp,
        }),
        r.methods ? { methods: r.methods.join(",") } : {}
      )
    )
  );
}
function Hh(r, e, t) {
  return `${r}?wc_ev=${t}&topic=${e}`;
}
function Ao(r) {
  const e = [];
  return (
    r.forEach((t) => {
      const [i, n] = t.split(":");
      e.push(`${i}:${n}`);
    }),
    e
  );
}
function QM(r) {
  const e = [];
  return (
    Object.values(r).forEach((t) => {
      e.push(...Ao(t.accounts));
    }),
    e
  );
}
function XM(r, e) {
  const t = [];
  return (
    Object.values(r).forEach((i) => {
      Ao(i.accounts).includes(e) && t.push(...i.methods);
    }),
    t
  );
}
function ZM(r, e) {
  const t = [];
  return (
    Object.values(r).forEach((i) => {
      Ao(i.accounts).includes(e) && t.push(...i.events);
    }),
    t
  );
}
function G0(r) {
  return r.includes(":");
}
function ac(r) {
  return G0(r) ? r.split(":")[0] : r;
}
function eI(r) {
  const e = {};
  return (
    r == null ||
      r.forEach((t) => {
        const [i, n] = t.split(":");
        e[i] || (e[i] = { accounts: [], chains: [], events: [] }),
          e[i].accounts.push(t),
          e[i].chains.push(`${i}:${n}`);
      }),
    e
  );
}
function Mg(r, e) {
  e = e.map((i) => i.replace("did:pkh:", ""));
  const t = eI(e);
  for (const [i, n] of Object.entries(t))
    n.methods ? (n.methods = Xh(n.methods, r)) : (n.methods = r),
      (n.events = ["chainChanged", "accountsChanged"]);
  return t;
}
const tI = {
    INVALID_METHOD: { message: "Invalid method.", code: 1001 },
    INVALID_EVENT: { message: "Invalid event.", code: 1002 },
    INVALID_UPDATE_REQUEST: { message: "Invalid update request.", code: 1003 },
    INVALID_EXTEND_REQUEST: { message: "Invalid extend request.", code: 1004 },
    INVALID_SESSION_SETTLE_REQUEST: {
      message: "Invalid session settle request.",
      code: 1005,
    },
    UNAUTHORIZED_METHOD: { message: "Unauthorized method.", code: 3001 },
    UNAUTHORIZED_EVENT: { message: "Unauthorized event.", code: 3002 },
    UNAUTHORIZED_UPDATE_REQUEST: {
      message: "Unauthorized update request.",
      code: 3003,
    },
    UNAUTHORIZED_EXTEND_REQUEST: {
      message: "Unauthorized extend request.",
      code: 3004,
    },
    USER_REJECTED: { message: "User rejected.", code: 5e3 },
    USER_REJECTED_CHAINS: { message: "User rejected chains.", code: 5001 },
    USER_REJECTED_METHODS: { message: "User rejected methods.", code: 5002 },
    USER_REJECTED_EVENTS: { message: "User rejected events.", code: 5003 },
    UNSUPPORTED_CHAINS: { message: "Unsupported chains.", code: 5100 },
    UNSUPPORTED_METHODS: { message: "Unsupported methods.", code: 5101 },
    UNSUPPORTED_EVENTS: { message: "Unsupported events.", code: 5102 },
    UNSUPPORTED_ACCOUNTS: { message: "Unsupported accounts.", code: 5103 },
    UNSUPPORTED_NAMESPACE_KEY: {
      message: "Unsupported namespace key.",
      code: 5104,
    },
    USER_DISCONNECTED: { message: "User disconnected.", code: 6e3 },
    SESSION_SETTLEMENT_FAILED: {
      message: "Session settlement failed.",
      code: 7e3,
    },
    WC_METHOD_UNSUPPORTED: { message: "Unsupported wc_ method.", code: 10001 },
  },
  rI = {
    NOT_INITIALIZED: { message: "Not initialized.", code: 1 },
    NO_MATCHING_KEY: { message: "No matching key.", code: 2 },
    RESTORE_WILL_OVERRIDE: { message: "Restore will override.", code: 3 },
    RESUBSCRIBED: { message: "Resubscribed.", code: 4 },
    MISSING_OR_INVALID: { message: "Missing or invalid.", code: 5 },
    EXPIRED: { message: "Expired.", code: 6 },
    UNKNOWN_TYPE: { message: "Unknown type.", code: 7 },
    MISMATCHED_TOPIC: { message: "Mismatched topic.", code: 8 },
    NON_CONFORMING_NAMESPACES: {
      message: "Non conforming namespaces.",
      code: 9,
    },
  };
function Ae(r, e) {
  const { message: t, code: i } = rI[r];
  return { message: e ? `${t} ${e}` : t, code: i };
}
function Ut(r, e) {
  const { message: t, code: i } = tI[r];
  return { message: e ? `${t} ${e}` : t, code: i };
}
function Hn(r, e) {
  return Array.isArray(r) ? (typeof e < "u" && r.length ? r.every(e) : !0) : !1;
}
function mc(r) {
  return Object.getPrototypeOf(r) === Object.prototype && Object.keys(r).length;
}
function Qr(r) {
  return typeof r > "u";
}
function hr(r, e) {
  return e && Qr(r) ? !0 : typeof r == "string" && !!r.trim().length;
}
function W0(r, e) {
  return e && Qr(r) ? !0 : typeof r == "number" && !isNaN(r);
}
function iI(r, e) {
  const { requiredNamespaces: t } = e,
    i = Object.keys(r.namespaces),
    n = Object.keys(t);
  let a = !0;
  return fa(n, i)
    ? (i.forEach((h) => {
        const { accounts: f, methods: v, events: g } = r.namespaces[h],
          y = Ao(f),
          _ = t[h];
        (!fa(Lb(h, _), y) || !fa(_.methods, v) || !fa(_.events, g)) && (a = !1);
      }),
      a)
    : !1;
}
function _f(r) {
  return hr(r, !1) && r.includes(":") ? r.split(":").length === 2 : !1;
}
function nI(r) {
  if (hr(r, !1) && r.includes(":")) {
    const e = r.split(":");
    if (e.length === 3) {
      const t = e[0] + ":" + e[1];
      return !!e[2] && _f(t);
    }
  }
  return !1;
}
function sI(r) {
  function e(t) {
    try {
      return typeof new URL(t) < "u";
    } catch {
      return !1;
    }
  }
  try {
    if (hr(r, !1)) {
      if (e(r)) return !0;
      const t = Hb(r);
      return e(t);
    }
  } catch {}
  return !1;
}
function aI(r) {
  var e;
  return (e = r == null ? void 0 : r.proposer) == null ? void 0 : e.publicKey;
}
function oI(r) {
  return r == null ? void 0 : r.topic;
}
function cI(r, e) {
  let t = null;
  return (
    hr(r == null ? void 0 : r.publicKey, !1) ||
      (t = Ae(
        "MISSING_OR_INVALID",
        `${e} controller public key should be a string`
      )),
    t
  );
}
function Ig(r) {
  let e = !0;
  return Hn(r) ? r.length && (e = r.every((t) => hr(t, !1))) : (e = !1), e;
}
function hI(r, e, t) {
  let i = null;
  return (
    Hn(e) && e.length
      ? e.forEach((n) => {
          i ||
            _f(n) ||
            (i = Ut(
              "UNSUPPORTED_CHAINS",
              `${t}, chain ${n} should be a string and conform to "namespace:chainId" format`
            ));
        })
      : _f(r) ||
        (i = Ut(
          "UNSUPPORTED_CHAINS",
          `${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`
        )),
    i
  );
}
function fI(r, e, t) {
  let i = null;
  return (
    Object.entries(r).forEach(([n, a]) => {
      if (i) return;
      const h = hI(n, Lb(n, a), `${e} ${t}`);
      h && (i = h);
    }),
    i
  );
}
function uI(r, e) {
  let t = null;
  return (
    Hn(r)
      ? r.forEach((i) => {
          t ||
            nI(i) ||
            (t = Ut(
              "UNSUPPORTED_ACCOUNTS",
              `${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`
            ));
        })
      : (t = Ut(
          "UNSUPPORTED_ACCOUNTS",
          `${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`
        )),
    t
  );
}
function lI(r, e) {
  let t = null;
  return (
    Object.values(r).forEach((i) => {
      if (t) return;
      const n = uI(i == null ? void 0 : i.accounts, `${e} namespace`);
      n && (t = n);
    }),
    t
  );
}
function dI(r, e) {
  let t = null;
  return (
    Ig(r == null ? void 0 : r.methods)
      ? Ig(r == null ? void 0 : r.events) ||
        (t = Ut(
          "UNSUPPORTED_EVENTS",
          `${e}, events should be an array of strings or empty array for no events`
        ))
      : (t = Ut(
          "UNSUPPORTED_METHODS",
          `${e}, methods should be an array of strings or empty array for no methods`
        )),
    t
  );
}
function R2(r, e) {
  let t = null;
  return (
    Object.values(r).forEach((i) => {
      if (t) return;
      const n = dI(i, `${e}, namespace`);
      n && (t = n);
    }),
    t
  );
}
function pI(r, e, t) {
  let i = null;
  if (r && mc(r)) {
    const n = R2(r, e);
    n && (i = n);
    const a = fI(r, e, t);
    a && (i = a);
  } else
    i = Ae("MISSING_OR_INVALID", `${e}, ${t} should be an object with data`);
  return i;
}
function Fl(r, e) {
  let t = null;
  if (r && mc(r)) {
    const i = R2(r, e);
    i && (t = i);
    const n = lI(r, e);
    n && (t = n);
  } else
    t = Ae(
      "MISSING_OR_INVALID",
      `${e}, namespaces should be an object with data`
    );
  return t;
}
function T2(r) {
  return hr(r.protocol, !0);
}
function gI(r, e) {
  let t = !1;
  return (
    e && !r
      ? (t = !0)
      : r &&
        Hn(r) &&
        r.length &&
        r.forEach((i) => {
          t = T2(i);
        }),
    t
  );
}
function vI(r) {
  return typeof r == "number";
}
function fi(r) {
  return typeof r < "u" && typeof r !== null;
}
function bI(r) {
  return !(
    !r ||
    typeof r != "object" ||
    !r.code ||
    !W0(r.code, !1) ||
    !r.message ||
    !hr(r.message, !1)
  );
}
function mI(r) {
  return !(Qr(r) || !hr(r.method, !1));
}
function yI(r) {
  return !(
    Qr(r) ||
    (Qr(r.result) && Qr(r.error)) ||
    !W0(r.id, !1) ||
    !hr(r.jsonrpc, !1)
  );
}
function wI(r) {
  return !(Qr(r) || !hr(r.name, !1));
}
function Dg(r, e) {
  return !(!_f(e) || !QM(r).includes(e));
}
function _I(r, e, t) {
  return hr(t, !1) ? XM(r, e).includes(t) : !1;
}
function AI(r, e, t) {
  return hr(t, !1) ? ZM(r, e).includes(t) : !1;
}
function Pg(r, e, t) {
  let i = null;
  const n = EI(r),
    a = xI(e),
    h = Object.keys(n),
    f = Object.keys(a),
    v = Cg(Object.keys(r)),
    g = Cg(Object.keys(e)),
    y = v.filter((_) => !g.includes(_));
  return (
    y.length &&
      (i = Ae(
        "NON_CONFORMING_NAMESPACES",
        `${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${y.toString()}
      Received: ${Object.keys(e).toString()}`
      )),
    fa(h, f) ||
      (i = Ae(
        "NON_CONFORMING_NAMESPACES",
        `${t} namespaces chains don't satisfy required namespaces.
      Required: ${h.toString()}
      Approved: ${f.toString()}`
      )),
    Object.keys(e).forEach((_) => {
      if (!_.includes(":") || i) return;
      const C = Ao(e[_].accounts);
      C.includes(_) ||
        (i = Ae(
          "NON_CONFORMING_NAMESPACES",
          `${t} namespaces accounts don't satisfy namespace accounts for ${_}
        Required: ${_}
        Approved: ${C.toString()}`
        ));
    }),
    h.forEach((_) => {
      i ||
        (fa(n[_].methods, a[_].methods)
          ? fa(n[_].events, a[_].events) ||
            (i = Ae(
              "NON_CONFORMING_NAMESPACES",
              `${t} namespaces events don't satisfy namespace events for ${_}`
            ))
          : (i = Ae(
              "NON_CONFORMING_NAMESPACES",
              `${t} namespaces methods don't satisfy namespace methods for ${_}`
            )));
    }),
    i
  );
}
function EI(r) {
  const e = {};
  return (
    Object.keys(r).forEach((t) => {
      var i;
      t.includes(":")
        ? (e[t] = r[t])
        : (i = r[t].chains) == null ||
          i.forEach((n) => {
            e[n] = { methods: r[t].methods, events: r[t].events };
          });
    }),
    e
  );
}
function Cg(r) {
  return [...new Set(r.map((e) => (e.includes(":") ? e.split(":")[0] : e)))];
}
function xI(r) {
  const e = {};
  return (
    Object.keys(r).forEach((t) => {
      if (t.includes(":")) e[t] = r[t];
      else {
        const i = Ao(r[t].accounts);
        i == null ||
          i.forEach((n) => {
            e[n] = {
              accounts: r[t].accounts.filter((a) => a.includes(`${n}:`)),
              methods: r[t].methods,
              events: r[t].events,
            };
          });
      }
    }),
    e
  );
}
function SI(r, e) {
  return W0(r, !1) && r <= e.max && r >= e.min;
}
function Og() {
  const r = Dc();
  return new Promise((e) => {
    switch (r) {
      case _i.browser:
        e(MI());
        break;
      case _i.reactNative:
        e(II());
        break;
      case _i.node:
        e(DI());
        break;
      default:
        e(!0);
    }
  });
}
function MI() {
  return Ic() && (navigator == null ? void 0 : navigator.onLine);
}
async function II() {
  if (bo() && typeof global < "u" && global != null && global.NetInfo) {
    const r = await (global == null ? void 0 : global.NetInfo.fetch());
    return r == null ? void 0 : r.isConnected;
  }
  return !0;
}
function DI() {
  return !0;
}
function PI(r) {
  switch (Dc()) {
    case _i.browser:
      CI(r);
      break;
    case _i.reactNative:
      OI(r);
      break;
  }
}
function CI(r) {
  !bo() &&
    Ic() &&
    (window.addEventListener("online", () => r(!0)),
    window.addEventListener("offline", () => r(!1)));
}
function OI(r) {
  bo() &&
    typeof global < "u" &&
    global != null &&
    global.NetInfo &&
    (global == null ||
      global.NetInfo.addEventListener((e) =>
        r(e == null ? void 0 : e.isConnected)
      ));
}
const Bl = {};
class Xo {
  static get(e) {
    return Bl[e];
  }
  static set(e, t) {
    Bl[e] = t;
  }
  static delete(e) {
    delete Bl[e];
  }
}
class Ea {}
let NI = class extends Ea {
  constructor(e) {
    super();
  }
};
const Ng = xe.FIVE_SECONDS,
  Eo = { pulse: "heartbeat_pulse" };
let RI = class F2 extends NI {
  constructor(e) {
    super(e),
      (this.events = new Hi.EventEmitter()),
      (this.interval = Ng),
      (this.interval = (e == null ? void 0 : e.interval) || Ng);
  }
  static async init(e) {
    const t = new F2(e);
    return await t.init(), t;
  }
  async init() {
    await this.initialize();
  }
  stop() {
    clearInterval(this.intervalRef);
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async initialize() {
    this.intervalRef = setInterval(
      () => this.pulse(),
      xe.toMiliseconds(this.interval)
    );
  }
  pulse() {
    this.events.emit(Eo.pulse);
  }
};
const TI =
    /"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,
  FI =
    /"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,
  BI = /^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;
function LI(r, e) {
  if (
    r === "__proto__" ||
    (r === "constructor" && e && typeof e == "object" && "prototype" in e)
  ) {
    qI(r);
    return;
  }
  return e;
}
function qI(r) {
  console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`);
}
function Kh(r, e = {}) {
  if (typeof r != "string") return r;
  const t = r.trim();
  if (r[0] === '"' && r.endsWith('"') && !r.includes("\\"))
    return t.slice(1, -1);
  if (t.length <= 9) {
    const i = t.toLowerCase();
    if (i === "true") return !0;
    if (i === "false") return !1;
    if (i === "undefined") return;
    if (i === "null") return null;
    if (i === "nan") return Number.NaN;
    if (i === "infinity") return Number.POSITIVE_INFINITY;
    if (i === "-infinity") return Number.NEGATIVE_INFINITY;
  }
  if (!BI.test(r)) {
    if (e.strict) throw new SyntaxError("[destr] Invalid JSON");
    return r;
  }
  try {
    if (TI.test(r) || FI.test(r)) {
      if (e.strict) throw new Error("[destr] Possible prototype pollution");
      return JSON.parse(r, LI);
    }
    return JSON.parse(r);
  } catch (i) {
    if (e.strict) throw i;
    return r;
  }
}
function UI(r) {
  return !r || typeof r.then != "function" ? Promise.resolve(r) : r;
}
function _r(r, ...e) {
  try {
    return UI(r(...e));
  } catch (t) {
    return Promise.reject(t);
  }
}
function $I(r) {
  const e = typeof r;
  return r === null || (e !== "object" && e !== "function");
}
function zI(r) {
  const e = Object.getPrototypeOf(r);
  return !e || e.isPrototypeOf(Object);
}
function sf(r) {
  if ($I(r)) return String(r);
  if (zI(r) || Array.isArray(r)) return JSON.stringify(r);
  if (typeof r.toJSON == "function") return sf(r.toJSON());
  throw new Error("[unstorage] Cannot stringify value!");
}
function B2() {
  if (typeof Buffer > "u")
    throw new TypeError("[unstorage] Buffer is not supported!");
}
const v0 = "base64:";
function kI(r) {
  if (typeof r == "string") return r;
  B2();
  const e = Buffer.from(r).toString("base64");
  return v0 + e;
}
function jI(r) {
  return typeof r != "string" || !r.startsWith(v0)
    ? r
    : (B2(), Buffer.from(r.slice(v0.length), "base64"));
}
function hi(r) {
  return r
    ? r
        .split("?")[0]
        .replace(/[/\\]/g, ":")
        .replace(/:+/g, ":")
        .replace(/^:|:$/g, "")
    : "";
}
function HI(...r) {
  return hi(r.join(":"));
}
function Vh(r) {
  return (r = hi(r)), r ? r + ":" : "";
}
const KI = "memory",
  VI = () => {
    const r = new Map();
    return {
      name: KI,
      getInstance: () => r,
      hasItem(e) {
        return r.has(e);
      },
      getItem(e) {
        return r.get(e) ?? null;
      },
      getItemRaw(e) {
        return r.get(e) ?? null;
      },
      setItem(e, t) {
        r.set(e, t);
      },
      setItemRaw(e, t) {
        r.set(e, t);
      },
      removeItem(e) {
        r.delete(e);
      },
      getKeys() {
        return [...r.keys()];
      },
      clear() {
        r.clear();
      },
      dispose() {
        r.clear();
      },
    };
  };
function GI(r = {}) {
  const e = {
      mounts: { "": r.driver || VI() },
      mountpoints: [""],
      watching: !1,
      watchListeners: [],
      unwatch: {},
    },
    t = (g) => {
      for (const y of e.mountpoints)
        if (g.startsWith(y))
          return {
            base: y,
            relativeKey: g.slice(y.length),
            driver: e.mounts[y],
          };
      return { base: "", relativeKey: g, driver: e.mounts[""] };
    },
    i = (g, y) =>
      e.mountpoints
        .filter((_) => _.startsWith(g) || (y && g.startsWith(_)))
        .map((_) => ({
          relativeBase: g.length > _.length ? g.slice(_.length) : void 0,
          mountpoint: _,
          driver: e.mounts[_],
        })),
    n = (g, y) => {
      if (e.watching) {
        y = hi(y);
        for (const _ of e.watchListeners) _(g, y);
      }
    },
    a = async () => {
      if (!e.watching) {
        e.watching = !0;
        for (const g in e.mounts) e.unwatch[g] = await Rg(e.mounts[g], n, g);
      }
    },
    h = async () => {
      if (e.watching) {
        for (const g in e.unwatch) await e.unwatch[g]();
        (e.unwatch = {}), (e.watching = !1);
      }
    },
    f = (g, y, _) => {
      const C = new Map(),
        P = (O) => {
          let H = C.get(O.base);
          return (
            H ||
              ((H = { driver: O.driver, base: O.base, items: [] }),
              C.set(O.base, H)),
            H
          );
        };
      for (const O of g) {
        const H = typeof O == "string",
          G = hi(H ? O : O.key),
          Q = H ? void 0 : O.value,
          z = H || !O.options ? y : { ...y, ...O.options },
          Y = t(G);
        P(Y).items.push({
          key: G,
          value: Q,
          relativeKey: Y.relativeKey,
          options: z,
        });
      }
      return Promise.all([...C.values()].map((O) => _(O))).then((O) =>
        O.flat()
      );
    },
    v = {
      hasItem(g, y = {}) {
        g = hi(g);
        const { relativeKey: _, driver: C } = t(g);
        return _r(C.hasItem, _, y);
      },
      getItem(g, y = {}) {
        g = hi(g);
        const { relativeKey: _, driver: C } = t(g);
        return _r(C.getItem, _, y).then((P) => Kh(P));
      },
      getItems(g, y) {
        return f(g, y, (_) =>
          _.driver.getItems
            ? _r(
                _.driver.getItems,
                _.items.map((C) => ({
                  key: C.relativeKey,
                  options: C.options,
                })),
                y
              ).then((C) =>
                C.map((P) => ({ key: HI(_.base, P.key), value: Kh(P.value) }))
              )
            : Promise.all(
                _.items.map((C) =>
                  _r(_.driver.getItem, C.relativeKey, C.options).then((P) => ({
                    key: C.key,
                    value: Kh(P),
                  }))
                )
              )
        );
      },
      getItemRaw(g, y = {}) {
        g = hi(g);
        const { relativeKey: _, driver: C } = t(g);
        return C.getItemRaw
          ? _r(C.getItemRaw, _, y)
          : _r(C.getItem, _, y).then((P) => jI(P));
      },
      async setItem(g, y, _ = {}) {
        if (y === void 0) return v.removeItem(g);
        g = hi(g);
        const { relativeKey: C, driver: P } = t(g);
        P.setItem &&
          (await _r(P.setItem, C, sf(y), _), P.watch || n("update", g));
      },
      async setItems(g, y) {
        await f(g, y, async (_) => {
          if (_.driver.setItems)
            return _r(
              _.driver.setItems,
              _.items.map((C) => ({
                key: C.relativeKey,
                value: sf(C.value),
                options: C.options,
              })),
              y
            );
          _.driver.setItem &&
            (await Promise.all(
              _.items.map((C) =>
                _r(_.driver.setItem, C.relativeKey, sf(C.value), C.options)
              )
            ));
        });
      },
      async setItemRaw(g, y, _ = {}) {
        if (y === void 0) return v.removeItem(g, _);
        g = hi(g);
        const { relativeKey: C, driver: P } = t(g);
        if (P.setItemRaw) await _r(P.setItemRaw, C, y, _);
        else if (P.setItem) await _r(P.setItem, C, kI(y), _);
        else return;
        P.watch || n("update", g);
      },
      async removeItem(g, y = {}) {
        typeof y == "boolean" && (y = { removeMeta: y }), (g = hi(g));
        const { relativeKey: _, driver: C } = t(g);
        C.removeItem &&
          (await _r(C.removeItem, _, y),
          (y.removeMeta || y.removeMata) &&
            (await _r(C.removeItem, _ + "$", y)),
          C.watch || n("remove", g));
      },
      async getMeta(g, y = {}) {
        typeof y == "boolean" && (y = { nativeOnly: y }), (g = hi(g));
        const { relativeKey: _, driver: C } = t(g),
          P = Object.create(null);
        if (
          (C.getMeta && Object.assign(P, await _r(C.getMeta, _, y)),
          !y.nativeOnly)
        ) {
          const O = await _r(C.getItem, _ + "$", y).then((H) => Kh(H));
          O &&
            typeof O == "object" &&
            (typeof O.atime == "string" && (O.atime = new Date(O.atime)),
            typeof O.mtime == "string" && (O.mtime = new Date(O.mtime)),
            Object.assign(P, O));
        }
        return P;
      },
      setMeta(g, y, _ = {}) {
        return this.setItem(g + "$", y, _);
      },
      removeMeta(g, y = {}) {
        return this.removeItem(g + "$", y);
      },
      async getKeys(g, y = {}) {
        g = Vh(g);
        const _ = i(g, !0);
        let C = [];
        const P = [];
        for (const O of _) {
          const H = await _r(O.driver.getKeys, O.relativeBase, y);
          for (const G of H) {
            const Q = O.mountpoint + hi(G);
            C.some((z) => Q.startsWith(z)) || P.push(Q);
          }
          C = [O.mountpoint, ...C.filter((G) => !G.startsWith(O.mountpoint))];
        }
        return g
          ? P.filter((O) => O.startsWith(g) && O[O.length - 1] !== "$")
          : P.filter((O) => O[O.length - 1] !== "$");
      },
      async clear(g, y = {}) {
        (g = Vh(g)),
          await Promise.all(
            i(g, !1).map(async (_) => {
              if (_.driver.clear) return _r(_.driver.clear, _.relativeBase, y);
              if (_.driver.removeItem) {
                const C = await _.driver.getKeys(_.relativeBase || "", y);
                return Promise.all(C.map((P) => _.driver.removeItem(P, y)));
              }
            })
          );
      },
      async dispose() {
        await Promise.all(Object.values(e.mounts).map((g) => Tg(g)));
      },
      async watch(g) {
        return (
          await a(),
          e.watchListeners.push(g),
          async () => {
            (e.watchListeners = e.watchListeners.filter((y) => y !== g)),
              e.watchListeners.length === 0 && (await h());
          }
        );
      },
      async unwatch() {
        (e.watchListeners = []), await h();
      },
      mount(g, y) {
        if (((g = Vh(g)), g && e.mounts[g]))
          throw new Error(`already mounted at ${g}`);
        return (
          g &&
            (e.mountpoints.push(g),
            e.mountpoints.sort((_, C) => C.length - _.length)),
          (e.mounts[g] = y),
          e.watching &&
            Promise.resolve(Rg(y, n, g))
              .then((_) => {
                e.unwatch[g] = _;
              })
              .catch(console.error),
          v
        );
      },
      async unmount(g, y = !0) {
        (g = Vh(g)),
          !(!g || !e.mounts[g]) &&
            (e.watching &&
              g in e.unwatch &&
              (e.unwatch[g](), delete e.unwatch[g]),
            y && (await Tg(e.mounts[g])),
            (e.mountpoints = e.mountpoints.filter((_) => _ !== g)),
            delete e.mounts[g]);
      },
      getMount(g = "") {
        g = hi(g) + ":";
        const y = t(g);
        return { driver: y.driver, base: y.base };
      },
      getMounts(g = "", y = {}) {
        return (
          (g = hi(g)),
          i(g, y.parents).map((C) => ({ driver: C.driver, base: C.mountpoint }))
        );
      },
      keys: (g, y = {}) => v.getKeys(g, y),
      get: (g, y = {}) => v.getItem(g, y),
      set: (g, y, _ = {}) => v.setItem(g, y, _),
      has: (g, y = {}) => v.hasItem(g, y),
      del: (g, y = {}) => v.removeItem(g, y),
      remove: (g, y = {}) => v.removeItem(g, y),
    };
  return v;
}
function Rg(r, e, t) {
  return r.watch ? r.watch((i, n) => e(i, t + n)) : () => {};
}
async function Tg(r) {
  typeof r.dispose == "function" && (await _r(r.dispose));
}
function xa(r) {
  return new Promise((e, t) => {
    (r.oncomplete = r.onsuccess = () => e(r.result)),
      (r.onabort = r.onerror = () => t(r.error));
  });
}
function L2(r, e) {
  const t = indexedDB.open(r);
  t.onupgradeneeded = () => t.result.createObjectStore(e);
  const i = xa(t);
  return (n, a) => i.then((h) => a(h.transaction(e, n).objectStore(e)));
}
let Ll;
function Nc() {
  return Ll || (Ll = L2("keyval-store", "keyval")), Ll;
}
function Fg(r, e = Nc()) {
  return e("readonly", (t) => xa(t.get(r)));
}
function WI(r, e, t = Nc()) {
  return t("readwrite", (i) => (i.put(e, r), xa(i.transaction)));
}
function JI(r, e = Nc()) {
  return e("readwrite", (t) => (t.delete(r), xa(t.transaction)));
}
function YI(r = Nc()) {
  return r("readwrite", (e) => (e.clear(), xa(e.transaction)));
}
function QI(r, e) {
  return (
    (r.openCursor().onsuccess = function () {
      this.result && (e(this.result), this.result.continue());
    }),
    xa(r.transaction)
  );
}
function XI(r = Nc()) {
  return r("readonly", (e) => {
    if (e.getAllKeys) return xa(e.getAllKeys());
    const t = [];
    return QI(e, (i) => t.push(i.key)).then(() => t);
  });
}
const ZI = "idb-keyval";
var eD = (r = {}) => {
  const e = r.base && r.base.length > 0 ? `${r.base}:` : "",
    t = (n) => e + n;
  let i;
  return (
    r.dbName && r.storeName && (i = L2(r.dbName, r.storeName)),
    {
      name: ZI,
      options: r,
      async hasItem(n) {
        return !(typeof (await Fg(t(n), i)) > "u");
      },
      async getItem(n) {
        return (await Fg(t(n), i)) ?? null;
      },
      setItem(n, a) {
        return WI(t(n), a, i);
      },
      removeItem(n) {
        return JI(t(n), i);
      },
      getKeys() {
        return XI(i);
      },
      clear() {
        return YI(i);
      },
    }
  );
};
const tD = "WALLET_CONNECT_V2_INDEXED_DB",
  rD = "keyvaluestorage";
let iD = class {
  constructor() {
    this.indexedDb = GI({ driver: eD({ dbName: tD, storeName: rD }) });
  }
  async getKeys() {
    return this.indexedDb.getKeys();
  }
  async getEntries() {
    return (await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(
      (e) => [e.key, e.value]
    );
  }
  async getItem(e) {
    const t = await this.indexedDb.getItem(e);
    if (t !== null) return t;
  }
  async setItem(e, t) {
    await this.indexedDb.setItem(e, ms(t));
  }
  async removeItem(e) {
    await this.indexedDb.removeItem(e);
  }
};
var ql =
    typeof globalThis < "u"
      ? globalThis
      : typeof window < "u"
      ? window
      : typeof global < "u"
      ? global
      : typeof self < "u"
      ? self
      : {},
  af = { exports: {} };
(function () {
  let r;
  function e() {}
  (r = e),
    (r.prototype.getItem = function (t) {
      return this.hasOwnProperty(t) ? String(this[t]) : null;
    }),
    (r.prototype.setItem = function (t, i) {
      this[t] = String(i);
    }),
    (r.prototype.removeItem = function (t) {
      delete this[t];
    }),
    (r.prototype.clear = function () {
      const t = this;
      Object.keys(t).forEach(function (i) {
        (t[i] = void 0), delete t[i];
      });
    }),
    (r.prototype.key = function (t) {
      return (t = t || 0), Object.keys(this)[t];
    }),
    r.prototype.__defineGetter__("length", function () {
      return Object.keys(this).length;
    }),
    typeof ql < "u" && ql.localStorage
      ? (af.exports = ql.localStorage)
      : typeof window < "u" && window.localStorage
      ? (af.exports = window.localStorage)
      : (af.exports = new e());
})();
function nD(r) {
  var e;
  return [r[0], va((e = r[1]) != null ? e : "")];
}
class sD {
  constructor() {
    this.localStorage = af.exports;
  }
  async getKeys() {
    return Object.keys(this.localStorage);
  }
  async getEntries() {
    return Object.entries(this.localStorage).map(nD);
  }
  async getItem(e) {
    const t = this.localStorage.getItem(e);
    if (t !== null) return va(t);
  }
  async setItem(e, t) {
    this.localStorage.setItem(e, ms(t));
  }
  async removeItem(e) {
    this.localStorage.removeItem(e);
  }
}
const aD = "wc_storage_version",
  Bg = 1,
  oD = async (r, e, t) => {
    const i = aD,
      n = await e.getItem(i);
    if (n && n >= Bg) {
      t(e);
      return;
    }
    const a = await r.getKeys();
    if (!a.length) {
      t(e);
      return;
    }
    const h = [];
    for (; a.length; ) {
      const f = a.shift();
      if (!f) continue;
      const v = f.toLowerCase();
      if (
        v.includes("wc@") ||
        v.includes("walletconnect") ||
        v.includes("wc_") ||
        v.includes("wallet_connect")
      ) {
        const g = await r.getItem(f);
        await e.setItem(f, g), h.push(f);
      }
    }
    await e.setItem(i, Bg), t(e), cD(r, h);
  },
  cD = async (r, e) => {
    e.length &&
      e.forEach(async (t) => {
        await r.removeItem(t);
      });
  };
let hD = class {
  constructor() {
    (this.initialized = !1),
      (this.setInitialized = (t) => {
        (this.storage = t), (this.initialized = !0);
      });
    const e = new sD();
    this.storage = e;
    try {
      const t = new iD();
      oD(e, t, this.setInitialized);
    } catch {
      this.initialized = !0;
    }
  }
  async getKeys() {
    return await this.initialize(), this.storage.getKeys();
  }
  async getEntries() {
    return await this.initialize(), this.storage.getEntries();
  }
  async getItem(e) {
    return await this.initialize(), this.storage.getItem(e);
  }
  async setItem(e, t) {
    return await this.initialize(), this.storage.setItem(e, t);
  }
  async removeItem(e) {
    return await this.initialize(), this.storage.removeItem(e);
  }
  async initialize() {
    this.initialized ||
      (await new Promise((e) => {
        const t = setInterval(() => {
          this.initialized && (clearInterval(t), e());
        }, 20);
      }));
  }
};
function fD(r) {
  try {
    return JSON.stringify(r);
  } catch {
    return '"[Circular]"';
  }
}
var uD = lD;
function lD(r, e, t) {
  var i = (t && t.stringify) || fD,
    n = 1;
  if (typeof r == "object" && r !== null) {
    var a = e.length + n;
    if (a === 1) return r;
    var h = new Array(a);
    h[0] = i(r);
    for (var f = 1; f < a; f++) h[f] = i(e[f]);
    return h.join(" ");
  }
  if (typeof r != "string") return r;
  var v = e.length;
  if (v === 0) return r;
  for (
    var g = "", y = 1 - n, _ = -1, C = (r && r.length) || 0, P = 0;
    P < C;

  ) {
    if (r.charCodeAt(P) === 37 && P + 1 < C) {
      switch (((_ = _ > -1 ? _ : 0), r.charCodeAt(P + 1))) {
        case 100:
        case 102:
          if (y >= v || e[y] == null) break;
          _ < P && (g += r.slice(_, P)), (g += Number(e[y])), (_ = P + 2), P++;
          break;
        case 105:
          if (y >= v || e[y] == null) break;
          _ < P && (g += r.slice(_, P)),
            (g += Math.floor(Number(e[y]))),
            (_ = P + 2),
            P++;
          break;
        case 79:
        case 111:
        case 106:
          if (y >= v || e[y] === void 0) break;
          _ < P && (g += r.slice(_, P));
          var O = typeof e[y];
          if (O === "string") {
            (g += "'" + e[y] + "'"), (_ = P + 2), P++;
            break;
          }
          if (O === "function") {
            (g += e[y].name || "<anonymous>"), (_ = P + 2), P++;
            break;
          }
          (g += i(e[y])), (_ = P + 2), P++;
          break;
        case 115:
          if (y >= v) break;
          _ < P && (g += r.slice(_, P)), (g += String(e[y])), (_ = P + 2), P++;
          break;
        case 37:
          _ < P && (g += r.slice(_, P)), (g += "%"), (_ = P + 2), P++, y--;
          break;
      }
      ++y;
    }
    ++P;
  }
  return _ === -1 ? r : (_ < C && (g += r.slice(_)), g);
}
const Lg = uD;
var Ya = $n;
const yc = AD().console || {},
  dD = {
    mapHttpRequest: Gh,
    mapHttpResponse: Gh,
    wrapRequestSerializer: Ul,
    wrapResponseSerializer: Ul,
    wrapErrorSerializer: Ul,
    req: Gh,
    res: Gh,
    err: mD,
  };
function pD(r, e) {
  return Array.isArray(r)
    ? r.filter(function (i) {
        return i !== "!stdSerializers.err";
      })
    : r === !0
    ? Object.keys(e)
    : !1;
}
function $n(r) {
  (r = r || {}), (r.browser = r.browser || {});
  const e = r.browser.transmit;
  if (e && typeof e.send != "function")
    throw Error("pino: transmit option must have a send function");
  const t = r.browser.write || yc;
  r.browser.write && (r.browser.asObject = !0);
  const i = r.serializers || {},
    n = pD(r.browser.serialize, i);
  let a = r.browser.serialize;
  Array.isArray(r.browser.serialize) &&
    r.browser.serialize.indexOf("!stdSerializers.err") > -1 &&
    (a = !1);
  const h = ["error", "fatal", "warn", "info", "debug", "trace"];
  typeof t == "function" &&
    (t.error = t.fatal = t.warn = t.info = t.debug = t.trace = t),
    r.enabled === !1 && (r.level = "silent");
  const f = r.level || "info",
    v = Object.create(t);
  v.log || (v.log = wc),
    Object.defineProperty(v, "levelVal", { get: y }),
    Object.defineProperty(v, "level", { get: _, set: C });
  const g = {
    transmit: e,
    serialize: n,
    asObject: r.browser.asObject,
    levels: h,
    timestamp: yD(r),
  };
  (v.levels = $n.levels),
    (v.level = f),
    (v.setMaxListeners =
      v.getMaxListeners =
      v.emit =
      v.addListener =
      v.on =
      v.prependListener =
      v.once =
      v.prependOnceListener =
      v.removeListener =
      v.removeAllListeners =
      v.listeners =
      v.listenerCount =
      v.eventNames =
      v.write =
      v.flush =
        wc),
    (v.serializers = i),
    (v._serialize = n),
    (v._stdErrSerialize = a),
    (v.child = P),
    e && (v._logEvent = b0());
  function y() {
    return this.level === "silent" ? 1 / 0 : this.levels.values[this.level];
  }
  function _() {
    return this._level;
  }
  function C(O) {
    if (O !== "silent" && !this.levels.values[O])
      throw Error("unknown level " + O);
    (this._level = O),
      Va(g, v, "error", "log"),
      Va(g, v, "fatal", "error"),
      Va(g, v, "warn", "error"),
      Va(g, v, "info", "log"),
      Va(g, v, "debug", "log"),
      Va(g, v, "trace", "log");
  }
  function P(O, H) {
    if (!O) throw new Error("missing bindings for child Pino");
    (H = H || {}), n && O.serializers && (H.serializers = O.serializers);
    const G = H.serializers;
    if (n && G) {
      var Q = Object.assign({}, i, G),
        z = r.browser.serialize === !0 ? Object.keys(Q) : n;
      delete O.serializers, Kf([O], z, Q, this._stdErrSerialize);
    }
    function Y(q) {
      (this._childLevel = (q._childLevel | 0) + 1),
        (this.error = Ga(q, O, "error")),
        (this.fatal = Ga(q, O, "fatal")),
        (this.warn = Ga(q, O, "warn")),
        (this.info = Ga(q, O, "info")),
        (this.debug = Ga(q, O, "debug")),
        (this.trace = Ga(q, O, "trace")),
        Q && ((this.serializers = Q), (this._serialize = z)),
        e && (this._logEvent = b0([].concat(q._logEvent.bindings, O)));
    }
    return (Y.prototype = this), new Y(this);
  }
  return v;
}
$n.levels = {
  values: { fatal: 60, error: 50, warn: 40, info: 30, debug: 20, trace: 10 },
  labels: {
    10: "trace",
    20: "debug",
    30: "info",
    40: "warn",
    50: "error",
    60: "fatal",
  },
};
$n.stdSerializers = dD;
$n.stdTimeFunctions = Object.assign(
  {},
  { nullTime: q2, epochTime: U2, unixTime: wD, isoTime: _D }
);
function Va(r, e, t, i) {
  const n = Object.getPrototypeOf(e);
  (e[t] =
    e.levelVal > e.levels.values[t] ? wc : n[t] ? n[t] : yc[t] || yc[i] || wc),
    gD(r, e, t);
}
function gD(r, e, t) {
  (!r.transmit && e[t] === wc) ||
    (e[t] = (function (i) {
      return function () {
        const a = r.timestamp(),
          h = new Array(arguments.length),
          f =
            Object.getPrototypeOf && Object.getPrototypeOf(this) === yc
              ? yc
              : this;
        for (var v = 0; v < h.length; v++) h[v] = arguments[v];
        if (
          (r.serialize &&
            !r.asObject &&
            Kf(h, this._serialize, this.serializers, this._stdErrSerialize),
          r.asObject ? i.call(f, vD(this, t, h, a)) : i.apply(f, h),
          r.transmit)
        ) {
          const g = r.transmit.level || e.level,
            y = $n.levels.values[g],
            _ = $n.levels.values[t];
          if (_ < y) return;
          bD(
            this,
            {
              ts: a,
              methodLevel: t,
              methodValue: _,
              transmitLevel: g,
              transmitValue: $n.levels.values[r.transmit.level || e.level],
              send: r.transmit.send,
              val: e.levelVal,
            },
            h
          );
        }
      };
    })(e[t]));
}
function vD(r, e, t, i) {
  r._serialize && Kf(t, r._serialize, r.serializers, r._stdErrSerialize);
  const n = t.slice();
  let a = n[0];
  const h = {};
  i && (h.time = i), (h.level = $n.levels.values[e]);
  let f = (r._childLevel | 0) + 1;
  if ((f < 1 && (f = 1), a !== null && typeof a == "object")) {
    for (; f-- && typeof n[0] == "object"; ) Object.assign(h, n.shift());
    a = n.length ? Lg(n.shift(), n) : void 0;
  } else typeof a == "string" && (a = Lg(n.shift(), n));
  return a !== void 0 && (h.msg = a), h;
}
function Kf(r, e, t, i) {
  for (const n in r)
    if (i && r[n] instanceof Error) r[n] = $n.stdSerializers.err(r[n]);
    else if (typeof r[n] == "object" && !Array.isArray(r[n]))
      for (const a in r[n])
        e && e.indexOf(a) > -1 && a in t && (r[n][a] = t[a](r[n][a]));
}
function Ga(r, e, t) {
  return function () {
    const i = new Array(1 + arguments.length);
    i[0] = e;
    for (var n = 1; n < i.length; n++) i[n] = arguments[n - 1];
    return r[t].apply(this, i);
  };
}
function bD(r, e, t) {
  const i = e.send,
    n = e.ts,
    a = e.methodLevel,
    h = e.methodValue,
    f = e.val,
    v = r._logEvent.bindings;
  Kf(
    t,
    r._serialize || Object.keys(r.serializers),
    r.serializers,
    r._stdErrSerialize === void 0 ? !0 : r._stdErrSerialize
  ),
    (r._logEvent.ts = n),
    (r._logEvent.messages = t.filter(function (g) {
      return v.indexOf(g) === -1;
    })),
    (r._logEvent.level.label = a),
    (r._logEvent.level.value = h),
    i(a, r._logEvent, f),
    (r._logEvent = b0(v));
}
function b0(r) {
  return {
    ts: 0,
    messages: [],
    bindings: r || [],
    level: { label: "", value: 0 },
  };
}
function mD(r) {
  const e = { type: r.constructor.name, msg: r.message, stack: r.stack };
  for (const t in r) e[t] === void 0 && (e[t] = r[t]);
  return e;
}
function yD(r) {
  return typeof r.timestamp == "function"
    ? r.timestamp
    : r.timestamp === !1
    ? q2
    : U2;
}
function Gh() {
  return {};
}
function Ul(r) {
  return r;
}
function wc() {}
function q2() {
  return !1;
}
function U2() {
  return Date.now();
}
function wD() {
  return Math.round(Date.now() / 1e3);
}
function _D() {
  return new Date(Date.now()).toISOString();
}
function AD() {
  function r(e) {
    return typeof e < "u" && e;
  }
  try {
    return (
      typeof globalThis < "u" ||
        Object.defineProperty(Object.prototype, "globalThis", {
          get: function () {
            return delete Object.prototype.globalThis, (this.globalThis = this);
          },
          configurable: !0,
        }),
      globalThis
    );
  } catch {
    return r(self) || r(window) || r(this) || {};
  }
}
const Rc = Lv(Ya),
  ED = { level: "info" },
  Tc = "custom_context",
  J0 = 1e3 * 1024;
let xD = class {
    constructor(e) {
      (this.nodeValue = e),
        (this.sizeInBytes = new TextEncoder().encode(this.nodeValue).length),
        (this.next = null);
    }
    get value() {
      return this.nodeValue;
    }
    get size() {
      return this.sizeInBytes;
    }
  },
  qg = class {
    constructor(e) {
      (this.head = null),
        (this.tail = null),
        (this.lengthInNodes = 0),
        (this.maxSizeInBytes = e),
        (this.sizeInBytes = 0);
    }
    append(e) {
      const t = new xD(e);
      if (t.size > this.maxSizeInBytes)
        throw new Error(
          `[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`
        );
      for (; this.size + t.size > this.maxSizeInBytes; ) this.shift();
      this.head
        ? (this.tail && (this.tail.next = t), (this.tail = t))
        : ((this.head = t), (this.tail = t)),
        this.lengthInNodes++,
        (this.sizeInBytes += t.size);
    }
    shift() {
      if (!this.head) return;
      const e = this.head;
      (this.head = this.head.next),
        this.head || (this.tail = null),
        this.lengthInNodes--,
        (this.sizeInBytes -= e.size);
    }
    toArray() {
      const e = [];
      let t = this.head;
      for (; t !== null; ) e.push(t.value), (t = t.next);
      return e;
    }
    get length() {
      return this.lengthInNodes;
    }
    get size() {
      return this.sizeInBytes;
    }
    toOrderedArray() {
      return Array.from(this);
    }
    [Symbol.iterator]() {
      let e = this.head;
      return {
        next: () => {
          if (!e) return { done: !0, value: null };
          const t = e.value;
          return (e = e.next), { done: !1, value: t };
        },
      };
    }
  },
  $2 = class {
    constructor(e, t = J0) {
      (this.level = e ?? "error"),
        (this.levelValue = Ya.levels.values[this.level]),
        (this.MAX_LOG_SIZE_IN_BYTES = t),
        (this.logs = new qg(this.MAX_LOG_SIZE_IN_BYTES));
    }
    forwardToConsole(e, t) {
      t === Ya.levels.values.error
        ? console.error(e)
        : t === Ya.levels.values.warn
        ? console.warn(e)
        : t === Ya.levels.values.debug
        ? console.debug(e)
        : t === Ya.levels.values.trace
        ? console.trace(e)
        : console.log(e);
    }
    appendToLogs(e) {
      this.logs.append(ms({ timestamp: new Date().toISOString(), log: e }));
      const t = typeof e == "string" ? JSON.parse(e).level : e.level;
      t >= this.levelValue && this.forwardToConsole(e, t);
    }
    getLogs() {
      return this.logs;
    }
    clearLogs() {
      this.logs = new qg(this.MAX_LOG_SIZE_IN_BYTES);
    }
    getLogArray() {
      return Array.from(this.logs);
    }
    logsToBlob(e) {
      const t = this.getLogArray();
      return (
        t.push(ms({ extraMetadata: e })),
        new Blob(t, { type: "application/json" })
      );
    }
  },
  SD = class {
    constructor(e, t = J0) {
      this.baseChunkLogger = new $2(e, t);
    }
    write(e) {
      this.baseChunkLogger.appendToLogs(e);
    }
    getLogs() {
      return this.baseChunkLogger.getLogs();
    }
    clearLogs() {
      this.baseChunkLogger.clearLogs();
    }
    getLogArray() {
      return this.baseChunkLogger.getLogArray();
    }
    logsToBlob(e) {
      return this.baseChunkLogger.logsToBlob(e);
    }
    downloadLogsBlobInBrowser(e) {
      const t = URL.createObjectURL(this.logsToBlob(e)),
        i = document.createElement("a");
      (i.href = t),
        (i.download = `walletconnect-logs-${new Date().toISOString()}.txt`),
        document.body.appendChild(i),
        i.click(),
        document.body.removeChild(i),
        URL.revokeObjectURL(t);
    }
  };
class MD {
  constructor(e, t = J0) {
    this.baseChunkLogger = new $2(e, t);
  }
  write(e) {
    this.baseChunkLogger.appendToLogs(e);
  }
  getLogs() {
    return this.baseChunkLogger.getLogs();
  }
  clearLogs() {
    this.baseChunkLogger.clearLogs();
  }
  getLogArray() {
    return this.baseChunkLogger.getLogArray();
  }
  logsToBlob(e) {
    return this.baseChunkLogger.logsToBlob(e);
  }
}
var ID = Object.defineProperty,
  DD = Object.defineProperties,
  PD = Object.getOwnPropertyDescriptors,
  Ug = Object.getOwnPropertySymbols,
  CD = Object.prototype.hasOwnProperty,
  OD = Object.prototype.propertyIsEnumerable,
  $g = (r, e, t) =>
    e in r
      ? ID(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Af = (r, e) => {
    for (var t in e || (e = {})) CD.call(e, t) && $g(r, t, e[t]);
    if (Ug) for (var t of Ug(e)) OD.call(e, t) && $g(r, t, e[t]);
    return r;
  },
  Ef = (r, e) => DD(r, PD(e));
function Vf(r) {
  return Ef(Af({}, r), { level: (r == null ? void 0 : r.level) || ED.level });
}
function ND(r, e = Tc) {
  return r[e] || "";
}
function RD(r, e, t = Tc) {
  return (r[t] = e), r;
}
function pi(r, e = Tc) {
  let t = "";
  return (
    typeof r.bindings > "u" ? (t = ND(r, e)) : (t = r.bindings().context || ""),
    t
  );
}
function TD(r, e, t = Tc) {
  const i = pi(r, t);
  return i.trim() ? `${i}/${e}` : e;
}
function Zr(r, e, t = Tc) {
  const i = TD(r, e, t),
    n = r.child({ context: i });
  return RD(n, i, t);
}
function FD(r) {
  var e, t;
  const i = new SD((e = r.opts) == null ? void 0 : e.level, r.maxSizeInBytes);
  return {
    logger: Rc(
      Ef(Af({}, r.opts), {
        level: "trace",
        browser: Ef(Af({}, (t = r.opts) == null ? void 0 : t.browser), {
          write: (n) => i.write(n),
        }),
      })
    ),
    chunkLoggerController: i,
  };
}
function BD(r) {
  var e;
  const t = new MD((e = r.opts) == null ? void 0 : e.level, r.maxSizeInBytes);
  return {
    logger: Rc(Ef(Af({}, r.opts), { level: "trace" }), t),
    chunkLoggerController: t,
  };
}
function LD(r) {
  return typeof r.loggerOverride < "u" && typeof r.loggerOverride != "string"
    ? { logger: r.loggerOverride, chunkLoggerController: null }
    : typeof window < "u"
    ? FD(r)
    : BD(r);
}
let qD = class extends Ea {
    constructor(e) {
      super(), (this.opts = e), (this.protocol = "wc"), (this.version = 2);
    }
  },
  UD = class extends Ea {
    constructor(e, t) {
      super(), (this.core = e), (this.logger = t), (this.records = new Map());
    }
  },
  $D = class {
    constructor(e, t) {
      (this.logger = e), (this.core = t);
    }
  },
  zD = class extends Ea {
    constructor(e, t) {
      super(), (this.relayer = e), (this.logger = t);
    }
  },
  kD = class extends Ea {
    constructor(e) {
      super();
    }
  },
  jD = class {
    constructor(e, t, i, n) {
      (this.core = e), (this.logger = t), (this.name = i);
    }
  },
  HD = class extends Ea {
    constructor(e, t) {
      super(), (this.relayer = e), (this.logger = t);
    }
  },
  KD = class extends Ea {
    constructor(e, t) {
      super(), (this.core = e), (this.logger = t);
    }
  },
  VD = class {
    constructor(e, t, i) {
      (this.core = e), (this.logger = t), (this.store = i);
    }
  },
  GD = class {
    constructor(e, t) {
      (this.projectId = e), (this.logger = t);
    }
  },
  WD = class {
    constructor(e, t, i) {
      (this.core = e), (this.logger = t), (this.telemetryEnabled = i);
    }
  },
  JD = class {
    constructor(e) {
      (this.opts = e), (this.protocol = "wc"), (this.version = 2);
    }
  },
  YD = class {
    constructor(e) {
      this.client = e;
    }
  };
const QD = "PARSE_ERROR",
  XD = "INVALID_REQUEST",
  ZD = "METHOD_NOT_FOUND",
  eP = "INVALID_PARAMS",
  z2 = "INTERNAL_ERROR",
  Y0 = "SERVER_ERROR",
  tP = [-32700, -32600, -32601, -32602, -32603],
  uc = {
    [QD]: { code: -32700, message: "Parse error" },
    [XD]: { code: -32600, message: "Invalid Request" },
    [ZD]: { code: -32601, message: "Method not found" },
    [eP]: { code: -32602, message: "Invalid params" },
    [z2]: { code: -32603, message: "Internal error" },
    [Y0]: { code: -32e3, message: "Server error" },
  },
  k2 = Y0;
function rP(r) {
  return tP.includes(r);
}
function zg(r) {
  return Object.keys(uc).includes(r) ? uc[r] : uc[k2];
}
function iP(r) {
  const e = Object.values(uc).find((t) => t.code === r);
  return e || uc[k2];
}
function j2(r, e, t) {
  return r.message.includes("getaddrinfo ENOTFOUND") ||
    r.message.includes("connect ECONNREFUSED")
    ? new Error(`Unavailable ${t} RPC url at ${e}`)
    : r;
}
var H2 = {},
  os = {},
  kg;
function nP() {
  if (kg) return os;
  (kg = 1),
    Object.defineProperty(os, "__esModule", { value: !0 }),
    (os.isBrowserCryptoAvailable =
      os.getSubtleCrypto =
      os.getBrowerCrypto =
        void 0);
  function r() {
    return (
      (ln === null || ln === void 0 ? void 0 : ln.crypto) ||
      (ln === null || ln === void 0 ? void 0 : ln.msCrypto) ||
      {}
    );
  }
  os.getBrowerCrypto = r;
  function e() {
    const i = r();
    return i.subtle || i.webkitSubtle;
  }
  os.getSubtleCrypto = e;
  function t() {
    return !!r() && !!e();
  }
  return (os.isBrowserCryptoAvailable = t), os;
}
var cs = {},
  jg;
function sP() {
  if (jg) return cs;
  (jg = 1),
    Object.defineProperty(cs, "__esModule", { value: !0 }),
    (cs.isBrowser = cs.isNode = cs.isReactNative = void 0);
  function r() {
    return (
      typeof document > "u" &&
      typeof navigator < "u" &&
      navigator.product === "ReactNative"
    );
  }
  cs.isReactNative = r;
  function e() {
    return (
      typeof process < "u" &&
      typeof process.versions < "u" &&
      typeof process.versions.node < "u"
    );
  }
  cs.isNode = e;
  function t() {
    return !r() && !e();
  }
  return (cs.isBrowser = t), cs;
}
(function (r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  const e = _c;
  e.__exportStar(nP(), r), e.__exportStar(sP(), r);
})(H2);
function Rs(r = 3) {
  const e = Date.now() * Math.pow(10, r),
    t = Math.floor(Math.random() * Math.pow(10, r));
  return e + t;
}
function ua(r = 6) {
  return BigInt(Rs(r));
}
function qs(r, e, t) {
  return { id: t || Rs(), jsonrpc: "2.0", method: r, params: e };
}
function Gf(r, e) {
  return { id: r, jsonrpc: "2.0", result: e };
}
function Wf(r, e, t) {
  return { id: r, jsonrpc: "2.0", error: aP(e, t) };
}
function aP(r, e) {
  return typeof r > "u"
    ? zg(z2)
    : (typeof r == "string" &&
        (r = Object.assign(Object.assign({}, zg(Y0)), { message: r })),
      typeof e < "u" && (r.data = e),
      rP(r.code) && (r = iP(r.code)),
      r);
}
class oP {}
class cP extends oP {
  constructor() {
    super();
  }
}
class hP extends cP {
  constructor(e) {
    super();
  }
}
const fP = "^https?:",
  uP = "^wss?:";
function lP(r) {
  const e = r.match(new RegExp(/^\w+:/, "gi"));
  if (!(!e || !e.length)) return e[0];
}
function K2(r, e) {
  const t = lP(r);
  return typeof t > "u" ? !1 : new RegExp(e).test(t);
}
function Hg(r) {
  return K2(r, fP);
}
function Kg(r) {
  return K2(r, uP);
}
function dP(r) {
  return new RegExp("wss?://localhost(:d{2,5})?").test(r);
}
function V2(r) {
  return (
    typeof r == "object" && "id" in r && "jsonrpc" in r && r.jsonrpc === "2.0"
  );
}
function Q0(r) {
  return V2(r) && "method" in r;
}
function Jf(r) {
  return V2(r) && (Dn(r) || zi(r));
}
function Dn(r) {
  return "result" in r;
}
function zi(r) {
  return "error" in r;
}
class vn extends hP {
  constructor(e) {
    super(e),
      (this.events = new Hi.EventEmitter()),
      (this.hasRegisteredEventListeners = !1),
      (this.connection = this.setConnection(e)),
      this.connection.connected && this.registerEventListeners();
  }
  async connect(e = this.connection) {
    await this.open(e);
  }
  async disconnect() {
    await this.close();
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async request(e, t) {
    return this.requestStrict(
      qs(e.method, e.params || [], e.id || ua().toString()),
      t
    );
  }
  async requestStrict(e, t) {
    return new Promise(async (i, n) => {
      if (!this.connection.connected)
        try {
          await this.open();
        } catch (a) {
          n(a);
        }
      this.events.on(`${e.id}`, (a) => {
        zi(a) ? n(a.error) : i(a.result);
      });
      try {
        await this.connection.send(e, t);
      } catch (a) {
        n(a);
      }
    });
  }
  setConnection(e = this.connection) {
    return e;
  }
  onPayload(e) {
    this.events.emit("payload", e),
      Jf(e)
        ? this.events.emit(`${e.id}`, e)
        : this.events.emit("message", { type: e.method, data: e.params });
  }
  onClose(e) {
    e &&
      e.code === 3e3 &&
      this.events.emit(
        "error",
        new Error(
          `WebSocket connection closed abnormally with code: ${e.code} ${
            e.reason ? `(${e.reason})` : ""
          }`
        )
      ),
      this.events.emit("disconnect");
  }
  async open(e = this.connection) {
    (this.connection === e && this.connection.connected) ||
      (this.connection.connected && this.close(),
      typeof e == "string" &&
        (await this.connection.open(e), (e = this.connection)),
      (this.connection = this.setConnection(e)),
      await this.connection.open(),
      this.registerEventListeners(),
      this.events.emit("connect"));
  }
  async close() {
    await this.connection.close();
  }
  registerEventListeners() {
    this.hasRegisteredEventListeners ||
      (this.connection.on("payload", (e) => this.onPayload(e)),
      this.connection.on("close", (e) => this.onClose(e)),
      this.connection.on("error", (e) => this.events.emit("error", e)),
      this.connection.on("register_error", (e) => this.onClose()),
      (this.hasRegisteredEventListeners = !0));
  }
}
const pP = () =>
    typeof WebSocket < "u"
      ? WebSocket
      : typeof global < "u" && typeof global.WebSocket < "u"
      ? global.WebSocket
      : typeof window < "u" && typeof window.WebSocket < "u"
      ? window.WebSocket
      : typeof self < "u" && typeof self.WebSocket < "u"
      ? self.WebSocket
      : require("ws"),
  gP = () =>
    typeof WebSocket < "u" ||
    (typeof global < "u" && typeof global.WebSocket < "u") ||
    (typeof window < "u" && typeof window.WebSocket < "u") ||
    (typeof self < "u" && typeof self.WebSocket < "u"),
  Vg = (r) => r.split("?")[0],
  Gg = 10,
  vP = pP();
let bP = class {
  constructor(e) {
    if (
      ((this.url = e),
      (this.events = new Hi.EventEmitter()),
      (this.registering = !1),
      !Kg(e))
    )
      throw new Error(
        `Provided URL is not compatible with WebSocket connection: ${e}`
      );
    this.url = e;
  }
  get connected() {
    return typeof this.socket < "u";
  }
  get connecting() {
    return this.registering;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async open(e = this.url) {
    await this.register(e);
  }
  async close() {
    return new Promise((e, t) => {
      if (typeof this.socket > "u") {
        t(new Error("Connection already closed"));
        return;
      }
      (this.socket.onclose = (i) => {
        this.onClose(i), e();
      }),
        this.socket.close();
    });
  }
  async send(e) {
    typeof this.socket > "u" && (this.socket = await this.register());
    try {
      this.socket.send(ms(e));
    } catch (t) {
      this.onError(e.id, t);
    }
  }
  register(e = this.url) {
    if (!Kg(e))
      throw new Error(
        `Provided URL is not compatible with WebSocket connection: ${e}`
      );
    if (this.registering) {
      const t = this.events.getMaxListeners();
      return (
        (this.events.listenerCount("register_error") >= t ||
          this.events.listenerCount("open") >= t) &&
          this.events.setMaxListeners(t + 1),
        new Promise((i, n) => {
          this.events.once("register_error", (a) => {
            this.resetMaxListeners(), n(a);
          }),
            this.events.once("open", () => {
              if ((this.resetMaxListeners(), typeof this.socket > "u"))
                return n(
                  new Error("WebSocket connection is missing or invalid")
                );
              i(this.socket);
            });
        })
      );
    }
    return (
      (this.url = e),
      (this.registering = !0),
      new Promise((t, i) => {
        const n = new URLSearchParams(e).get("origin"),
          a = H2.isReactNative()
            ? { headers: { origin: n } }
            : { rejectUnauthorized: !dP(e) },
          h = new vP(e, [], a);
        gP()
          ? (h.onerror = (f) => {
              const v = f;
              i(this.emitError(v.error));
            })
          : h.on("error", (f) => {
              i(this.emitError(f));
            }),
          (h.onopen = () => {
            this.onOpen(h), t(h);
          });
      })
    );
  }
  onOpen(e) {
    (e.onmessage = (t) => this.onPayload(t)),
      (e.onclose = (t) => this.onClose(t)),
      (this.socket = e),
      (this.registering = !1),
      this.events.emit("open");
  }
  onClose(e) {
    (this.socket = void 0),
      (this.registering = !1),
      this.events.emit("close", e);
  }
  onPayload(e) {
    if (typeof e.data > "u") return;
    const t = typeof e.data == "string" ? va(e.data) : e.data;
    this.events.emit("payload", t);
  }
  onError(e, t) {
    const i = this.parseError(t),
      n = i.message || i.toString(),
      a = Wf(e, n);
    this.events.emit("payload", a);
  }
  parseError(e, t = this.url) {
    return j2(e, Vg(t), "WS");
  }
  resetMaxListeners() {
    this.events.getMaxListeners() > Gg && this.events.setMaxListeners(Gg);
  }
  emitError(e) {
    const t = this.parseError(
      new Error(
        (e == null ? void 0 : e.message) ||
          `WebSocket connection failed for host: ${Vg(this.url)}`
      )
    );
    return this.events.emit("register_error", t), t;
  }
};
var xf = { exports: {} };
xf.exports;
(function (r, e) {
  var t = 200,
    i = "__lodash_hash_undefined__",
    n = 1,
    a = 2,
    h = 9007199254740991,
    f = "[object Arguments]",
    v = "[object Array]",
    g = "[object AsyncFunction]",
    y = "[object Boolean]",
    _ = "[object Date]",
    C = "[object Error]",
    P = "[object Function]",
    O = "[object GeneratorFunction]",
    H = "[object Map]",
    G = "[object Number]",
    Q = "[object Null]",
    z = "[object Object]",
    Y = "[object Promise]",
    q = "[object Proxy]",
    k = "[object RegExp]",
    V = "[object Set]",
    A = "[object String]",
    F = "[object Symbol]",
    ae = "[object Undefined]",
    de = "[object WeakMap]",
    U = "[object ArrayBuffer]",
    m = "[object DataView]",
    c = "[object Float32Array]",
    l = "[object Float64Array]",
    b = "[object Int8Array]",
    x = "[object Int16Array]",
    M = "[object Int32Array]",
    D = "[object Uint8Array]",
    S = "[object Uint8ClampedArray]",
    d = "[object Uint16Array]",
    p = "[object Uint32Array]",
    R = /[\\^$.*+?()[\]{}|]/g,
    Z = /^\[object .+?Constructor\]$/,
    se = /^(?:0|[1-9]\d*)$/,
    I = {};
  (I[c] = I[l] = I[b] = I[x] = I[M] = I[D] = I[S] = I[d] = I[p] = !0),
    (I[f] =
      I[v] =
      I[U] =
      I[y] =
      I[m] =
      I[_] =
      I[C] =
      I[P] =
      I[H] =
      I[G] =
      I[z] =
      I[k] =
      I[V] =
      I[A] =
      I[de] =
        !1);
  var ee = typeof ln == "object" && ln && ln.Object === Object && ln,
    B = typeof self == "object" && self && self.Object === Object && self,
    j = ee || B || Function("return this")(),
    K = e && !e.nodeType && e,
    w = K && !0 && r && !r.nodeType && r,
    $ = w && w.exports === K,
    ne = $ && ee.process,
    ce = (function () {
      try {
        return ne && ne.binding && ne.binding("util");
      } catch {}
    })(),
    fe = ce && ce.isTypedArray;
  function ye(W, te) {
    for (
      var pe = -1, Ue = W == null ? 0 : W.length, kt = 0, pt = [];
      ++pe < Ue;

    ) {
      var Jt = W[pe];
      te(Jt, pe, W) && (pt[kt++] = Jt);
    }
    return pt;
  }
  function we(W, te) {
    for (var pe = -1, Ue = te.length, kt = W.length; ++pe < Ue; )
      W[kt + pe] = te[pe];
    return W;
  }
  function Ne(W, te) {
    for (var pe = -1, Ue = W == null ? 0 : W.length; ++pe < Ue; )
      if (te(W[pe], pe, W)) return !0;
    return !1;
  }
  function Qe(W, te) {
    for (var pe = -1, Ue = Array(W); ++pe < W; ) Ue[pe] = te(pe);
    return Ue;
  }
  function Pe(W) {
    return function (te) {
      return W(te);
    };
  }
  function Re(W, te) {
    return W.has(te);
  }
  function Me(W, te) {
    return W == null ? void 0 : W[te];
  }
  function me(W) {
    var te = -1,
      pe = Array(W.size);
    return (
      W.forEach(function (Ue, kt) {
        pe[++te] = [kt, Ue];
      }),
      pe
    );
  }
  function Ce(W, te) {
    return function (pe) {
      return W(te(pe));
    };
  }
  function Te(W) {
    var te = -1,
      pe = Array(W.size);
    return (
      W.forEach(function (Ue) {
        pe[++te] = Ue;
      }),
      pe
    );
  }
  var ve = Array.prototype,
    Oe = Function.prototype,
    Se = Object.prototype,
    be = j["__core-js_shared__"],
    qe = Oe.toString,
    Ie = Se.hasOwnProperty,
    _e = (function () {
      var W = /[^.]+$/.exec((be && be.keys && be.keys.IE_PROTO) || "");
      return W ? "Symbol(src)_1." + W : "";
    })(),
    He = Se.toString,
    Ve = RegExp(
      "^" +
        qe
          .call(Ie)
          .replace(R, "\\$&")
          .replace(
            /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
            "$1.*?"
          ) +
        "$"
    ),
    Ee = $ ? j.Buffer : void 0,
    Ke = j.Symbol,
    ut = j.Uint8Array,
    Ge = Se.propertyIsEnumerable,
    _t = ve.splice,
    lt = Ke ? Ke.toStringTag : void 0,
    Je = Object.getOwnPropertySymbols,
    Et = Ee ? Ee.isBuffer : void 0,
    Mt = Ce(Object.keys, Object),
    Fe = gi(j, "DataView"),
    Xe = gi(j, "Map"),
    tt = gi(j, "Promise"),
    Be = gi(j, "Set"),
    et = gi(j, "WeakMap"),
    Ze = gi(Object, "create"),
    $e = Yn(Fe),
    ht = Yn(Xe),
    rt = Yn(tt),
    ze = Yn(Be),
    it = Yn(et),
    st = Ke ? Ke.prototype : void 0,
    Le = st ? st.valueOf : void 0;
  function Ye(W) {
    var te = -1,
      pe = W == null ? 0 : W.length;
    for (this.clear(); ++te < pe; ) {
      var Ue = W[te];
      this.set(Ue[0], Ue[1]);
    }
  }
  function ft() {
    (this.__data__ = Ze ? Ze(null) : {}), (this.size = 0);
  }
  function ke(W) {
    var te = this.has(W) && delete this.__data__[W];
    return (this.size -= te ? 1 : 0), te;
  }
  function Rt(W) {
    var te = this.__data__;
    if (Ze) {
      var pe = te[W];
      return pe === i ? void 0 : pe;
    }
    return Ie.call(te, W) ? te[W] : void 0;
  }
  function Tt(W) {
    var te = this.__data__;
    return Ze ? te[W] !== void 0 : Ie.call(te, W);
  }
  function at(W, te) {
    var pe = this.__data__;
    return (
      (this.size += this.has(W) ? 0 : 1),
      (pe[W] = Ze && te === void 0 ? i : te),
      this
    );
  }
  (Ye.prototype.clear = ft),
    (Ye.prototype.delete = ke),
    (Ye.prototype.get = Rt),
    (Ye.prototype.has = Tt),
    (Ye.prototype.set = at);
  function bt(W) {
    var te = -1,
      pe = W == null ? 0 : W.length;
    for (this.clear(); ++te < pe; ) {
      var Ue = W[te];
      this.set(Ue[0], Ue[1]);
    }
  }
  function Rr() {
    (this.__data__ = []), (this.size = 0);
  }
  function Tr(W) {
    var te = this.__data__,
      pe = Hs(te, W);
    if (pe < 0) return !1;
    var Ue = te.length - 1;
    return pe == Ue ? te.pop() : _t.call(te, pe, 1), --this.size, !0;
  }
  function Fr(W) {
    var te = this.__data__,
      pe = Hs(te, W);
    return pe < 0 ? void 0 : te[pe][1];
  }
  function Br(W) {
    return Hs(this.__data__, W) > -1;
  }
  function Lr(W, te) {
    var pe = this.__data__,
      Ue = Hs(pe, W);
    return Ue < 0 ? (++this.size, pe.push([W, te])) : (pe[Ue][1] = te), this;
  }
  (bt.prototype.clear = Rr),
    (bt.prototype.delete = Tr),
    (bt.prototype.get = Fr),
    (bt.prototype.has = Br),
    (bt.prototype.set = Lr);
  function er(W) {
    var te = -1,
      pe = W == null ? 0 : W.length;
    for (this.clear(); ++te < pe; ) {
      var Ue = W[te];
      this.set(Ue[0], Ue[1]);
    }
  }
  function ei() {
    (this.size = 0),
      (this.__data__ = {
        hash: new Ye(),
        map: new (Xe || bt)(),
        string: new Ye(),
      });
  }
  function Gi(W) {
    var te = ws(this, W).delete(W);
    return (this.size -= te ? 1 : 0), te;
  }
  function ti(W) {
    return ws(this, W).get(W);
  }
  function Wi(W) {
    return ws(this, W).has(W);
  }
  function Ji(W, te) {
    var pe = ws(this, W),
      Ue = pe.size;
    return pe.set(W, te), (this.size += pe.size == Ue ? 0 : 1), this;
  }
  (er.prototype.clear = ei),
    (er.prototype.delete = Gi),
    (er.prototype.get = ti),
    (er.prototype.has = Wi),
    (er.prototype.set = Ji);
  function ri(W) {
    var te = -1,
      pe = W == null ? 0 : W.length;
    for (this.__data__ = new er(); ++te < pe; ) this.add(W[te]);
  }
  function Mi(W) {
    return this.__data__.set(W, i), this;
  }
  function Ii(W) {
    return this.__data__.has(W);
  }
  (ri.prototype.add = ri.prototype.push = Mi), (ri.prototype.has = Ii);
  function lr(W) {
    var te = (this.__data__ = new bt(W));
    this.size = te.size;
  }
  function Yi() {
    (this.__data__ = new bt()), (this.size = 0);
  }
  function Qi(W) {
    var te = this.__data__,
      pe = te.delete(W);
    return (this.size = te.size), pe;
  }
  function Xi(W) {
    return this.__data__.get(W);
  }
  function js(W) {
    return this.__data__.has(W);
  }
  function Bc(W, te) {
    var pe = this.__data__;
    if (pe instanceof bt) {
      var Ue = pe.__data__;
      if (!Xe || Ue.length < t - 1)
        return Ue.push([W, te]), (this.size = ++pe.size), this;
      pe = this.__data__ = new er(Ue);
    }
    return pe.set(W, te), (this.size = pe.size), this;
  }
  (lr.prototype.clear = Yi),
    (lr.prototype.delete = Qi),
    (lr.prototype.get = Xi),
    (lr.prototype.has = js),
    (lr.prototype.set = Bc);
  function Lc(W, te) {
    var pe = Ca(W),
      Ue = !pe && Jc(W),
      kt = !pe && !Ue && Io(W),
      pt = !pe && !Ue && !kt && Xc(W),
      Jt = pe || Ue || kt || pt,
      fr = Jt ? Qe(W.length, String) : [],
      Ot = fr.length;
    for (var jt in W)
      (te || Ie.call(W, jt)) &&
        !(
          Jt &&
          (jt == "length" ||
            (kt && (jt == "offset" || jt == "parent")) ||
            (pt &&
              (jt == "buffer" || jt == "byteLength" || jt == "byteOffset")) ||
            Hc(jt, Ot))
        ) &&
        fr.push(jt);
    return fr;
  }
  function Hs(W, te) {
    for (var pe = W.length; pe--; ) if (Wc(W[pe][0], te)) return pe;
    return -1;
  }
  function So(W, te, pe) {
    var Ue = te(W);
    return Ca(W) ? Ue : we(Ue, pe(W));
  }
  function Ks(W) {
    return W == null
      ? W === void 0
        ? ae
        : Q
      : lt && lt in Object(W)
      ? kc(W)
      : eu(W);
  }
  function Mo(W) {
    return Gs(W) && Ks(W) == f;
  }
  function Vs(W, te, pe, Ue, kt) {
    return W === te
      ? !0
      : W == null || te == null || (!Gs(W) && !Gs(te))
      ? W !== W && te !== te
      : qc(W, te, pe, Ue, Vs, kt);
  }
  function qc(W, te, pe, Ue, kt, pt) {
    var Jt = Ca(W),
      fr = Ca(te),
      Ot = Jt ? v : mn(W),
      jt = fr ? v : mn(te);
    (Ot = Ot == f ? z : Ot), (jt = jt == f ? z : jt);
    var sr = Ot == z,
      ii = jt == z,
      ur = Ot == jt;
    if (ur && Io(W)) {
      if (!Io(te)) return !1;
      (Jt = !0), (sr = !1);
    }
    if (ur && !sr)
      return (
        pt || (pt = new lr()),
        Jt || Xc(W) ? Da(W, te, pe, Ue, kt, pt) : Zf(W, te, Ot, pe, Ue, kt, pt)
      );
    if (!(pe & n)) {
      var Yt = sr && Ie.call(W, "__wrapped__"),
        jr = ii && Ie.call(te, "__wrapped__");
      if (Yt || jr) {
        var Zi = Yt ? W.value() : W,
          Di = jr ? te.value() : te;
        return pt || (pt = new lr()), kt(Zi, Di, pe, Ue, pt);
      }
    }
    return ur ? (pt || (pt = new lr()), zc(W, te, pe, Ue, kt, pt)) : !1;
  }
  function Xf(W) {
    if (!Qc(W) || Vc(W)) return !1;
    var te = Oa(W) ? Ve : Z;
    return te.test(Yn(W));
  }
  function Uc(W) {
    return Gs(W) && Yc(W.length) && !!I[Ks(W)];
  }
  function $c(W) {
    if (!Gc(W)) return Mt(W);
    var te = [];
    for (var pe in Object(W))
      Ie.call(W, pe) && pe != "constructor" && te.push(pe);
    return te;
  }
  function Da(W, te, pe, Ue, kt, pt) {
    var Jt = pe & n,
      fr = W.length,
      Ot = te.length;
    if (fr != Ot && !(Jt && Ot > fr)) return !1;
    var jt = pt.get(W);
    if (jt && pt.get(te)) return jt == te;
    var sr = -1,
      ii = !0,
      ur = pe & a ? new ri() : void 0;
    for (pt.set(W, te), pt.set(te, W); ++sr < fr; ) {
      var Yt = W[sr],
        jr = te[sr];
      if (Ue)
        var Zi = Jt ? Ue(jr, Yt, sr, te, W, pt) : Ue(Yt, jr, sr, W, te, pt);
      if (Zi !== void 0) {
        if (Zi) continue;
        ii = !1;
        break;
      }
      if (ur) {
        if (
          !Ne(te, function (Di, yn) {
            if (!Re(ur, yn) && (Yt === Di || kt(Yt, Di, pe, Ue, pt)))
              return ur.push(yn);
          })
        ) {
          ii = !1;
          break;
        }
      } else if (!(Yt === jr || kt(Yt, jr, pe, Ue, pt))) {
        ii = !1;
        break;
      }
    }
    return pt.delete(W), pt.delete(te), ii;
  }
  function Zf(W, te, pe, Ue, kt, pt, Jt) {
    switch (pe) {
      case m:
        if (W.byteLength != te.byteLength || W.byteOffset != te.byteOffset)
          return !1;
        (W = W.buffer), (te = te.buffer);
      case U:
        return !(W.byteLength != te.byteLength || !pt(new ut(W), new ut(te)));
      case y:
      case _:
      case G:
        return Wc(+W, +te);
      case C:
        return W.name == te.name && W.message == te.message;
      case k:
      case A:
        return W == te + "";
      case H:
        var fr = me;
      case V:
        var Ot = Ue & n;
        if ((fr || (fr = Te), W.size != te.size && !Ot)) return !1;
        var jt = Jt.get(W);
        if (jt) return jt == te;
        (Ue |= a), Jt.set(W, te);
        var sr = Da(fr(W), fr(te), Ue, kt, pt, Jt);
        return Jt.delete(W), sr;
      case F:
        if (Le) return Le.call(W) == Le.call(te);
    }
    return !1;
  }
  function zc(W, te, pe, Ue, kt, pt) {
    var Jt = pe & n,
      fr = Pa(W),
      Ot = fr.length,
      jt = Pa(te),
      sr = jt.length;
    if (Ot != sr && !Jt) return !1;
    for (var ii = Ot; ii--; ) {
      var ur = fr[ii];
      if (!(Jt ? ur in te : Ie.call(te, ur))) return !1;
    }
    var Yt = pt.get(W);
    if (Yt && pt.get(te)) return Yt == te;
    var jr = !0;
    pt.set(W, te), pt.set(te, W);
    for (var Zi = Jt; ++ii < Ot; ) {
      ur = fr[ii];
      var Di = W[ur],
        yn = te[ur];
      if (Ue)
        var Do = Jt ? Ue(yn, Di, ur, te, W, pt) : Ue(Di, yn, ur, W, te, pt);
      if (!(Do === void 0 ? Di === yn || kt(Di, yn, pe, Ue, pt) : Do)) {
        jr = !1;
        break;
      }
      Zi || (Zi = ur == "constructor");
    }
    if (jr && !Zi) {
      var Ws = W.constructor,
        br = te.constructor;
      Ws != br &&
        "constructor" in W &&
        "constructor" in te &&
        !(
          typeof Ws == "function" &&
          Ws instanceof Ws &&
          typeof br == "function" &&
          br instanceof br
        ) &&
        (jr = !1);
    }
    return pt.delete(W), pt.delete(te), jr;
  }
  function Pa(W) {
    return So(W, iu, jc);
  }
  function ws(W, te) {
    var pe = W.__data__;
    return Kc(te) ? pe[typeof te == "string" ? "string" : "hash"] : pe.map;
  }
  function gi(W, te) {
    var pe = Me(W, te);
    return Xf(pe) ? pe : void 0;
  }
  function kc(W) {
    var te = Ie.call(W, lt),
      pe = W[lt];
    try {
      W[lt] = void 0;
      var Ue = !0;
    } catch {}
    var kt = He.call(W);
    return Ue && (te ? (W[lt] = pe) : delete W[lt]), kt;
  }
  var jc = Je
      ? function (W) {
          return W == null
            ? []
            : ((W = Object(W)),
              ye(Je(W), function (te) {
                return Ge.call(W, te);
              }));
        }
      : zt,
    mn = Ks;
  ((Fe && mn(new Fe(new ArrayBuffer(1))) != m) ||
    (Xe && mn(new Xe()) != H) ||
    (tt && mn(tt.resolve()) != Y) ||
    (Be && mn(new Be()) != V) ||
    (et && mn(new et()) != de)) &&
    (mn = function (W) {
      var te = Ks(W),
        pe = te == z ? W.constructor : void 0,
        Ue = pe ? Yn(pe) : "";
      if (Ue)
        switch (Ue) {
          case $e:
            return m;
          case ht:
            return H;
          case rt:
            return Y;
          case ze:
            return V;
          case it:
            return de;
        }
      return te;
    });
  function Hc(W, te) {
    return (
      (te = te ?? h),
      !!te &&
        (typeof W == "number" || se.test(W)) &&
        W > -1 &&
        W % 1 == 0 &&
        W < te
    );
  }
  function Kc(W) {
    var te = typeof W;
    return te == "string" || te == "number" || te == "symbol" || te == "boolean"
      ? W !== "__proto__"
      : W === null;
  }
  function Vc(W) {
    return !!_e && _e in W;
  }
  function Gc(W) {
    var te = W && W.constructor,
      pe = (typeof te == "function" && te.prototype) || Se;
    return W === pe;
  }
  function eu(W) {
    return He.call(W);
  }
  function Yn(W) {
    if (W != null) {
      try {
        return qe.call(W);
      } catch {}
      try {
        return W + "";
      } catch {}
    }
    return "";
  }
  function Wc(W, te) {
    return W === te || (W !== W && te !== te);
  }
  var Jc = Mo(
      (function () {
        return arguments;
      })()
    )
      ? Mo
      : function (W) {
          return Gs(W) && Ie.call(W, "callee") && !Ge.call(W, "callee");
        },
    Ca = Array.isArray;
  function tu(W) {
    return W != null && Yc(W.length) && !Oa(W);
  }
  var Io = Et || $t;
  function ru(W, te) {
    return Vs(W, te);
  }
  function Oa(W) {
    if (!Qc(W)) return !1;
    var te = Ks(W);
    return te == P || te == O || te == g || te == q;
  }
  function Yc(W) {
    return typeof W == "number" && W > -1 && W % 1 == 0 && W <= h;
  }
  function Qc(W) {
    var te = typeof W;
    return W != null && (te == "object" || te == "function");
  }
  function Gs(W) {
    return W != null && typeof W == "object";
  }
  var Xc = fe ? Pe(fe) : Uc;
  function iu(W) {
    return tu(W) ? Lc(W) : $c(W);
  }
  function zt() {
    return [];
  }
  function $t() {
    return !1;
  }
  r.exports = ru;
})(xf, xf.exports);
var mP = xf.exports;
const yP = Lv(mP),
  G2 = "wc",
  W2 = 2,
  X0 = "core",
  Kn = `${G2}@2:${X0}:`,
  wP = { name: X0, logger: "error" },
  _P = { database: ":memory:" },
  AP = "crypto",
  Wg = "client_ed25519_seed",
  EP = xe.ONE_DAY,
  xP = "keychain",
  SP = "0.3",
  MP = "messages",
  IP = "0.3",
  DP = xe.SIX_HOURS,
  PP = "publisher",
  J2 = "irn",
  CP = "error",
  Y2 = "wss://relay.walletconnect.org",
  OP = "relayer",
  Jr = {
    message: "relayer_message",
    message_ack: "relayer_message_ack",
    connect: "relayer_connect",
    disconnect: "relayer_disconnect",
    error: "relayer_error",
    connection_stalled: "relayer_connection_stalled",
    transport_closed: "relayer_transport_closed",
    publish: "relayer_publish",
  },
  NP = "_subscription",
  qi = {
    payload: "payload",
    connect: "connect",
    disconnect: "disconnect",
    error: "error",
  },
  RP = 0.1,
  m0 = "2.17.0",
  Kt = { link_mode: "link_mode", relay: "relay" },
  TP = "0.3",
  FP = "WALLETCONNECT_CLIENT_ID",
  Jg = "WALLETCONNECT_LINK_MODE_APPS",
  Pn = {
    created: "subscription_created",
    deleted: "subscription_deleted",
    expired: "subscription_expired",
    disabled: "subscription_disabled",
    sync: "subscription_sync",
    resubscribed: "subscription_resubscribed",
  },
  BP = "subscription",
  LP = "0.3",
  qP = xe.FIVE_SECONDS * 1e3,
  UP = "pairing",
  $P = "0.3",
  Zo = {
    wc_pairingDelete: {
      req: { ttl: xe.ONE_DAY, prompt: !1, tag: 1e3 },
      res: { ttl: xe.ONE_DAY, prompt: !1, tag: 1001 },
    },
    wc_pairingPing: {
      req: { ttl: xe.THIRTY_SECONDS, prompt: !1, tag: 1002 },
      res: { ttl: xe.THIRTY_SECONDS, prompt: !1, tag: 1003 },
    },
    unregistered_method: {
      req: { ttl: xe.ONE_DAY, prompt: !1, tag: 0 },
      res: { ttl: xe.ONE_DAY, prompt: !1, tag: 0 },
    },
  },
  ha = {
    create: "pairing_create",
    expire: "pairing_expire",
    delete: "pairing_delete",
    ping: "pairing_ping",
  },
  on = {
    created: "history_created",
    updated: "history_updated",
    deleted: "history_deleted",
    sync: "history_sync",
  },
  zP = "history",
  kP = "0.3",
  jP = "expirer",
  Ui = {
    created: "expirer_created",
    deleted: "expirer_deleted",
    expired: "expirer_expired",
    sync: "expirer_sync",
  },
  HP = "0.3",
  KP = "verify-api",
  VP = "https://verify.walletconnect.com",
  Q2 = "https://verify.walletconnect.org",
  lc = Q2,
  GP = `${lc}/v3`,
  WP = [VP, Q2],
  JP = "echo",
  YP = "https://echo.walletconnect.com",
  Sn = {
    pairing_started: "pairing_started",
    pairing_uri_validation_success: "pairing_uri_validation_success",
    pairing_uri_not_expired: "pairing_uri_not_expired",
    store_new_pairing: "store_new_pairing",
    subscribing_pairing_topic: "subscribing_pairing_topic",
    subscribe_pairing_topic_success: "subscribe_pairing_topic_success",
    existing_pairing: "existing_pairing",
    pairing_not_expired: "pairing_not_expired",
    emit_inactive_pairing: "emit_inactive_pairing",
    emit_session_proposal: "emit_session_proposal",
    subscribing_to_pairing_topic: "subscribing_to_pairing_topic",
  },
  hs = {
    no_wss_connection: "no_wss_connection",
    no_internet_connection: "no_internet_connection",
    malformed_pairing_uri: "malformed_pairing_uri",
    active_pairing_already_exists: "active_pairing_already_exists",
    subscribe_pairing_topic_failure: "subscribe_pairing_topic_failure",
    pairing_expired: "pairing_expired",
    proposal_expired: "proposal_expired",
    proposal_listener_not_found: "proposal_listener_not_found",
  },
  cn = {
    session_approve_started: "session_approve_started",
    proposal_not_expired: "proposal_not_expired",
    session_namespaces_validation_success:
      "session_namespaces_validation_success",
    create_session_topic: "create_session_topic",
    subscribing_session_topic: "subscribing_session_topic",
    subscribe_session_topic_success: "subscribe_session_topic_success",
    publishing_session_approve: "publishing_session_approve",
    session_approve_publish_success: "session_approve_publish_success",
    store_session: "store_session",
    publishing_session_settle: "publishing_session_settle",
    session_settle_publish_success: "session_settle_publish_success",
  },
  aa = {
    no_internet_connection: "no_internet_connection",
    no_wss_connection: "no_wss_connection",
    proposal_expired: "proposal_expired",
    subscribe_session_topic_failure: "subscribe_session_topic_failure",
    session_approve_publish_failure: "session_approve_publish_failure",
    session_settle_publish_failure: "session_settle_publish_failure",
    session_approve_namespace_validation_failure:
      "session_approve_namespace_validation_failure",
    proposal_not_found: "proposal_not_found",
  },
  oa = {
    authenticated_session_approve_started:
      "authenticated_session_approve_started",
    authenticated_session_not_expired: "authenticated_session_not_expired",
    chains_caip2_compliant: "chains_caip2_compliant",
    chains_evm_compliant: "chains_evm_compliant",
    create_authenticated_session_topic: "create_authenticated_session_topic",
    cacaos_verified: "cacaos_verified",
    store_authenticated_session: "store_authenticated_session",
    subscribing_authenticated_session_topic:
      "subscribing_authenticated_session_topic",
    subscribe_authenticated_session_topic_success:
      "subscribe_authenticated_session_topic_success",
    publishing_authenticated_session_approve:
      "publishing_authenticated_session_approve",
    authenticated_session_approve_publish_success:
      "authenticated_session_approve_publish_success",
  },
  ec = {
    no_internet_connection: "no_internet_connection",
    no_wss_connection: "no_wss_connection",
    missing_session_authenticate_request:
      "missing_session_authenticate_request",
    session_authenticate_request_expired:
      "session_authenticate_request_expired",
    chains_caip2_compliant_failure: "chains_caip2_compliant_failure",
    chains_evm_compliant_failure: "chains_evm_compliant_failure",
    invalid_cacao: "invalid_cacao",
    subscribe_authenticated_session_topic_failure:
      "subscribe_authenticated_session_topic_failure",
    authenticated_session_approve_publish_failure:
      "authenticated_session_approve_publish_failure",
    authenticated_session_pending_request_not_found:
      "authenticated_session_pending_request_not_found",
  },
  QP = 0.1,
  XP = "event-client",
  ZP = 86400,
  eC = "https://pulse.walletconnect.org/batch";
function tC(r, e) {
  if (r.length >= 255) throw new TypeError("Alphabet too long");
  for (var t = new Uint8Array(256), i = 0; i < t.length; i++) t[i] = 255;
  for (var n = 0; n < r.length; n++) {
    var a = r.charAt(n),
      h = a.charCodeAt(0);
    if (t[h] !== 255) throw new TypeError(a + " is ambiguous");
    t[h] = n;
  }
  var f = r.length,
    v = r.charAt(0),
    g = Math.log(f) / Math.log(256),
    y = Math.log(256) / Math.log(f);
  function _(O) {
    if (
      (O instanceof Uint8Array ||
        (ArrayBuffer.isView(O)
          ? (O = new Uint8Array(O.buffer, O.byteOffset, O.byteLength))
          : Array.isArray(O) && (O = Uint8Array.from(O))),
      !(O instanceof Uint8Array))
    )
      throw new TypeError("Expected Uint8Array");
    if (O.length === 0) return "";
    for (var H = 0, G = 0, Q = 0, z = O.length; Q !== z && O[Q] === 0; )
      Q++, H++;
    for (var Y = ((z - Q) * y + 1) >>> 0, q = new Uint8Array(Y); Q !== z; ) {
      for (
        var k = O[Q], V = 0, A = Y - 1;
        (k !== 0 || V < G) && A !== -1;
        A--, V++
      )
        (k += (256 * q[A]) >>> 0), (q[A] = k % f >>> 0), (k = (k / f) >>> 0);
      if (k !== 0) throw new Error("Non-zero carry");
      (G = V), Q++;
    }
    for (var F = Y - G; F !== Y && q[F] === 0; ) F++;
    for (var ae = v.repeat(H); F < Y; ++F) ae += r.charAt(q[F]);
    return ae;
  }
  function C(O) {
    if (typeof O != "string") throw new TypeError("Expected String");
    if (O.length === 0) return new Uint8Array();
    var H = 0;
    if (O[H] !== " ") {
      for (var G = 0, Q = 0; O[H] === v; ) G++, H++;
      for (
        var z = ((O.length - H) * g + 1) >>> 0, Y = new Uint8Array(z);
        O[H];

      ) {
        var q = t[O.charCodeAt(H)];
        if (q === 255) return;
        for (var k = 0, V = z - 1; (q !== 0 || k < Q) && V !== -1; V--, k++)
          (q += (f * Y[V]) >>> 0),
            (Y[V] = q % 256 >>> 0),
            (q = (q / 256) >>> 0);
        if (q !== 0) throw new Error("Non-zero carry");
        (Q = k), H++;
      }
      if (O[H] !== " ") {
        for (var A = z - Q; A !== z && Y[A] === 0; ) A++;
        for (var F = new Uint8Array(G + (z - A)), ae = G; A !== z; )
          F[ae++] = Y[A++];
        return F;
      }
    }
  }
  function P(O) {
    var H = C(O);
    if (H) return H;
    throw new Error(`Non-${e} character`);
  }
  return { encode: _, decodeUnsafe: C, decode: P };
}
var rC = tC,
  iC = rC;
const X2 = (r) => {
    if (r instanceof Uint8Array && r.constructor.name === "Uint8Array")
      return r;
    if (r instanceof ArrayBuffer) return new Uint8Array(r);
    if (ArrayBuffer.isView(r))
      return new Uint8Array(r.buffer, r.byteOffset, r.byteLength);
    throw new Error("Unknown type, must be binary type");
  },
  nC = (r) => new TextEncoder().encode(r),
  sC = (r) => new TextDecoder().decode(r);
class aC {
  constructor(e, t, i) {
    (this.name = e), (this.prefix = t), (this.baseEncode = i);
  }
  encode(e) {
    if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`;
    throw Error("Unknown type, must be binary type");
  }
}
class oC {
  constructor(e, t, i) {
    if (((this.name = e), (this.prefix = t), t.codePointAt(0) === void 0))
      throw new Error("Invalid prefix character");
    (this.prefixCodePoint = t.codePointAt(0)), (this.baseDecode = i);
  }
  decode(e) {
    if (typeof e == "string") {
      if (e.codePointAt(0) !== this.prefixCodePoint)
        throw Error(
          `Unable to decode multibase string ${JSON.stringify(e)}, ${
            this.name
          } decoder only supports inputs prefixed with ${this.prefix}`
        );
      return this.baseDecode(e.slice(this.prefix.length));
    } else throw Error("Can only multibase decode strings");
  }
  or(e) {
    return Z2(this, e);
  }
}
class cC {
  constructor(e) {
    this.decoders = e;
  }
  or(e) {
    return Z2(this, e);
  }
  decode(e) {
    const t = e[0],
      i = this.decoders[t];
    if (i) return i.decode(e);
    throw RangeError(
      `Unable to decode multibase string ${JSON.stringify(
        e
      )}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`
    );
  }
}
const Z2 = (r, e) =>
  new cC({
    ...(r.decoders || { [r.prefix]: r }),
    ...(e.decoders || { [e.prefix]: e }),
  });
class hC {
  constructor(e, t, i, n) {
    (this.name = e),
      (this.prefix = t),
      (this.baseEncode = i),
      (this.baseDecode = n),
      (this.encoder = new aC(e, t, i)),
      (this.decoder = new oC(e, t, n));
  }
  encode(e) {
    return this.encoder.encode(e);
  }
  decode(e) {
    return this.decoder.decode(e);
  }
}
const Yf = ({ name: r, prefix: e, encode: t, decode: i }) => new hC(r, e, t, i),
  Fc = ({ prefix: r, name: e, alphabet: t }) => {
    const { encode: i, decode: n } = iC(t, e);
    return Yf({ prefix: r, name: e, encode: i, decode: (a) => X2(n(a)) });
  },
  fC = (r, e, t, i) => {
    const n = {};
    for (let y = 0; y < e.length; ++y) n[e[y]] = y;
    let a = r.length;
    for (; r[a - 1] === "="; ) --a;
    const h = new Uint8Array(((a * t) / 8) | 0);
    let f = 0,
      v = 0,
      g = 0;
    for (let y = 0; y < a; ++y) {
      const _ = n[r[y]];
      if (_ === void 0) throw new SyntaxError(`Non-${i} character`);
      (v = (v << t) | _),
        (f += t),
        f >= 8 && ((f -= 8), (h[g++] = 255 & (v >> f)));
    }
    if (f >= t || 255 & (v << (8 - f)))
      throw new SyntaxError("Unexpected end of data");
    return h;
  },
  uC = (r, e, t) => {
    const i = e[e.length - 1] === "=",
      n = (1 << t) - 1;
    let a = "",
      h = 0,
      f = 0;
    for (let v = 0; v < r.length; ++v)
      for (f = (f << 8) | r[v], h += 8; h > t; )
        (h -= t), (a += e[n & (f >> h)]);
    if ((h && (a += e[n & (f << (t - h))]), i))
      for (; (a.length * t) & 7; ) a += "=";
    return a;
  },
  Nr = ({ name: r, prefix: e, bitsPerChar: t, alphabet: i }) =>
    Yf({
      prefix: e,
      name: r,
      encode(n) {
        return uC(n, i, t);
      },
      decode(n) {
        return fC(n, i, t, r);
      },
    }),
  lC = Yf({
    prefix: "\0",
    name: "identity",
    encode: (r) => sC(r),
    decode: (r) => nC(r),
  });
var dC = Object.freeze({ __proto__: null, identity: lC });
const pC = Nr({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 });
var gC = Object.freeze({ __proto__: null, base2: pC });
const vC = Nr({
  prefix: "7",
  name: "base8",
  alphabet: "01234567",
  bitsPerChar: 3,
});
var bC = Object.freeze({ __proto__: null, base8: vC });
const mC = Fc({ prefix: "9", name: "base10", alphabet: "0123456789" });
var yC = Object.freeze({ __proto__: null, base10: mC });
const wC = Nr({
    prefix: "f",
    name: "base16",
    alphabet: "0123456789abcdef",
    bitsPerChar: 4,
  }),
  _C = Nr({
    prefix: "F",
    name: "base16upper",
    alphabet: "0123456789ABCDEF",
    bitsPerChar: 4,
  });
var AC = Object.freeze({ __proto__: null, base16: wC, base16upper: _C });
const EC = Nr({
    prefix: "b",
    name: "base32",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567",
    bitsPerChar: 5,
  }),
  xC = Nr({
    prefix: "B",
    name: "base32upper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",
    bitsPerChar: 5,
  }),
  SC = Nr({
    prefix: "c",
    name: "base32pad",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567=",
    bitsPerChar: 5,
  }),
  MC = Nr({
    prefix: "C",
    name: "base32padupper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",
    bitsPerChar: 5,
  }),
  IC = Nr({
    prefix: "v",
    name: "base32hex",
    alphabet: "0123456789abcdefghijklmnopqrstuv",
    bitsPerChar: 5,
  }),
  DC = Nr({
    prefix: "V",
    name: "base32hexupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV",
    bitsPerChar: 5,
  }),
  PC = Nr({
    prefix: "t",
    name: "base32hexpad",
    alphabet: "0123456789abcdefghijklmnopqrstuv=",
    bitsPerChar: 5,
  }),
  CC = Nr({
    prefix: "T",
    name: "base32hexpadupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=",
    bitsPerChar: 5,
  }),
  OC = Nr({
    prefix: "h",
    name: "base32z",
    alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769",
    bitsPerChar: 5,
  });
var NC = Object.freeze({
  __proto__: null,
  base32: EC,
  base32upper: xC,
  base32pad: SC,
  base32padupper: MC,
  base32hex: IC,
  base32hexupper: DC,
  base32hexpad: PC,
  base32hexpadupper: CC,
  base32z: OC,
});
const RC = Fc({
    prefix: "k",
    name: "base36",
    alphabet: "0123456789abcdefghijklmnopqrstuvwxyz",
  }),
  TC = Fc({
    prefix: "K",
    name: "base36upper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",
  });
var FC = Object.freeze({ __proto__: null, base36: RC, base36upper: TC });
const BC = Fc({
    name: "base58btc",
    prefix: "z",
    alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",
  }),
  LC = Fc({
    name: "base58flickr",
    prefix: "Z",
    alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",
  });
var qC = Object.freeze({ __proto__: null, base58btc: BC, base58flickr: LC });
const UC = Nr({
    prefix: "m",
    name: "base64",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
    bitsPerChar: 6,
  }),
  $C = Nr({
    prefix: "M",
    name: "base64pad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    bitsPerChar: 6,
  }),
  zC = Nr({
    prefix: "u",
    name: "base64url",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
    bitsPerChar: 6,
  }),
  kC = Nr({
    prefix: "U",
    name: "base64urlpad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",
    bitsPerChar: 6,
  });
var jC = Object.freeze({
  __proto__: null,
  base64: UC,
  base64pad: $C,
  base64url: zC,
  base64urlpad: kC,
});
const em = Array.from(
    "🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"
  ),
  HC = em.reduce((r, e, t) => ((r[t] = e), r), []),
  KC = em.reduce((r, e, t) => ((r[e.codePointAt(0)] = t), r), []);
function VC(r) {
  return r.reduce((e, t) => ((e += HC[t]), e), "");
}
function GC(r) {
  const e = [];
  for (const t of r) {
    const i = KC[t.codePointAt(0)];
    if (i === void 0) throw new Error(`Non-base256emoji character: ${t}`);
    e.push(i);
  }
  return new Uint8Array(e);
}
const WC = Yf({ prefix: "🚀", name: "base256emoji", encode: VC, decode: GC });
var JC = Object.freeze({ __proto__: null, base256emoji: WC }),
  YC = tm,
  Yg = 128,
  QC = 127,
  XC = ~QC,
  ZC = Math.pow(2, 31);
function tm(r, e, t) {
  (e = e || []), (t = t || 0);
  for (var i = t; r >= ZC; ) (e[t++] = (r & 255) | Yg), (r /= 128);
  for (; r & XC; ) (e[t++] = (r & 255) | Yg), (r >>>= 7);
  return (e[t] = r | 0), (tm.bytes = t - i + 1), e;
}
var eO = y0,
  tO = 128,
  Qg = 127;
function y0(r, i) {
  var t = 0,
    i = i || 0,
    n = 0,
    a = i,
    h,
    f = r.length;
  do {
    if (a >= f)
      throw ((y0.bytes = 0), new RangeError("Could not decode varint"));
    (h = r[a++]),
      (t += n < 28 ? (h & Qg) << n : (h & Qg) * Math.pow(2, n)),
      (n += 7);
  } while (h >= tO);
  return (y0.bytes = a - i), t;
}
var rO = Math.pow(2, 7),
  iO = Math.pow(2, 14),
  nO = Math.pow(2, 21),
  sO = Math.pow(2, 28),
  aO = Math.pow(2, 35),
  oO = Math.pow(2, 42),
  cO = Math.pow(2, 49),
  hO = Math.pow(2, 56),
  fO = Math.pow(2, 63),
  uO = function (r) {
    return r < rO
      ? 1
      : r < iO
      ? 2
      : r < nO
      ? 3
      : r < sO
      ? 4
      : r < aO
      ? 5
      : r < oO
      ? 6
      : r < cO
      ? 7
      : r < hO
      ? 8
      : r < fO
      ? 9
      : 10;
  },
  lO = { encode: YC, decode: eO, encodingLength: uO },
  rm = lO;
const Xg = (r, e, t = 0) => (rm.encode(r, e, t), e),
  Zg = (r) => rm.encodingLength(r),
  w0 = (r, e) => {
    const t = e.byteLength,
      i = Zg(r),
      n = i + Zg(t),
      a = new Uint8Array(n + t);
    return Xg(r, a, 0), Xg(t, a, i), a.set(e, n), new dO(r, t, e, a);
  };
class dO {
  constructor(e, t, i, n) {
    (this.code = e), (this.size = t), (this.digest = i), (this.bytes = n);
  }
}
const im = ({ name: r, code: e, encode: t }) => new pO(r, e, t);
class pO {
  constructor(e, t, i) {
    (this.name = e), (this.code = t), (this.encode = i);
  }
  digest(e) {
    if (e instanceof Uint8Array) {
      const t = this.encode(e);
      return t instanceof Uint8Array
        ? w0(this.code, t)
        : t.then((i) => w0(this.code, i));
    } else throw Error("Unknown type, must be binary type");
  }
}
const nm = (r) => async (e) => new Uint8Array(await crypto.subtle.digest(r, e)),
  gO = im({ name: "sha2-256", code: 18, encode: nm("SHA-256") }),
  vO = im({ name: "sha2-512", code: 19, encode: nm("SHA-512") });
var bO = Object.freeze({ __proto__: null, sha256: gO, sha512: vO });
const sm = 0,
  mO = "identity",
  am = X2,
  yO = (r) => w0(sm, am(r)),
  wO = { code: sm, name: mO, encode: am, digest: yO };
var _O = Object.freeze({ __proto__: null, identity: wO });
new TextEncoder(), new TextDecoder();
const ev = {
  ...dC,
  ...gC,
  ...bC,
  ...yC,
  ...AC,
  ...NC,
  ...FC,
  ...qC,
  ...jC,
  ...JC,
};
({ ...bO, ..._O });
function AO(r = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null
    ? globalThis.Buffer.allocUnsafe(r)
    : new Uint8Array(r);
}
function om(r, e, t, i) {
  return {
    name: r,
    prefix: e,
    encoder: { name: r, prefix: e, encode: t },
    decoder: { decode: i },
  };
}
const tv = om(
    "utf8",
    "u",
    (r) => "u" + new TextDecoder("utf8").decode(r),
    (r) => new TextEncoder().encode(r.substring(1))
  ),
  $l = om(
    "ascii",
    "a",
    (r) => {
      let e = "a";
      for (let t = 0; t < r.length; t++) e += String.fromCharCode(r[t]);
      return e;
    },
    (r) => {
      r = r.substring(1);
      const e = AO(r.length);
      for (let t = 0; t < r.length; t++) e[t] = r.charCodeAt(t);
      return e;
    }
  ),
  EO = {
    utf8: tv,
    "utf-8": tv,
    hex: ev.base16,
    latin1: $l,
    ascii: $l,
    binary: $l,
    ...ev,
  };
function xO(r, e = "utf8") {
  const t = EO[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r, "utf8")
    : t.decoder.decode(`${t.prefix}${r}`);
}
class SO {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.keychain = new Map()),
      (this.name = xP),
      (this.version = SP),
      (this.initialized = !1),
      (this.storagePrefix = Kn),
      (this.init = async () => {
        if (!this.initialized) {
          const i = await this.getKeyChain();
          typeof i < "u" && (this.keychain = i), (this.initialized = !0);
        }
      }),
      (this.has = (i) => (this.isInitialized(), this.keychain.has(i))),
      (this.set = async (i, n) => {
        this.isInitialized(), this.keychain.set(i, n), await this.persist();
      }),
      (this.get = (i) => {
        this.isInitialized();
        const n = this.keychain.get(i);
        if (typeof n > "u") {
          const { message: a } = Ae("NO_MATCHING_KEY", `${this.name}: ${i}`);
          throw new Error(a);
        }
        return n;
      }),
      (this.del = async (i) => {
        this.isInitialized(), this.keychain.delete(i), await this.persist();
      }),
      (this.core = e),
      (this.logger = Zr(t, this.name));
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  async setKeyChain(e) {
    await this.core.storage.setItem(this.storageKey, $b(e));
  }
  async getKeyChain() {
    const e = await this.core.storage.getItem(this.storageKey);
    return typeof e < "u" ? zb(e) : void 0;
  }
  async persist() {
    await this.setKeyChain(this.keychain);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class MO {
  constructor(e, t, i) {
    (this.core = e),
      (this.logger = t),
      (this.name = AP),
      (this.randomSessionIdentifier = p0()),
      (this.initialized = !1),
      (this.init = async () => {
        this.initialized ||
          (await this.keychain.init(), (this.initialized = !0));
      }),
      (this.hasKeys = (n) => (this.isInitialized(), this.keychain.has(n))),
      (this.getClientId = async () => {
        this.isInitialized();
        const n = await this.getClientSeed(),
          a = L1(n);
        return Bb(a.publicKey);
      }),
      (this.generateKeyPair = () => {
        this.isInitialized();
        const n = CM();
        return this.setPrivateKey(n.publicKey, n.privateKey);
      }),
      (this.signJWT = async (n) => {
        this.isInitialized();
        const a = await this.getClientSeed(),
          h = L1(a),
          f = this.randomSessionIdentifier;
        return await lE(f, n, EP, h);
      }),
      (this.generateSharedKey = (n, a, h) => {
        this.isInitialized();
        const f = this.getPrivateKey(n),
          v = OM(f, a);
        return this.setSymKey(v, h);
      }),
      (this.setSymKey = async (n, a) => {
        this.isInitialized();
        const h = a || nf(n);
        return await this.keychain.set(h, n), h;
      }),
      (this.deleteKeyPair = async (n) => {
        this.isInitialized(), await this.keychain.del(n);
      }),
      (this.deleteSymKey = async (n) => {
        this.isInitialized(), await this.keychain.del(n);
      }),
      (this.encode = async (n, a, h) => {
        this.isInitialized();
        const f = N2(h),
          v = ms(a);
        if (wg(f)) return RM(v, h == null ? void 0 : h.encoding);
        if (yg(f)) {
          const C = f.senderPublicKey,
            P = f.receiverPublicKey;
          n = await this.generateSharedKey(C, P);
        }
        const g = this.getSymKey(n),
          { type: y, senderPublicKey: _ } = f;
        return NM({
          type: y,
          symKey: g,
          message: v,
          senderPublicKey: _,
          encoding: h == null ? void 0 : h.encoding,
        });
      }),
      (this.decode = async (n, a, h) => {
        this.isInitialized();
        const f = BM(a, h);
        if (wg(f)) {
          const v = FM(a, h == null ? void 0 : h.encoding);
          return va(v);
        }
        if (yg(f)) {
          const v = f.receiverPublicKey,
            g = f.senderPublicKey;
          n = await this.generateSharedKey(v, g);
        }
        try {
          const v = this.getSymKey(n),
            g = TM({
              symKey: v,
              encoded: a,
              encoding: h == null ? void 0 : h.encoding,
            });
          return va(g);
        } catch (v) {
          this.logger.error(
            `Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`
          ),
            this.logger.error(v);
        }
      }),
      (this.getPayloadType = (n, a = Ls) => {
        const h = bc({ encoded: n, encoding: a });
        return ma(h.type);
      }),
      (this.getPayloadSenderPublicKey = (n, a = Ls) => {
        const h = bc({ encoded: n, encoding: a });
        return h.senderPublicKey ? Er(h.senderPublicKey, Xr) : void 0;
      }),
      (this.core = e),
      (this.logger = Zr(t, this.name)),
      (this.keychain = i || new SO(this.core, this.logger));
  }
  get context() {
    return pi(this.logger);
  }
  async setPrivateKey(e, t) {
    return await this.keychain.set(e, t), e;
  }
  getPrivateKey(e) {
    return this.keychain.get(e);
  }
  async getClientSeed() {
    let e = "";
    try {
      e = this.keychain.get(Wg);
    } catch {
      (e = p0()), await this.keychain.set(Wg, e);
    }
    return xO(e, "base16");
  }
  getSymKey(e) {
    return this.keychain.get(e);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class IO extends $D {
  constructor(e, t) {
    super(e, t),
      (this.logger = e),
      (this.core = t),
      (this.messages = new Map()),
      (this.name = MP),
      (this.version = IP),
      (this.initialized = !1),
      (this.storagePrefix = Kn),
      (this.init = async () => {
        if (!this.initialized) {
          this.logger.trace("Initialized");
          try {
            const i = await this.getRelayerMessages();
            typeof i < "u" && (this.messages = i),
              this.logger.debug(
                `Successfully Restored records for ${this.name}`
              ),
              this.logger.trace({
                type: "method",
                method: "restore",
                size: this.messages.size,
              });
          } catch (i) {
            this.logger.debug(`Failed to Restore records for ${this.name}`),
              this.logger.error(i);
          } finally {
            this.initialized = !0;
          }
        }
      }),
      (this.set = async (i, n) => {
        this.isInitialized();
        const a = us(n);
        let h = this.messages.get(i);
        return (
          typeof h > "u" && (h = {}),
          typeof h[a] < "u" ||
            ((h[a] = n), this.messages.set(i, h), await this.persist()),
          a
        );
      }),
      (this.get = (i) => {
        this.isInitialized();
        let n = this.messages.get(i);
        return typeof n > "u" && (n = {}), n;
      }),
      (this.has = (i, n) => {
        this.isInitialized();
        const a = this.get(i),
          h = us(n);
        return typeof a[h] < "u";
      }),
      (this.del = async (i) => {
        this.isInitialized(), this.messages.delete(i), await this.persist();
      }),
      (this.logger = Zr(e, this.name)),
      (this.core = t);
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  async setRelayerMessages(e) {
    await this.core.storage.setItem(this.storageKey, $b(e));
  }
  async getRelayerMessages() {
    const e = await this.core.storage.getItem(this.storageKey);
    return typeof e < "u" ? zb(e) : void 0;
  }
  async persist() {
    await this.setRelayerMessages(this.messages);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class DO extends zD {
  constructor(e, t) {
    super(e, t),
      (this.relayer = e),
      (this.logger = t),
      (this.events = new Hi.EventEmitter()),
      (this.name = PP),
      (this.queue = new Map()),
      (this.publishTimeout = xe.toMiliseconds(xe.ONE_MINUTE)),
      (this.failedPublishTimeout = xe.toMiliseconds(xe.ONE_SECOND)),
      (this.needsTransportRestart = !1),
      (this.publish = async (i, n, a) => {
        var h;
        this.logger.debug("Publishing Payload"),
          this.logger.trace({
            type: "method",
            method: "publish",
            params: { topic: i, message: n, opts: a },
          });
        const f = (a == null ? void 0 : a.ttl) || DP,
          v = g0(a),
          g = (a == null ? void 0 : a.prompt) || !1,
          y = (a == null ? void 0 : a.tag) || 0,
          _ = (a == null ? void 0 : a.id) || ua().toString(),
          C = {
            topic: i,
            message: n,
            opts: {
              ttl: f,
              relay: v,
              prompt: g,
              tag: y,
              id: _,
              attestation: a == null ? void 0 : a.attestation,
            },
          },
          P = `Failed to publish payload, please try again. id:${_} tag:${y}`,
          O = Date.now();
        let H,
          G = 1;
        try {
          for (; H === void 0; ) {
            if (Date.now() - O > this.publishTimeout) throw new Error(P);
            this.logger.trace(
              { id: _, attempts: G },
              `publisher.publish - attempt ${G}`
            ),
              (H = await await eo(
                this.rpcPublish(
                  i,
                  n,
                  f,
                  v,
                  g,
                  y,
                  _,
                  a == null ? void 0 : a.attestation
                ).catch((Q) => this.logger.warn(Q)),
                this.publishTimeout,
                P
              )),
              G++,
              H ||
                (await new Promise((Q) =>
                  setTimeout(Q, this.failedPublishTimeout)
                ));
          }
          this.relayer.events.emit(Jr.publish, C),
            this.logger.debug("Successfully Published Payload"),
            this.logger.trace({
              type: "method",
              method: "publish",
              params: { id: _, topic: i, message: n, opts: a },
            });
        } catch (Q) {
          if (
            (this.logger.debug("Failed to Publish Payload"),
            this.logger.error(Q),
            (h = a == null ? void 0 : a.internal) != null &&
              h.throwOnFailedPublish)
          )
            throw Q;
          this.queue.set(_, C);
        }
      }),
      (this.on = (i, n) => {
        this.events.on(i, n);
      }),
      (this.once = (i, n) => {
        this.events.once(i, n);
      }),
      (this.off = (i, n) => {
        this.events.off(i, n);
      }),
      (this.removeListener = (i, n) => {
        this.events.removeListener(i, n);
      }),
      (this.relayer = e),
      (this.logger = Zr(t, this.name)),
      this.registerEventListeners();
  }
  get context() {
    return pi(this.logger);
  }
  rpcPublish(e, t, i, n, a, h, f, v) {
    var g, y, _, C;
    const P = {
      method: sc(n.protocol).publish,
      params: {
        topic: e,
        message: t,
        ttl: i,
        prompt: a,
        tag: h,
        attestation: v,
      },
      id: f,
    };
    return (
      Qr((g = P.params) == null ? void 0 : g.prompt) &&
        ((y = P.params) == null || delete y.prompt),
      Qr((_ = P.params) == null ? void 0 : _.tag) &&
        ((C = P.params) == null || delete C.tag),
      this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "message", direction: "outgoing", request: P }),
      this.relayer.request(P)
    );
  }
  removeRequestFromQueue(e) {
    this.queue.delete(e);
  }
  checkQueue() {
    this.queue.forEach(async (e) => {
      const { topic: t, message: i, opts: n } = e;
      await this.publish(t, i, n);
    });
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(Eo.pulse, () => {
      if (this.needsTransportRestart) {
        (this.needsTransportRestart = !1),
          this.relayer.events.emit(Jr.connection_stalled);
        return;
      }
      this.checkQueue();
    }),
      this.relayer.on(Jr.message_ack, (e) => {
        this.removeRequestFromQueue(e.id.toString());
      });
  }
}
class PO {
  constructor() {
    (this.map = new Map()),
      (this.set = (e, t) => {
        const i = this.get(e);
        this.exists(e, t) || this.map.set(e, [...i, t]);
      }),
      (this.get = (e) => this.map.get(e) || []),
      (this.exists = (e, t) => this.get(e).includes(t)),
      (this.delete = (e, t) => {
        if (typeof t > "u") {
          this.map.delete(e);
          return;
        }
        if (!this.map.has(e)) return;
        const i = this.get(e);
        if (!this.exists(e, t)) return;
        const n = i.filter((a) => a !== t);
        if (!n.length) {
          this.map.delete(e);
          return;
        }
        this.map.set(e, n);
      }),
      (this.clear = () => {
        this.map.clear();
      });
  }
  get topics() {
    return Array.from(this.map.keys());
  }
}
var CO = Object.defineProperty,
  OO = Object.defineProperties,
  NO = Object.getOwnPropertyDescriptors,
  rv = Object.getOwnPropertySymbols,
  RO = Object.prototype.hasOwnProperty,
  TO = Object.prototype.propertyIsEnumerable,
  iv = (r, e, t) =>
    e in r
      ? CO(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  tc = (r, e) => {
    for (var t in e || (e = {})) RO.call(e, t) && iv(r, t, e[t]);
    if (rv) for (var t of rv(e)) TO.call(e, t) && iv(r, t, e[t]);
    return r;
  },
  zl = (r, e) => OO(r, NO(e));
class FO extends HD {
  constructor(e, t) {
    super(e, t),
      (this.relayer = e),
      (this.logger = t),
      (this.subscriptions = new Map()),
      (this.topicMap = new PO()),
      (this.events = new Hi.EventEmitter()),
      (this.name = BP),
      (this.version = LP),
      (this.pending = new Map()),
      (this.cached = []),
      (this.initialized = !1),
      (this.pendingSubscriptionWatchLabel = "pending_sub_watch_label"),
      (this.pollingInterval = 20),
      (this.storagePrefix = Kn),
      (this.subscribeTimeout = xe.toMiliseconds(xe.ONE_MINUTE)),
      (this.restartInProgress = !1),
      (this.batchSubscribeTopicsLimit = 500),
      (this.pendingBatchMessages = []),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          this.registerEventListeners(),
          (this.clientId = await this.relayer.core.crypto.getClientId()),
          await this.restore()),
          (this.initialized = !0);
      }),
      (this.subscribe = async (i, n) => {
        this.isInitialized(),
          this.logger.debug("Subscribing Topic"),
          this.logger.trace({
            type: "method",
            method: "subscribe",
            params: { topic: i, opts: n },
          });
        try {
          const a = g0(n),
            h = {
              topic: i,
              relay: a,
              transportType: n == null ? void 0 : n.transportType,
            };
          this.pending.set(i, h);
          const f = await this.rpcSubscribe(
            i,
            a,
            n == null ? void 0 : n.transportType
          );
          return (
            typeof f == "string" &&
              (this.onSubscribe(f, h),
              this.logger.debug("Successfully Subscribed Topic"),
              this.logger.trace({
                type: "method",
                method: "subscribe",
                params: { topic: i, opts: n },
              })),
            f
          );
        } catch (a) {
          throw (
            (this.logger.debug("Failed to Subscribe Topic"),
            this.logger.error(a),
            a)
          );
        }
      }),
      (this.unsubscribe = async (i, n) => {
        await this.restartToComplete(),
          this.isInitialized(),
          typeof (n == null ? void 0 : n.id) < "u"
            ? await this.unsubscribeById(i, n.id, n)
            : await this.unsubscribeByTopic(i, n);
      }),
      (this.isSubscribed = async (i) => {
        if (this.topics.includes(i)) return !0;
        const n = `${this.pendingSubscriptionWatchLabel}_${i}`;
        return await new Promise((a, h) => {
          const f = new xe.Watch();
          f.start(n);
          const v = setInterval(() => {
            !this.pending.has(i) &&
              this.topics.includes(i) &&
              (clearInterval(v), f.stop(n), a(!0)),
              f.elapsed(n) >= qP &&
                (clearInterval(v),
                f.stop(n),
                h(new Error("Subscription resolution timeout")));
          }, this.pollingInterval);
        }).catch(() => !1);
      }),
      (this.on = (i, n) => {
        this.events.on(i, n);
      }),
      (this.once = (i, n) => {
        this.events.once(i, n);
      }),
      (this.off = (i, n) => {
        this.events.off(i, n);
      }),
      (this.removeListener = (i, n) => {
        this.events.removeListener(i, n);
      }),
      (this.start = async () => {
        await this.onConnect();
      }),
      (this.stop = async () => {
        await this.onDisconnect();
      }),
      (this.restart = async () => {
        (this.restartInProgress = !0),
          await this.restore(),
          await this.reset(),
          (this.restartInProgress = !1);
      }),
      (this.relayer = e),
      (this.logger = Zr(t, this.name)),
      (this.clientId = "");
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.relayer.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.subscriptions.size;
  }
  get ids() {
    return Array.from(this.subscriptions.keys());
  }
  get values() {
    return Array.from(this.subscriptions.values());
  }
  get topics() {
    return this.topicMap.topics;
  }
  hasSubscription(e, t) {
    let i = !1;
    try {
      i = this.getSubscription(e).topic === t;
    } catch {}
    return i;
  }
  onEnable() {
    (this.cached = []), (this.initialized = !0);
  }
  onDisable() {
    (this.cached = this.values),
      this.subscriptions.clear(),
      this.topicMap.clear();
  }
  async unsubscribeByTopic(e, t) {
    const i = this.topicMap.get(e);
    await Promise.all(i.map(async (n) => await this.unsubscribeById(e, n, t)));
  }
  async unsubscribeById(e, t, i) {
    this.logger.debug("Unsubscribing Topic"),
      this.logger.trace({
        type: "method",
        method: "unsubscribe",
        params: { topic: e, id: t, opts: i },
      });
    try {
      const n = g0(i);
      await this.rpcUnsubscribe(e, t, n);
      const a = Ut("USER_DISCONNECTED", `${this.name}, ${e}`);
      await this.onUnsubscribe(e, t, a),
        this.logger.debug("Successfully Unsubscribed Topic"),
        this.logger.trace({
          type: "method",
          method: "unsubscribe",
          params: { topic: e, id: t, opts: i },
        });
    } catch (n) {
      throw (
        (this.logger.debug("Failed to Unsubscribe Topic"),
        this.logger.error(n),
        n)
      );
    }
  }
  async rpcSubscribe(e, t, i = Kt.relay) {
    i === Kt.relay && (await this.restartToComplete());
    const n = { method: sc(t.protocol).subscribe, params: { topic: e } };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: n });
    try {
      const a = us(e + this.clientId);
      return i === Kt.link_mode
        ? (setTimeout(() => {
            (this.relayer.connected || this.relayer.connecting) &&
              this.relayer.request(n).catch((h) => this.logger.warn(h));
          }, xe.toMiliseconds(xe.ONE_SECOND)),
          a)
        : (await await eo(
            this.relayer.request(n).catch((h) => this.logger.warn(h)),
            this.subscribeTimeout
          ))
        ? a
        : null;
    } catch {
      this.logger.debug("Outgoing Relay Subscribe Payload stalled"),
        this.relayer.events.emit(Jr.connection_stalled);
    }
    return null;
  }
  async rpcBatchSubscribe(e) {
    if (!e.length) return;
    const t = e[0].relay,
      i = {
        method: sc(t.protocol).batchSubscribe,
        params: { topics: e.map((n) => n.topic) },
      };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    try {
      return await await eo(
        this.relayer.request(i).catch((n) => this.logger.warn(n)),
        this.subscribeTimeout
      );
    } catch {
      this.relayer.events.emit(Jr.connection_stalled);
    }
  }
  async rpcBatchFetchMessages(e) {
    if (!e.length) return;
    const t = e[0].relay,
      i = {
        method: sc(t.protocol).batchFetchMessages,
        params: { topics: e.map((a) => a.topic) },
      };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    let n;
    try {
      n = await await eo(
        this.relayer.request(i).catch((a) => this.logger.warn(a)),
        this.subscribeTimeout
      );
    } catch {
      this.relayer.events.emit(Jr.connection_stalled);
    }
    return n;
  }
  rpcUnsubscribe(e, t, i) {
    const n = {
      method: sc(i.protocol).unsubscribe,
      params: { topic: e, id: t },
    };
    return (
      this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: n }),
      this.relayer.request(n)
    );
  }
  onSubscribe(e, t) {
    this.setSubscription(e, zl(tc({}, t), { id: e })),
      this.pending.delete(t.topic);
  }
  onBatchSubscribe(e) {
    e.length &&
      e.forEach((t) => {
        this.setSubscription(t.id, tc({}, t)), this.pending.delete(t.topic);
      });
  }
  async onUnsubscribe(e, t, i) {
    this.events.removeAllListeners(t),
      this.hasSubscription(t, e) && this.deleteSubscription(t, i),
      await this.relayer.messages.del(e);
  }
  async setRelayerSubscriptions(e) {
    await this.relayer.core.storage.setItem(this.storageKey, e);
  }
  async getRelayerSubscriptions() {
    return await this.relayer.core.storage.getItem(this.storageKey);
  }
  setSubscription(e, t) {
    this.logger.debug("Setting subscription"),
      this.logger.trace({
        type: "method",
        method: "setSubscription",
        id: e,
        subscription: t,
      }),
      this.addSubscription(e, t);
  }
  addSubscription(e, t) {
    this.subscriptions.set(e, tc({}, t)),
      this.topicMap.set(t.topic, e),
      this.events.emit(Pn.created, t);
  }
  getSubscription(e) {
    this.logger.debug("Getting subscription"),
      this.logger.trace({ type: "method", method: "getSubscription", id: e });
    const t = this.subscriptions.get(e);
    if (!t) {
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw new Error(i);
    }
    return t;
  }
  deleteSubscription(e, t) {
    this.logger.debug("Deleting subscription"),
      this.logger.trace({
        type: "method",
        method: "deleteSubscription",
        id: e,
        reason: t,
      });
    const i = this.getSubscription(e);
    this.subscriptions.delete(e),
      this.topicMap.delete(i.topic, e),
      this.events.emit(Pn.deleted, zl(tc({}, i), { reason: t }));
  }
  async persist() {
    await this.setRelayerSubscriptions(this.values), this.events.emit(Pn.sync);
  }
  async reset() {
    if (this.cached.length) {
      const e = Math.ceil(this.cached.length / this.batchSubscribeTopicsLimit);
      for (let t = 0; t < e; t++) {
        const i = this.cached.splice(0, this.batchSubscribeTopicsLimit);
        await this.batchFetchMessages(i), await this.batchSubscribe(i);
      }
    }
    this.events.emit(Pn.resubscribed);
  }
  async restore() {
    try {
      const e = await this.getRelayerSubscriptions();
      if (typeof e > "u" || !e.length) return;
      if (this.subscriptions.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (
          (this.logger.error(t),
          this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),
          new Error(t))
        );
      }
      (this.cached = e),
        this.logger.debug(
          `Successfully Restored subscriptions for ${this.name}`
        ),
        this.logger.trace({
          type: "method",
          method: "restore",
          subscriptions: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),
        this.logger.error(e);
    }
  }
  async batchSubscribe(e) {
    if (!e.length) return;
    const t = await this.rpcBatchSubscribe(e);
    Hn(t) &&
      this.onBatchSubscribe(t.map((i, n) => zl(tc({}, e[n]), { id: i })));
  }
  async batchFetchMessages(e) {
    if (!e.length) return;
    this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);
    const t = await this.rpcBatchFetchMessages(e);
    t &&
      t.messages &&
      (this.pendingBatchMessages = this.pendingBatchMessages.concat(
        t.messages
      ));
  }
  async onConnect() {
    await this.restart(), this.onEnable();
  }
  onDisconnect() {
    this.onDisable();
  }
  async checkPending() {
    if (!this.initialized || !this.relayer.connected) return;
    const e = [];
    this.pending.forEach((t) => {
      e.push(t);
    }),
      await this.batchSubscribe(e),
      this.pendingBatchMessages.length &&
        (await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),
        (this.pendingBatchMessages = []));
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(Eo.pulse, async () => {
      await this.checkPending();
    }),
      this.events.on(Pn.created, async (e) => {
        const t = Pn.created;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          await this.persist();
      }),
      this.events.on(Pn.deleted, async (e) => {
        const t = Pn.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          await this.persist();
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async restartToComplete() {
    !this.relayer.connected &&
      !this.relayer.connecting &&
      (await this.relayer.transportOpen()),
      this.restartInProgress &&
        (await new Promise((e) => {
          const t = setInterval(() => {
            this.restartInProgress || (clearInterval(t), e());
          }, this.pollingInterval);
        }));
  }
}
var BO = Object.defineProperty,
  nv = Object.getOwnPropertySymbols,
  LO = Object.prototype.hasOwnProperty,
  qO = Object.prototype.propertyIsEnumerable,
  sv = (r, e, t) =>
    e in r
      ? BO(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  UO = (r, e) => {
    for (var t in e || (e = {})) LO.call(e, t) && sv(r, t, e[t]);
    if (nv) for (var t of nv(e)) qO.call(e, t) && sv(r, t, e[t]);
    return r;
  };
class $O extends kD {
  constructor(e) {
    super(e),
      (this.protocol = "wc"),
      (this.version = 2),
      (this.events = new Hi.EventEmitter()),
      (this.name = OP),
      (this.transportExplicitlyClosed = !1),
      (this.initialized = !1),
      (this.connectionAttemptInProgress = !1),
      (this.connectionStatusPollingInterval = 20),
      (this.staleConnectionErrors = [
        "socket hang up",
        "stalled",
        "interrupted",
      ]),
      (this.hasExperiencedNetworkDisruption = !1),
      (this.requestsInFlight = new Map()),
      (this.heartBeatTimeout = xe.toMiliseconds(
        xe.THIRTY_SECONDS + xe.ONE_SECOND
      )),
      (this.request = async (t) => {
        var i, n;
        this.logger.debug("Publishing Request Payload");
        const a = t.id || ua().toString();
        await this.toEstablishConnection();
        try {
          const h = this.provider.request(t);
          this.requestsInFlight.set(a, { promise: h, request: t }),
            this.logger.trace(
              {
                id: a,
                method: t.method,
                topic: (i = t.params) == null ? void 0 : i.topic,
              },
              "relayer.request - attempt to publish..."
            );
          const f = await new Promise(async (v, g) => {
            const y = () => {
              g(new Error(`relayer.request - publish interrupted, id: ${a}`));
            };
            this.provider.on(qi.disconnect, y);
            const _ = await h;
            this.provider.off(qi.disconnect, y), v(_);
          });
          return (
            this.logger.trace(
              {
                id: a,
                method: t.method,
                topic: (n = t.params) == null ? void 0 : n.topic,
              },
              "relayer.request - published"
            ),
            f
          );
        } catch (h) {
          throw (this.logger.debug(`Failed to Publish Request: ${a}`), h);
        } finally {
          this.requestsInFlight.delete(a);
        }
      }),
      (this.resetPingTimeout = () => {
        if (gf())
          try {
            clearTimeout(this.pingTimeout),
              (this.pingTimeout = setTimeout(() => {
                var t, i, n;
                (n =
                  (i = (t = this.provider) == null ? void 0 : t.connection) ==
                  null
                    ? void 0
                    : i.socket) == null || n.terminate();
              }, this.heartBeatTimeout));
          } catch (t) {
            this.logger.warn(t);
          }
      }),
      (this.onPayloadHandler = (t) => {
        this.onProviderPayload(t), this.resetPingTimeout();
      }),
      (this.onConnectHandler = () => {
        this.logger.trace("relayer connected"),
          this.startPingTimeout(),
          this.events.emit(Jr.connect);
      }),
      (this.onDisconnectHandler = () => {
        this.logger.trace("relayer disconnected"), this.onProviderDisconnect();
      }),
      (this.onProviderErrorHandler = (t) => {
        this.logger.error(t),
          this.events.emit(Jr.error, t),
          this.logger.info("Fatal socket error received, closing transport"),
          this.transportClose();
      }),
      (this.registerProviderListeners = () => {
        this.provider.on(qi.payload, this.onPayloadHandler),
          this.provider.on(qi.connect, this.onConnectHandler),
          this.provider.on(qi.disconnect, this.onDisconnectHandler),
          this.provider.on(qi.error, this.onProviderErrorHandler);
      }),
      (this.core = e.core),
      (this.logger =
        typeof e.logger < "u" && typeof e.logger != "string"
          ? Zr(e.logger, this.name)
          : Rc(Vf({ level: e.logger || CP }))),
      (this.messages = new IO(this.logger, e.core)),
      (this.subscriber = new FO(this, this.logger)),
      (this.publisher = new DO(this, this.logger)),
      (this.relayUrl = (e == null ? void 0 : e.relayUrl) || Y2),
      (this.projectId = e.projectId),
      (this.bundleId = wE()),
      (this.provider = {});
  }
  async init() {
    if (
      (this.logger.trace("Initialized"),
      this.registerEventListeners(),
      await Promise.all([this.messages.init(), this.subscriber.init()]),
      (this.initialized = !0),
      this.subscriber.cached.length > 0)
    )
      try {
        await this.transportOpen();
      } catch (e) {
        this.logger.warn(e);
      }
  }
  get context() {
    return pi(this.logger);
  }
  get connected() {
    var e, t, i;
    return (
      ((i =
        (t = (e = this.provider) == null ? void 0 : e.connection) == null
          ? void 0
          : t.socket) == null
        ? void 0
        : i.readyState) === 1
    );
  }
  get connecting() {
    var e, t, i;
    return (
      ((i =
        (t = (e = this.provider) == null ? void 0 : e.connection) == null
          ? void 0
          : t.socket) == null
        ? void 0
        : i.readyState) === 0
    );
  }
  async publish(e, t, i) {
    this.isInitialized(),
      await this.publisher.publish(e, t, i),
      await this.recordMessageEvent({
        topic: e,
        message: t,
        publishedAt: Date.now(),
        transportType: Kt.relay,
      });
  }
  async subscribe(e, t) {
    var i;
    this.isInitialized(),
      (t == null ? void 0 : t.transportType) === "relay" &&
        (await this.toEstablishConnection());
    let n =
        ((i = this.subscriber.topicMap.get(e)) == null ? void 0 : i[0]) || "",
      a;
    const h = (f) => {
      f.topic === e && (this.subscriber.off(Pn.created, h), a());
    };
    return (
      await Promise.all([
        new Promise((f) => {
          (a = f), this.subscriber.on(Pn.created, h);
        }),
        new Promise(async (f) => {
          (n = (await this.subscriber.subscribe(e, t)) || n), f();
        }),
      ]),
      n
    );
  }
  async unsubscribe(e, t) {
    this.isInitialized(), await this.subscriber.unsubscribe(e, t);
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async transportDisconnect() {
    if (
      !this.hasExperiencedNetworkDisruption &&
      this.connected &&
      this.requestsInFlight.size > 0
    )
      try {
        await Promise.all(
          Array.from(this.requestsInFlight.values()).map((e) => e.promise)
        );
      } catch (e) {
        this.logger.warn(e);
      }
    this.hasExperiencedNetworkDisruption || this.connected
      ? await eo(
          this.provider.disconnect(),
          2e3,
          "provider.disconnect()"
        ).catch(() => this.onProviderDisconnect())
      : this.onProviderDisconnect();
  }
  async transportClose() {
    (this.transportExplicitlyClosed = !0), await this.transportDisconnect();
  }
  async transportOpen(e) {
    await this.confirmOnlineStateOrThrow(),
      e &&
        e !== this.relayUrl &&
        ((this.relayUrl = e), await this.transportDisconnect()),
      await this.createProvider(),
      (this.connectionAttemptInProgress = !0),
      (this.transportExplicitlyClosed = !1);
    try {
      await new Promise(async (t, i) => {
        const n = () => {
          this.provider.off(qi.disconnect, n),
            i(new Error("Connection interrupted while trying to subscribe"));
        };
        this.provider.on(qi.disconnect, n),
          await eo(
            this.provider.connect(),
            xe.toMiliseconds(xe.ONE_MINUTE),
            `Socket stalled when trying to connect to ${this.relayUrl}`
          )
            .catch((a) => {
              i(a);
            })
            .finally(() => {
              clearTimeout(this.reconnectTimeout),
                (this.reconnectTimeout = void 0);
            }),
          this.subscriber.start().catch((a) => {
            this.logger.error(a), this.onDisconnectHandler();
          }),
          (this.hasExperiencedNetworkDisruption = !1),
          t();
      });
    } catch (t) {
      this.logger.error(t);
      const i = t;
      if (
        ((this.hasExperiencedNetworkDisruption = !0),
        !this.isConnectionStalled(i.message))
      )
        throw t;
    } finally {
      this.connectionAttemptInProgress = !1;
    }
  }
  async restartTransport(e) {
    this.connectionAttemptInProgress ||
      ((this.relayUrl = e || this.relayUrl),
      await this.confirmOnlineStateOrThrow(),
      await this.transportClose(),
      await this.transportOpen());
  }
  async confirmOnlineStateOrThrow() {
    if (!(await Og()))
      throw new Error(
        "No internet connection detected. Please restart your network and try again."
      );
  }
  async handleBatchMessageEvents(e) {
    if ((e == null ? void 0 : e.length) === 0) {
      this.logger.trace("Batch message events is empty. Ignoring...");
      return;
    }
    const t = e.sort((i, n) => i.publishedAt - n.publishedAt);
    this.logger.trace(`Batch of ${t.length} message events sorted`);
    for (const i of t)
      try {
        await this.onMessageEvent(i);
      } catch (n) {
        this.logger.warn(n);
      }
    this.logger.trace(`Batch of ${t.length} message events processed`);
  }
  async onLinkMessageEvent(e, t) {
    const { topic: i } = e;
    if (!t.sessionExists) {
      const n = vr(xe.FIVE_MINUTES),
        a = { topic: i, expiry: n, relay: { protocol: "irn" }, active: !1 };
      await this.core.pairing.pairings.set(i, a);
    }
    this.events.emit(Jr.message, e), await this.recordMessageEvent(e);
  }
  startPingTimeout() {
    var e, t, i, n, a;
    if (gf())
      try {
        (t = (e = this.provider) == null ? void 0 : e.connection) != null &&
          t.socket &&
          ((a =
            (n = (i = this.provider) == null ? void 0 : i.connection) == null
              ? void 0
              : n.socket) == null ||
            a.once("ping", () => {
              this.resetPingTimeout();
            })),
          this.resetPingTimeout();
      } catch (h) {
        this.logger.warn(h);
      }
  }
  isConnectionStalled(e) {
    return this.staleConnectionErrors.some((t) => e.includes(t));
  }
  async createProvider() {
    this.provider.connection && this.unregisterProviderListeners();
    const e = await this.core.crypto.signJWT(this.relayUrl);
    (this.provider = new vn(
      new bP(
        xE({
          sdkVersion: m0,
          protocol: this.protocol,
          version: this.version,
          relayUrl: this.relayUrl,
          projectId: this.projectId,
          auth: e,
          useOnCloseEvent: !0,
          bundleId: this.bundleId,
        })
      )
    )),
      this.registerProviderListeners();
  }
  async recordMessageEvent(e) {
    const { topic: t, message: i } = e;
    await this.messages.set(t, i);
  }
  async shouldIgnoreMessageEvent(e) {
    const { topic: t, message: i } = e;
    if (!i || i.length === 0)
      return this.logger.debug(`Ignoring invalid/empty message: ${i}`), !0;
    if (!(await this.subscriber.isSubscribed(t)))
      return (
        this.logger.debug(`Ignoring message for non-subscribed topic ${t}`), !0
      );
    const n = this.messages.has(t, i);
    return n && this.logger.debug(`Ignoring duplicate message: ${i}`), n;
  }
  async onProviderPayload(e) {
    if (
      (this.logger.debug("Incoming Relay Payload"),
      this.logger.trace({ type: "payload", direction: "incoming", payload: e }),
      Q0(e))
    ) {
      if (!e.method.endsWith(NP)) return;
      const t = e.params,
        { topic: i, message: n, publishedAt: a, attestation: h } = t.data,
        f = {
          topic: i,
          message: n,
          publishedAt: a,
          transportType: Kt.relay,
          attestation: h,
        };
      this.logger.debug("Emitting Relayer Payload"),
        this.logger.trace(UO({ type: "event", event: t.id }, f)),
        this.events.emit(t.id, f),
        await this.acknowledgePayload(e),
        await this.onMessageEvent(f);
    } else Jf(e) && this.events.emit(Jr.message_ack, e);
  }
  async onMessageEvent(e) {
    (await this.shouldIgnoreMessageEvent(e)) ||
      (this.events.emit(Jr.message, e), await this.recordMessageEvent(e));
  }
  async acknowledgePayload(e) {
    const t = Gf(e.id, !0);
    await this.provider.connection.send(t);
  }
  unregisterProviderListeners() {
    this.provider.off(qi.payload, this.onPayloadHandler),
      this.provider.off(qi.connect, this.onConnectHandler),
      this.provider.off(qi.disconnect, this.onDisconnectHandler),
      this.provider.off(qi.error, this.onProviderErrorHandler),
      clearTimeout(this.pingTimeout);
  }
  async registerEventListeners() {
    let e = await Og();
    PI(async (t) => {
      e !== t &&
        ((e = t),
        t
          ? await this.restartTransport().catch((i) => this.logger.error(i))
          : ((this.hasExperiencedNetworkDisruption = !0),
            await this.transportDisconnect(),
            (this.transportExplicitlyClosed = !1)));
    });
  }
  async onProviderDisconnect() {
    await this.subscriber.stop(),
      this.requestsInFlight.clear(),
      clearTimeout(this.pingTimeout),
      this.events.emit(Jr.disconnect),
      (this.connectionAttemptInProgress = !1),
      !this.transportExplicitlyClosed &&
        (this.reconnectTimeout ||
          (this.reconnectTimeout = setTimeout(async () => {
            await this.transportOpen().catch((e) => this.logger.error(e));
          }, xe.toMiliseconds(RP))));
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async toEstablishConnection() {
    await this.confirmOnlineStateOrThrow(),
      !this.connected &&
        (this.connectionAttemptInProgress &&
          (await new Promise((e) => {
            const t = setInterval(() => {
              this.connected && (clearInterval(t), e());
            }, this.connectionStatusPollingInterval);
          })),
        await this.transportOpen());
  }
}
var zO = Object.defineProperty,
  av = Object.getOwnPropertySymbols,
  kO = Object.prototype.hasOwnProperty,
  jO = Object.prototype.propertyIsEnumerable,
  ov = (r, e, t) =>
    e in r
      ? zO(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  cv = (r, e) => {
    for (var t in e || (e = {})) kO.call(e, t) && ov(r, t, e[t]);
    if (av) for (var t of av(e)) jO.call(e, t) && ov(r, t, e[t]);
    return r;
  };
class Sa extends jD {
  constructor(e, t, i, n = Kn, a = void 0) {
    super(e, t, i, n),
      (this.core = e),
      (this.logger = t),
      (this.name = i),
      (this.map = new Map()),
      (this.version = TP),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = Kn),
      (this.recentlyDeleted = []),
      (this.recentlyDeletedLimit = 200),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((h) => {
            this.getKey && h !== null && !Qr(h)
              ? this.map.set(this.getKey(h), h)
              : aI(h)
              ? this.map.set(h.id, h)
              : oI(h) && this.map.set(h.topic, h);
          }),
          (this.cached = []),
          (this.initialized = !0));
      }),
      (this.set = async (h, f) => {
        this.isInitialized(),
          this.map.has(h)
            ? await this.update(h, f)
            : (this.logger.debug("Setting value"),
              this.logger.trace({
                type: "method",
                method: "set",
                key: h,
                value: f,
              }),
              this.map.set(h, f),
              await this.persist());
      }),
      (this.get = (h) => (
        this.isInitialized(),
        this.logger.debug("Getting value"),
        this.logger.trace({ type: "method", method: "get", key: h }),
        this.getData(h)
      )),
      (this.getAll = (h) => (
        this.isInitialized(),
        h
          ? this.values.filter((f) =>
              Object.keys(h).every((v) => yP(f[v], h[v]))
            )
          : this.values
      )),
      (this.update = async (h, f) => {
        this.isInitialized(),
          this.logger.debug("Updating value"),
          this.logger.trace({
            type: "method",
            method: "update",
            key: h,
            update: f,
          });
        const v = cv(cv({}, this.getData(h)), f);
        this.map.set(h, v), await this.persist();
      }),
      (this.delete = async (h, f) => {
        this.isInitialized(),
          this.map.has(h) &&
            (this.logger.debug("Deleting value"),
            this.logger.trace({
              type: "method",
              method: "delete",
              key: h,
              reason: f,
            }),
            this.map.delete(h),
            this.addToRecentlyDeleted(h),
            await this.persist());
      }),
      (this.logger = Zr(t, this.name)),
      (this.storagePrefix = n),
      (this.getKey = a);
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.map.size;
  }
  get keys() {
    return Array.from(this.map.keys());
  }
  get values() {
    return Array.from(this.map.values());
  }
  addToRecentlyDeleted(e) {
    this.recentlyDeleted.push(e),
      this.recentlyDeleted.length >= this.recentlyDeletedLimit &&
        this.recentlyDeleted.splice(0, this.recentlyDeletedLimit / 2);
  }
  async setDataStore(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getDataStore() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getData(e) {
    const t = this.map.get(e);
    if (!t) {
      if (this.recentlyDeleted.includes(e)) {
        const { message: n } = Ae(
          "MISSING_OR_INVALID",
          `Record was recently deleted - ${this.name}: ${e}`
        );
        throw (this.logger.error(n), new Error(n));
      }
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw (this.logger.error(i), new Error(i));
    }
    return t;
  }
  async persist() {
    await this.setDataStore(this.values);
  }
  async restore() {
    try {
      const e = await this.getDataStore();
      if (typeof e > "u" || !e.length) return;
      if (this.map.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored value for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          value: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore value for ${this.name}`),
        this.logger.error(e);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class HO {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.name = UP),
      (this.version = $P),
      (this.events = new x0()),
      (this.initialized = !1),
      (this.storagePrefix = Kn),
      (this.ignoredPayloadTypes = [gs]),
      (this.registeredMethods = []),
      (this.init = async () => {
        this.initialized ||
          (await this.pairings.init(),
          await this.cleanup(),
          this.registerRelayerEvents(),
          this.registerExpirerEvents(),
          (this.initialized = !0),
          this.logger.trace("Initialized"));
      }),
      (this.register = ({ methods: i }) => {
        this.isInitialized(),
          (this.registeredMethods = [
            ...new Set([...this.registeredMethods, ...i]),
          ]);
      }),
      (this.create = async (i) => {
        this.isInitialized();
        const n = p0(),
          a = await this.core.crypto.setSymKey(n),
          h = vr(xe.FIVE_MINUTES),
          f = { protocol: J2 },
          v = {
            topic: a,
            expiry: h,
            relay: f,
            active: !1,
            methods: i == null ? void 0 : i.methods,
          },
          g = Sg({
            protocol: this.core.protocol,
            version: this.core.version,
            topic: a,
            symKey: n,
            relay: f,
            expiryTimestamp: h,
            methods: i == null ? void 0 : i.methods,
          });
        return (
          this.events.emit(ha.create, v),
          this.core.expirer.set(a, h),
          await this.pairings.set(a, v),
          await this.core.relayer.subscribe(a, {
            transportType: i == null ? void 0 : i.transportType,
          }),
          { topic: a, uri: g }
        );
      }),
      (this.pair = async (i) => {
        this.isInitialized();
        const n = this.core.eventClient.createEvent({
          properties: {
            topic: i == null ? void 0 : i.uri,
            trace: [Sn.pairing_started],
          },
        });
        this.isValidPair(i, n);
        const {
          topic: a,
          symKey: h,
          relay: f,
          expiryTimestamp: v,
          methods: g,
        } = xg(i.uri);
        (n.props.properties.topic = a),
          n.addTrace(Sn.pairing_uri_validation_success),
          n.addTrace(Sn.pairing_uri_not_expired);
        let y;
        if (this.pairings.keys.includes(a)) {
          if (
            ((y = this.pairings.get(a)),
            n.addTrace(Sn.existing_pairing),
            y.active)
          )
            throw (
              (n.setError(hs.active_pairing_already_exists),
              new Error(
                `Pairing already exists: ${a}. Please try again with a new connection URI.`
              ))
            );
          n.addTrace(Sn.pairing_not_expired);
        }
        const _ = v || vr(xe.FIVE_MINUTES),
          C = { topic: a, relay: f, expiry: _, active: !1, methods: g };
        this.core.expirer.set(a, _),
          await this.pairings.set(a, C),
          n.addTrace(Sn.store_new_pairing),
          i.activatePairing && (await this.activate({ topic: a })),
          this.events.emit(ha.create, C),
          n.addTrace(Sn.emit_inactive_pairing),
          this.core.crypto.keychain.has(a) ||
            (await this.core.crypto.setSymKey(h, a)),
          n.addTrace(Sn.subscribing_pairing_topic);
        try {
          await this.core.relayer.confirmOnlineStateOrThrow();
        } catch {
          n.setError(hs.no_internet_connection);
        }
        try {
          await this.core.relayer.subscribe(a, { relay: f });
        } catch (P) {
          throw (n.setError(hs.subscribe_pairing_topic_failure), P);
        }
        return n.addTrace(Sn.subscribe_pairing_topic_success), C;
      }),
      (this.activate = async ({ topic: i }) => {
        this.isInitialized();
        const n = vr(xe.THIRTY_DAYS);
        this.core.expirer.set(i, n),
          await this.pairings.update(i, { active: !0, expiry: n });
      }),
      (this.ping = async (i) => {
        this.isInitialized(), await this.isValidPing(i);
        const { topic: n } = i;
        if (this.pairings.keys.includes(n)) {
          const a = await this.sendRequest(n, "wc_pairingPing", {}),
            { done: h, resolve: f, reject: v } = ca();
          this.events.once(St("pairing_ping", a), ({ error: g }) => {
            g ? v(g) : f();
          }),
            await h();
        }
      }),
      (this.updateExpiry = async ({ topic: i, expiry: n }) => {
        this.isInitialized(), await this.pairings.update(i, { expiry: n });
      }),
      (this.updateMetadata = async ({ topic: i, metadata: n }) => {
        this.isInitialized(),
          await this.pairings.update(i, { peerMetadata: n });
      }),
      (this.getPairings = () => (this.isInitialized(), this.pairings.values)),
      (this.disconnect = async (i) => {
        this.isInitialized(), await this.isValidDisconnect(i);
        const { topic: n } = i;
        this.pairings.keys.includes(n) &&
          (await this.sendRequest(
            n,
            "wc_pairingDelete",
            Ut("USER_DISCONNECTED")
          ),
          await this.deletePairing(n));
      }),
      (this.formatUriFromPairing = (i) => {
        this.isInitialized();
        const { topic: n, relay: a, expiry: h, methods: f } = i,
          v = this.core.crypto.keychain.get(n);
        return Sg({
          protocol: this.core.protocol,
          version: this.core.version,
          topic: n,
          symKey: v,
          relay: a,
          expiryTimestamp: h,
          methods: f,
        });
      }),
      (this.sendRequest = async (i, n, a) => {
        const h = qs(n, a),
          f = await this.core.crypto.encode(i, h),
          v = Zo[n].req;
        return (
          this.core.history.set(i, h), this.core.relayer.publish(i, f, v), h.id
        );
      }),
      (this.sendResult = async (i, n, a) => {
        const h = Gf(i, a),
          f = await this.core.crypto.encode(n, h),
          v = await this.core.history.get(n, i),
          g = Zo[v.request.method].res;
        await this.core.relayer.publish(n, f, g),
          await this.core.history.resolve(h);
      }),
      (this.sendError = async (i, n, a) => {
        const h = Wf(i, a),
          f = await this.core.crypto.encode(n, h),
          v = await this.core.history.get(n, i),
          g = Zo[v.request.method]
            ? Zo[v.request.method].res
            : Zo.unregistered_method.res;
        await this.core.relayer.publish(n, f, g),
          await this.core.history.resolve(h);
      }),
      (this.deletePairing = async (i, n) => {
        await this.core.relayer.unsubscribe(i),
          await Promise.all([
            this.pairings.delete(i, Ut("USER_DISCONNECTED")),
            this.core.crypto.deleteSymKey(i),
            n ? Promise.resolve() : this.core.expirer.del(i),
          ]);
      }),
      (this.cleanup = async () => {
        const i = this.pairings.getAll().filter((n) => Ns(n.expiry));
        await Promise.all(i.map((n) => this.deletePairing(n.topic)));
      }),
      (this.onRelayEventRequest = (i) => {
        const { topic: n, payload: a } = i;
        switch (a.method) {
          case "wc_pairingPing":
            return this.onPairingPingRequest(n, a);
          case "wc_pairingDelete":
            return this.onPairingDeleteRequest(n, a);
          default:
            return this.onUnknownRpcMethodRequest(n, a);
        }
      }),
      (this.onRelayEventResponse = async (i) => {
        const { topic: n, payload: a } = i,
          h = (await this.core.history.get(n, a.id)).request.method;
        switch (h) {
          case "wc_pairingPing":
            return this.onPairingPingResponse(n, a);
          default:
            return this.onUnknownRpcMethodResponse(h);
        }
      }),
      (this.onPairingPingRequest = async (i, n) => {
        const { id: a } = n;
        try {
          this.isValidPing({ topic: i }),
            await this.sendResult(a, i, !0),
            this.events.emit(ha.ping, { id: a, topic: i });
        } catch (h) {
          await this.sendError(a, i, h), this.logger.error(h);
        }
      }),
      (this.onPairingPingResponse = (i, n) => {
        const { id: a } = n;
        setTimeout(() => {
          Dn(n)
            ? this.events.emit(St("pairing_ping", a), {})
            : zi(n) &&
              this.events.emit(St("pairing_ping", a), { error: n.error });
        }, 500);
      }),
      (this.onPairingDeleteRequest = async (i, n) => {
        const { id: a } = n;
        try {
          this.isValidDisconnect({ topic: i }),
            await this.deletePairing(i),
            this.events.emit(ha.delete, { id: a, topic: i });
        } catch (h) {
          await this.sendError(a, i, h), this.logger.error(h);
        }
      }),
      (this.onUnknownRpcMethodRequest = async (i, n) => {
        const { id: a, method: h } = n;
        try {
          if (this.registeredMethods.includes(h)) return;
          const f = Ut("WC_METHOD_UNSUPPORTED", h);
          await this.sendError(a, i, f), this.logger.error(f);
        } catch (f) {
          await this.sendError(a, i, f), this.logger.error(f);
        }
      }),
      (this.onUnknownRpcMethodResponse = (i) => {
        this.registeredMethods.includes(i) ||
          this.logger.error(Ut("WC_METHOD_UNSUPPORTED", i));
      }),
      (this.isValidPair = (i, n) => {
        var a;
        if (!fi(i)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            `pair() params: ${i}`
          );
          throw (n.setError(hs.malformed_pairing_uri), new Error(f));
        }
        if (!sI(i.uri)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            `pair() uri: ${i.uri}`
          );
          throw (n.setError(hs.malformed_pairing_uri), new Error(f));
        }
        const h = xg(i == null ? void 0 : i.uri);
        if (!((a = h == null ? void 0 : h.relay) != null && a.protocol)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            "pair() uri#relay-protocol"
          );
          throw (n.setError(hs.malformed_pairing_uri), new Error(f));
        }
        if (!(h != null && h.symKey)) {
          const { message: f } = Ae("MISSING_OR_INVALID", "pair() uri#symKey");
          throw (n.setError(hs.malformed_pairing_uri), new Error(f));
        }
        if (
          h != null &&
          h.expiryTimestamp &&
          xe.toMiliseconds(h == null ? void 0 : h.expiryTimestamp) < Date.now()
        ) {
          n.setError(hs.pairing_expired);
          const { message: f } = Ae(
            "EXPIRED",
            "pair() URI has expired. Please try again with a new connection URI."
          );
          throw new Error(f);
        }
      }),
      (this.isValidPing = async (i) => {
        if (!fi(i)) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `ping() params: ${i}`
          );
          throw new Error(a);
        }
        const { topic: n } = i;
        await this.isValidPairingTopic(n);
      }),
      (this.isValidDisconnect = async (i) => {
        if (!fi(i)) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `disconnect() params: ${i}`
          );
          throw new Error(a);
        }
        const { topic: n } = i;
        await this.isValidPairingTopic(n);
      }),
      (this.isValidPairingTopic = async (i) => {
        if (!hr(i, !1)) {
          const { message: n } = Ae(
            "MISSING_OR_INVALID",
            `pairing topic should be a string: ${i}`
          );
          throw new Error(n);
        }
        if (!this.pairings.keys.includes(i)) {
          const { message: n } = Ae(
            "NO_MATCHING_KEY",
            `pairing topic doesn't exist: ${i}`
          );
          throw new Error(n);
        }
        if (Ns(this.pairings.get(i).expiry)) {
          await this.deletePairing(i);
          const { message: n } = Ae("EXPIRED", `pairing topic: ${i}`);
          throw new Error(n);
        }
      }),
      (this.core = e),
      (this.logger = Zr(t, this.name)),
      (this.pairings = new Sa(
        this.core,
        this.logger,
        this.name,
        this.storagePrefix
      ));
  }
  get context() {
    return pi(this.logger);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  registerRelayerEvents() {
    this.core.relayer.on(Jr.message, async (e) => {
      const { topic: t, message: i, transportType: n } = e;
      if (
        !this.pairings.keys.includes(t) ||
        n === Kt.link_mode ||
        this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i))
      )
        return;
      const a = await this.core.crypto.decode(t, i);
      try {
        Q0(a)
          ? (this.core.history.set(t, a),
            this.onRelayEventRequest({ topic: t, payload: a }))
          : Jf(a) &&
            (await this.core.history.resolve(a),
            await this.onRelayEventResponse({ topic: t, payload: a }),
            this.core.history.delete(t, a.id));
      } catch (h) {
        this.logger.error(h);
      }
    });
  }
  registerExpirerEvents() {
    this.core.expirer.on(Ui.expired, async (e) => {
      const { topic: t } = jb(e.target);
      t &&
        this.pairings.keys.includes(t) &&
        (await this.deletePairing(t, !0),
        this.events.emit(ha.expire, { topic: t }));
    });
  }
}
class KO extends UD {
  constructor(e, t) {
    super(e, t),
      (this.core = e),
      (this.logger = t),
      (this.records = new Map()),
      (this.events = new Hi.EventEmitter()),
      (this.name = zP),
      (this.version = kP),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = Kn),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((i) => this.records.set(i.id, i)),
          (this.cached = []),
          this.registerEventListeners(),
          (this.initialized = !0));
      }),
      (this.set = (i, n, a) => {
        if (
          (this.isInitialized(),
          this.logger.debug("Setting JSON-RPC request history record"),
          this.logger.trace({
            type: "method",
            method: "set",
            topic: i,
            request: n,
            chainId: a,
          }),
          this.records.has(n.id))
        )
          return;
        const h = {
          id: n.id,
          topic: i,
          request: { method: n.method, params: n.params || null },
          chainId: a,
          expiry: vr(xe.THIRTY_DAYS),
        };
        this.records.set(h.id, h),
          this.persist(),
          this.events.emit(on.created, h);
      }),
      (this.resolve = async (i) => {
        if (
          (this.isInitialized(),
          this.logger.debug("Updating JSON-RPC response history record"),
          this.logger.trace({ type: "method", method: "update", response: i }),
          !this.records.has(i.id))
        )
          return;
        const n = await this.getRecord(i.id);
        typeof n.response > "u" &&
          ((n.response = zi(i) ? { error: i.error } : { result: i.result }),
          this.records.set(n.id, n),
          this.persist(),
          this.events.emit(on.updated, n));
      }),
      (this.get = async (i, n) => (
        this.isInitialized(),
        this.logger.debug("Getting record"),
        this.logger.trace({ type: "method", method: "get", topic: i, id: n }),
        await this.getRecord(n)
      )),
      (this.delete = (i, n) => {
        this.isInitialized(),
          this.logger.debug("Deleting record"),
          this.logger.trace({ type: "method", method: "delete", id: n }),
          this.values.forEach((a) => {
            if (a.topic === i) {
              if (typeof n < "u" && a.id !== n) return;
              this.records.delete(a.id), this.events.emit(on.deleted, a);
            }
          }),
          this.persist();
      }),
      (this.exists = async (i, n) => (
        this.isInitialized(),
        this.records.has(n) ? (await this.getRecord(n)).topic === i : !1
      )),
      (this.on = (i, n) => {
        this.events.on(i, n);
      }),
      (this.once = (i, n) => {
        this.events.once(i, n);
      }),
      (this.off = (i, n) => {
        this.events.off(i, n);
      }),
      (this.removeListener = (i, n) => {
        this.events.removeListener(i, n);
      }),
      (this.logger = Zr(t, this.name));
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get size() {
    return this.records.size;
  }
  get keys() {
    return Array.from(this.records.keys());
  }
  get values() {
    return Array.from(this.records.values());
  }
  get pending() {
    const e = [];
    return (
      this.values.forEach((t) => {
        if (typeof t.response < "u") return;
        const i = {
          topic: t.topic,
          request: qs(t.request.method, t.request.params, t.id),
          chainId: t.chainId,
        };
        return e.push(i);
      }),
      e
    );
  }
  async setJsonRpcRecords(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getJsonRpcRecords() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getRecord(e) {
    this.isInitialized();
    const t = this.records.get(e);
    if (!t) {
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw new Error(i);
    }
    return t;
  }
  async persist() {
    await this.setJsonRpcRecords(this.values), this.events.emit(on.sync);
  }
  async restore() {
    try {
      const e = await this.getJsonRpcRecords();
      if (typeof e > "u" || !e.length) return;
      if (this.records.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored records for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          records: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore records for ${this.name}`),
        this.logger.error(e);
    }
  }
  registerEventListeners() {
    this.events.on(on.created, (e) => {
      const t = on.created;
      this.logger.info(`Emitting ${t}`),
        this.logger.debug({ type: "event", event: t, record: e });
    }),
      this.events.on(on.updated, (e) => {
        const t = on.updated;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, record: e });
      }),
      this.events.on(on.deleted, (e) => {
        const t = on.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, record: e });
      }),
      this.core.heartbeat.on(Eo.pulse, () => {
        this.cleanup();
      });
  }
  cleanup() {
    try {
      this.isInitialized();
      let e = !1;
      this.records.forEach((t) => {
        xe.toMiliseconds(t.expiry || 0) - Date.now() <= 0 &&
          (this.logger.info(`Deleting expired history log: ${t.id}`),
          this.records.delete(t.id),
          this.events.emit(on.deleted, t, !1),
          (e = !0));
      }),
        e && this.persist();
    } catch (e) {
      this.logger.warn(e);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class VO extends KD {
  constructor(e, t) {
    super(e, t),
      (this.core = e),
      (this.logger = t),
      (this.expirations = new Map()),
      (this.events = new Hi.EventEmitter()),
      (this.name = jP),
      (this.version = HP),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = Kn),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((i) => this.expirations.set(i.target, i)),
          (this.cached = []),
          this.registerEventListeners(),
          (this.initialized = !0));
      }),
      (this.has = (i) => {
        try {
          const n = this.formatTarget(i);
          return typeof this.getExpiration(n) < "u";
        } catch {
          return !1;
        }
      }),
      (this.set = (i, n) => {
        this.isInitialized();
        const a = this.formatTarget(i),
          h = { target: a, expiry: n };
        this.expirations.set(a, h),
          this.checkExpiry(a, h),
          this.events.emit(Ui.created, { target: a, expiration: h });
      }),
      (this.get = (i) => {
        this.isInitialized();
        const n = this.formatTarget(i);
        return this.getExpiration(n);
      }),
      (this.del = (i) => {
        if ((this.isInitialized(), this.has(i))) {
          const n = this.formatTarget(i),
            a = this.getExpiration(n);
          this.expirations.delete(n),
            this.events.emit(Ui.deleted, { target: n, expiration: a });
        }
      }),
      (this.on = (i, n) => {
        this.events.on(i, n);
      }),
      (this.once = (i, n) => {
        this.events.once(i, n);
      }),
      (this.off = (i, n) => {
        this.events.off(i, n);
      }),
      (this.removeListener = (i, n) => {
        this.events.removeListener(i, n);
      }),
      (this.logger = Zr(t, this.name));
  }
  get context() {
    return pi(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.expirations.size;
  }
  get keys() {
    return Array.from(this.expirations.keys());
  }
  get values() {
    return Array.from(this.expirations.values());
  }
  formatTarget(e) {
    if (typeof e == "string") return SE(e);
    if (typeof e == "number") return ME(e);
    const { message: t } = Ae("UNKNOWN_TYPE", `Target type: ${typeof e}`);
    throw new Error(t);
  }
  async setExpirations(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getExpirations() {
    return await this.core.storage.getItem(this.storageKey);
  }
  async persist() {
    await this.setExpirations(this.values), this.events.emit(Ui.sync);
  }
  async restore() {
    try {
      const e = await this.getExpirations();
      if (typeof e > "u" || !e.length) return;
      if (this.expirations.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored expirations for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          expirations: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore expirations for ${this.name}`),
        this.logger.error(e);
    }
  }
  getExpiration(e) {
    const t = this.expirations.get(e);
    if (!t) {
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw (this.logger.warn(i), new Error(i));
    }
    return t;
  }
  checkExpiry(e, t) {
    const { expiry: i } = t;
    xe.toMiliseconds(i) - Date.now() <= 0 && this.expire(e, t);
  }
  expire(e, t) {
    this.expirations.delete(e),
      this.events.emit(Ui.expired, { target: e, expiration: t });
  }
  checkExpirations() {
    this.core.relayer.connected &&
      this.expirations.forEach((e, t) => this.checkExpiry(t, e));
  }
  registerEventListeners() {
    this.core.heartbeat.on(Eo.pulse, () => this.checkExpirations()),
      this.events.on(Ui.created, (e) => {
        const t = Ui.created;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      }),
      this.events.on(Ui.expired, (e) => {
        const t = Ui.expired;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      }),
      this.events.on(Ui.deleted, (e) => {
        const t = Ui.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
var Qt = {};
Object.defineProperty(Qt, "__esModule", { value: !0 }),
  (Qt.getLocalStorage =
    Qt.getLocalStorageOrThrow =
    Qt.getCrypto =
    Qt.getCryptoOrThrow =
    Qt.getLocation =
    Qt.getLocationOrThrow =
    Qt.getNavigator =
    Qt.getNavigatorOrThrow =
    cm =
    Qt.getDocument =
    Qt.getDocumentOrThrow =
    Qt.getFromWindowOrThrow =
    Qt.getFromWindow =
      void 0);
function Ma(r) {
  let e;
  return typeof window < "u" && typeof window[r] < "u" && (e = window[r]), e;
}
Qt.getFromWindow = Ma;
function xo(r) {
  const e = Ma(r);
  if (!e) throw new Error(`${r} is not defined in Window`);
  return e;
}
Qt.getFromWindowOrThrow = xo;
function GO() {
  return xo("document");
}
Qt.getDocumentOrThrow = GO;
function WO() {
  return Ma("document");
}
var cm = (Qt.getDocument = WO);
function JO() {
  return xo("navigator");
}
Qt.getNavigatorOrThrow = JO;
function YO() {
  return Ma("navigator");
}
Qt.getNavigator = YO;
function QO() {
  return xo("location");
}
Qt.getLocationOrThrow = QO;
function XO() {
  return Ma("location");
}
Qt.getLocation = XO;
function ZO() {
  return xo("crypto");
}
Qt.getCryptoOrThrow = ZO;
function eN() {
  return Ma("crypto");
}
Qt.getCrypto = eN;
function tN() {
  return xo("localStorage");
}
Qt.getLocalStorageOrThrow = tN;
function rN() {
  return Ma("localStorage");
}
Qt.getLocalStorage = rN;
class iN extends VD {
  constructor(e, t, i) {
    super(e, t, i),
      (this.core = e),
      (this.logger = t),
      (this.store = i),
      (this.name = KP),
      (this.verifyUrlV3 = GP),
      (this.storagePrefix = Kn),
      (this.version = W2),
      (this.init = async () => {
        var n;
        this.isDevEnv ||
          ((this.publicKey = await this.store.getItem(this.storeKey)),
          this.publicKey &&
            xe.toMiliseconds(
              (n = this.publicKey) == null ? void 0 : n.expiresAt
            ) < Date.now() &&
            (this.logger.debug("verify v2 public key expired"),
            await this.removePublicKey()));
      }),
      (this.register = async (n) => {
        if (!Ic() || this.isDevEnv) return;
        const a = window.location.origin,
          { id: h, decryptedId: f } = n,
          v = `${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${h}&decryptedId=${f}`;
        try {
          const g = cm(),
            y = this.startAbortTimer(xe.ONE_SECOND * 5),
            _ = await new Promise((C, P) => {
              const O = () => {
                window.removeEventListener("message", G),
                  g.body.removeChild(H),
                  P("attestation aborted");
              };
              this.abortController.signal.addEventListener("abort", O);
              const H = g.createElement("iframe");
              (H.src = v),
                (H.style.display = "none"),
                H.addEventListener("error", O, {
                  signal: this.abortController.signal,
                });
              const G = (Q) => {
                if (Q.data && typeof Q.data == "string")
                  try {
                    const z = JSON.parse(Q.data);
                    if (z.type === "verify_attestation") {
                      if (o0(z.attestation).payload.id !== h) return;
                      clearInterval(y),
                        g.body.removeChild(H),
                        this.abortController.signal.removeEventListener(
                          "abort",
                          O
                        ),
                        window.removeEventListener("message", G),
                        C(z.attestation === null ? "" : z.attestation);
                    }
                  } catch (z) {
                    this.logger.warn(z);
                  }
              };
              g.body.appendChild(H),
                window.addEventListener("message", G, {
                  signal: this.abortController.signal,
                });
            });
          return this.logger.debug("jwt attestation", _), _;
        } catch (g) {
          this.logger.warn(g);
        }
        return "";
      }),
      (this.resolve = async (n) => {
        if (this.isDevEnv) return "";
        const { attestationId: a, hash: h, encryptedId: f } = n;
        if (a === "") {
          this.logger.debug("resolve: attestationId is empty, skipping");
          return;
        }
        if (a) {
          if (o0(a).payload.id !== f) return;
          const g = await this.isValidJwtAttestation(a);
          if (g) {
            if (!g.isVerified) {
              this.logger.warn(
                "resolve: jwt attestation: origin url not verified"
              );
              return;
            }
            return g;
          }
        }
        if (!h) return;
        const v = this.getVerifyUrl(n == null ? void 0 : n.verifyUrl);
        return this.fetchAttestation(h, v);
      }),
      (this.fetchAttestation = async (n, a) => {
        this.logger.debug(`resolving attestation: ${n} from url: ${a}`);
        const h = this.startAbortTimer(xe.ONE_SECOND * 5),
          f = await fetch(`${a}/attestation/${n}?v2Supported=true`, {
            signal: this.abortController.signal,
          });
        return clearTimeout(h), f.status === 200 ? await f.json() : void 0;
      }),
      (this.getVerifyUrl = (n) => {
        let a = n || lc;
        return (
          WP.includes(a) ||
            (this.logger.info(
              `verify url: ${a}, not included in trusted list, assigning default: ${lc}`
            ),
            (a = lc)),
          a
        );
      }),
      (this.fetchPublicKey = async () => {
        try {
          this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);
          const n = this.startAbortTimer(xe.FIVE_SECONDS),
            a = await fetch(`${this.verifyUrlV3}/public-key`, {
              signal: this.abortController.signal,
            });
          return clearTimeout(n), await a.json();
        } catch (n) {
          this.logger.warn(n);
        }
      }),
      (this.persistPublicKey = async (n) => {
        this.logger.debug("persisting public key to local storage", n),
          await this.store.setItem(this.storeKey, n),
          (this.publicKey = n);
      }),
      (this.removePublicKey = async () => {
        this.logger.debug("removing verify v2 public key from storage"),
          await this.store.removeItem(this.storeKey),
          (this.publicKey = void 0);
      }),
      (this.isValidJwtAttestation = async (n) => {
        const a = await this.getPublicKey();
        try {
          if (a) return this.validateAttestation(n, a);
        } catch (f) {
          this.logger.error(f),
            this.logger.warn("error validating attestation");
        }
        const h = await this.fetchAndPersistPublicKey();
        try {
          if (h) return this.validateAttestation(n, h);
        } catch (f) {
          this.logger.error(f),
            this.logger.warn("error validating attestation");
        }
      }),
      (this.getPublicKey = async () =>
        this.publicKey
          ? this.publicKey
          : await this.fetchAndPersistPublicKey()),
      (this.fetchAndPersistPublicKey = async () => {
        if (this.fetchPromise) return await this.fetchPromise, this.publicKey;
        this.fetchPromise = new Promise(async (a) => {
          const h = await this.fetchPublicKey();
          h && (await this.persistPublicKey(h), a(h));
        });
        const n = await this.fetchPromise;
        return (this.fetchPromise = void 0), n;
      }),
      (this.validateAttestation = (n, a) => {
        const h = $M(n, a.publicKey),
          f = { hasExpired: xe.toMiliseconds(h.exp) < Date.now(), payload: h };
        if (f.hasExpired)
          throw (
            (this.logger.warn("resolve: jwt attestation expired"),
            new Error("JWT attestation expired"))
          );
        return {
          origin: f.payload.origin,
          isScam: f.payload.isScam,
          isVerified: f.payload.isVerified,
        };
      }),
      (this.logger = Zr(t, this.name)),
      (this.abortController = new AbortController()),
      (this.isDevEnv = U0()),
      this.init();
  }
  get storeKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//verify:public:key"
    );
  }
  get context() {
    return pi(this.logger);
  }
  startAbortTimer(e) {
    return (
      (this.abortController = new AbortController()),
      setTimeout(() => this.abortController.abort(), xe.toMiliseconds(e))
    );
  }
}
class nN extends GD {
  constructor(e, t) {
    super(e, t),
      (this.projectId = e),
      (this.logger = t),
      (this.context = JP),
      (this.registerDeviceToken = async (i) => {
        const {
            clientId: n,
            token: a,
            notificationType: h,
            enableEncrypted: f = !1,
          } = i,
          v = `${YP}/${this.projectId}/clients`;
        await fetch(v, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            client_id: n,
            type: h,
            token: a,
            always_raw: f,
          }),
        });
      }),
      (this.logger = Zr(t, this.context));
  }
}
var sN = Object.defineProperty,
  hv = Object.getOwnPropertySymbols,
  aN = Object.prototype.hasOwnProperty,
  oN = Object.prototype.propertyIsEnumerable,
  fv = (r, e, t) =>
    e in r
      ? sN(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  rc = (r, e) => {
    for (var t in e || (e = {})) aN.call(e, t) && fv(r, t, e[t]);
    if (hv) for (var t of hv(e)) oN.call(e, t) && fv(r, t, e[t]);
    return r;
  };
class cN extends WD {
  constructor(e, t, i = !0) {
    super(e, t, i),
      (this.core = e),
      (this.logger = t),
      (this.context = XP),
      (this.storagePrefix = Kn),
      (this.storageVersion = QP),
      (this.events = new Map()),
      (this.shouldPersist = !1),
      (this.init = async () => {
        if (!U0())
          try {
            const n = {
              eventId: j1(),
              timestamp: Date.now(),
              domain: this.getAppDomain(),
              props: {
                event: "INIT",
                type: "",
                properties: {
                  client_id: await this.core.crypto.getClientId(),
                  user_agent: Ub(
                    this.core.relayer.protocol,
                    this.core.relayer.version,
                    m0
                  ),
                },
              },
            };
            await this.sendEvent([n]);
          } catch (n) {
            this.logger.warn(n);
          }
      }),
      (this.createEvent = (n) => {
        const {
            event: a = "ERROR",
            type: h = "",
            properties: { topic: f, trace: v },
          } = n,
          g = j1(),
          y = this.core.projectId || "",
          _ = Date.now(),
          C = rc(
            {
              eventId: g,
              timestamp: _,
              props: { event: a, type: h, properties: { topic: f, trace: v } },
              bundleId: y,
              domain: this.getAppDomain(),
            },
            this.setMethods(g)
          );
        return (
          this.telemetryEnabled &&
            (this.events.set(g, C), (this.shouldPersist = !0)),
          C
        );
      }),
      (this.getEvent = (n) => {
        const { eventId: a, topic: h } = n;
        if (a) return this.events.get(a);
        const f = Array.from(this.events.values()).find(
          (v) => v.props.properties.topic === h
        );
        if (f) return rc(rc({}, f), this.setMethods(f.eventId));
      }),
      (this.deleteEvent = (n) => {
        const { eventId: a } = n;
        this.events.delete(a), (this.shouldPersist = !0);
      }),
      (this.setEventListeners = () => {
        this.core.heartbeat.on(Eo.pulse, async () => {
          this.shouldPersist && (await this.persist()),
            this.events.forEach((n) => {
              xe.fromMiliseconds(Date.now()) - xe.fromMiliseconds(n.timestamp) >
                ZP &&
                (this.events.delete(n.eventId), (this.shouldPersist = !0));
            });
        });
      }),
      (this.setMethods = (n) => ({
        addTrace: (a) => this.addTrace(n, a),
        setError: (a) => this.setError(n, a),
      })),
      (this.addTrace = (n, a) => {
        const h = this.events.get(n);
        h &&
          (h.props.properties.trace.push(a),
          this.events.set(n, h),
          (this.shouldPersist = !0));
      }),
      (this.setError = (n, a) => {
        const h = this.events.get(n);
        h &&
          ((h.props.type = a),
          (h.timestamp = Date.now()),
          this.events.set(n, h),
          (this.shouldPersist = !0));
      }),
      (this.persist = async () => {
        await this.core.storage.setItem(
          this.storageKey,
          Array.from(this.events.values())
        ),
          (this.shouldPersist = !1);
      }),
      (this.restore = async () => {
        try {
          const n = (await this.core.storage.getItem(this.storageKey)) || [];
          if (!n.length) return;
          n.forEach((a) => {
            this.events.set(
              a.eventId,
              rc(rc({}, a), this.setMethods(a.eventId))
            );
          });
        } catch (n) {
          this.logger.warn(n);
        }
      }),
      (this.submit = async () => {
        if (!this.telemetryEnabled || this.events.size === 0) return;
        const n = [];
        for (const [a, h] of this.events) h.props.type && n.push(h);
        if (n.length !== 0)
          try {
            if ((await this.sendEvent(n)).ok)
              for (const a of n)
                this.events.delete(a.eventId), (this.shouldPersist = !0);
          } catch (a) {
            this.logger.warn(a);
          }
      }),
      (this.sendEvent = async (n) => {
        const a = this.getAppDomain() ? "" : "&sp=desktop";
        return await fetch(
          `${eC}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${m0}${a}`,
          { method: "POST", body: JSON.stringify(n) }
        );
      }),
      (this.getAppDomain = () => qb().url),
      (this.logger = Zr(t, this.context)),
      (this.telemetryEnabled = i),
      i
        ? this.restore().then(async () => {
            await this.submit(), this.setEventListeners();
          })
        : this.persist();
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.storageVersion +
      this.core.customStoragePrefix +
      "//" +
      this.context
    );
  }
}
var hN = Object.defineProperty,
  uv = Object.getOwnPropertySymbols,
  fN = Object.prototype.hasOwnProperty,
  uN = Object.prototype.propertyIsEnumerable,
  lv = (r, e, t) =>
    e in r
      ? hN(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  dv = (r, e) => {
    for (var t in e || (e = {})) fN.call(e, t) && lv(r, t, e[t]);
    if (uv) for (var t of uv(e)) uN.call(e, t) && lv(r, t, e[t]);
    return r;
  };
class Z0 extends qD {
  constructor(e) {
    var t;
    super(e),
      (this.protocol = G2),
      (this.version = W2),
      (this.name = X0),
      (this.events = new Hi.EventEmitter()),
      (this.initialized = !1),
      (this.on = (h, f) => this.events.on(h, f)),
      (this.once = (h, f) => this.events.once(h, f)),
      (this.off = (h, f) => this.events.off(h, f)),
      (this.removeListener = (h, f) => this.events.removeListener(h, f)),
      (this.dispatchEnvelope = ({ topic: h, message: f, sessionExists: v }) => {
        if (!h || !f) return;
        const g = {
          topic: h,
          message: f,
          publishedAt: Date.now(),
          transportType: Kt.link_mode,
        };
        this.relayer.onLinkMessageEvent(g, { sessionExists: v });
      }),
      (this.projectId = e == null ? void 0 : e.projectId),
      (this.relayUrl = (e == null ? void 0 : e.relayUrl) || Y2),
      (this.customStoragePrefix =
        e != null && e.customStoragePrefix ? `:${e.customStoragePrefix}` : "");
    const i = Vf({
        level:
          typeof (e == null ? void 0 : e.logger) == "string" && e.logger
            ? e.logger
            : wP.logger,
      }),
      { logger: n, chunkLoggerController: a } = LD({
        opts: i,
        maxSizeInBytes: e == null ? void 0 : e.maxLogBlobSizeInBytes,
        loggerOverride: e == null ? void 0 : e.logger,
      });
    (this.logChunkController = a),
      (t = this.logChunkController) != null &&
        t.downloadLogsBlobInBrowser &&
        (window.downloadLogsBlobInBrowser = async () => {
          var h, f;
          (h = this.logChunkController) != null &&
            h.downloadLogsBlobInBrowser &&
            ((f = this.logChunkController) == null ||
              f.downloadLogsBlobInBrowser({
                clientId: await this.crypto.getClientId(),
              }));
        }),
      (this.logger = Zr(n, this.name)),
      (this.heartbeat = new RI()),
      (this.crypto = new MO(
        this,
        this.logger,
        e == null ? void 0 : e.keychain
      )),
      (this.history = new KO(this, this.logger)),
      (this.expirer = new VO(this, this.logger)),
      (this.storage =
        e != null && e.storage
          ? e.storage
          : new hD(dv(dv({}, _P), e == null ? void 0 : e.storageOptions))),
      (this.relayer = new $O({
        core: this,
        logger: this.logger,
        relayUrl: this.relayUrl,
        projectId: this.projectId,
      })),
      (this.pairing = new HO(this, this.logger)),
      (this.verify = new iN(this, this.logger, this.storage)),
      (this.echoClient = new nN(this.projectId || "", this.logger)),
      (this.linkModeSupportedApps = []),
      (this.eventClient = new cN(
        this,
        this.logger,
        e == null ? void 0 : e.telemetryEnabled
      ));
  }
  static async init(e) {
    const t = new Z0(e);
    await t.initialize();
    const i = await t.crypto.getClientId();
    return await t.storage.setItem(FP, i), t;
  }
  get context() {
    return pi(this.logger);
  }
  async start() {
    this.initialized || (await this.initialize());
  }
  async getLogsBlob() {
    var e;
    return (e = this.logChunkController) == null
      ? void 0
      : e.logsToBlob({ clientId: await this.crypto.getClientId() });
  }
  async addLinkModeSupportedApp(e) {
    this.linkModeSupportedApps.includes(e) ||
      (this.linkModeSupportedApps.push(e),
      await this.storage.setItem(Jg, this.linkModeSupportedApps));
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.crypto.init(),
        await this.history.init(),
        await this.expirer.init(),
        await this.relayer.init(),
        await this.heartbeat.init(),
        await this.pairing.init(),
        this.eventClient.init(),
        (this.linkModeSupportedApps = (await this.storage.getItem(Jg)) || []),
        (this.initialized = !0),
        this.logger.info("Core Initialization Success");
    } catch (e) {
      throw (
        (this.logger.warn(
          `Core Initialization Failure at epoch ${Date.now()}`,
          e
        ),
        this.logger.error(e.message),
        e)
      );
    }
  }
}
const lN = Z0,
  hm = "wc",
  fm = 2,
  um = "client",
  ed = `${hm}@${fm}:${um}:`,
  kl = {
    name: um,
    logger: "error",
    controller: !1,
    relayUrl: "wss://relay.walletconnect.org",
  },
  pv = "WALLETCONNECT_DEEPLINK_CHOICE",
  dN = "proposal",
  lm = "Proposal expired",
  pN = "session",
  Wa = xe.SEVEN_DAYS,
  gN = "engine",
  wr = {
    wc_sessionPropose: {
      req: { ttl: xe.FIVE_MINUTES, prompt: !0, tag: 1100 },
      res: { ttl: xe.FIVE_MINUTES, prompt: !1, tag: 1101 },
      reject: { ttl: xe.FIVE_MINUTES, prompt: !1, tag: 1120 },
      autoReject: { ttl: xe.FIVE_MINUTES, prompt: !1, tag: 1121 },
    },
    wc_sessionSettle: {
      req: { ttl: xe.FIVE_MINUTES, prompt: !1, tag: 1102 },
      res: { ttl: xe.FIVE_MINUTES, prompt: !1, tag: 1103 },
    },
    wc_sessionUpdate: {
      req: { ttl: xe.ONE_DAY, prompt: !1, tag: 1104 },
      res: { ttl: xe.ONE_DAY, prompt: !1, tag: 1105 },
    },
    wc_sessionExtend: {
      req: { ttl: xe.ONE_DAY, prompt: !1, tag: 1106 },
      res: { ttl: xe.ONE_DAY, prompt: !1, tag: 1107 },
    },
    wc_sessionRequest: {
      req: { ttl: xe.FIVE_MINUTES, prompt: !0, tag: 1108 },
      res: { ttl: xe.FIVE_MINUTES, prompt: !1, tag: 1109 },
    },
    wc_sessionEvent: {
      req: { ttl: xe.FIVE_MINUTES, prompt: !0, tag: 1110 },
      res: { ttl: xe.FIVE_MINUTES, prompt: !1, tag: 1111 },
    },
    wc_sessionDelete: {
      req: { ttl: xe.ONE_DAY, prompt: !1, tag: 1112 },
      res: { ttl: xe.ONE_DAY, prompt: !1, tag: 1113 },
    },
    wc_sessionPing: {
      req: { ttl: xe.ONE_DAY, prompt: !1, tag: 1114 },
      res: { ttl: xe.ONE_DAY, prompt: !1, tag: 1115 },
    },
    wc_sessionAuthenticate: {
      req: { ttl: xe.ONE_HOUR, prompt: !0, tag: 1116 },
      res: { ttl: xe.ONE_HOUR, prompt: !1, tag: 1117 },
      reject: { ttl: xe.FIVE_MINUTES, prompt: !1, tag: 1118 },
      autoReject: { ttl: xe.FIVE_MINUTES, prompt: !1, tag: 1119 },
    },
  },
  jl = { min: xe.FIVE_MINUTES, max: xe.SEVEN_DAYS },
  xn = { idle: "IDLE", active: "ACTIVE" },
  vN = "request",
  bN = [
    "wc_sessionPropose",
    "wc_sessionRequest",
    "wc_authRequest",
    "wc_sessionAuthenticate",
  ],
  mN = "wc",
  yN = "auth",
  wN = "authKeys",
  _N = "pairingTopics",
  AN = "requests",
  Qf = `${mN}@${1.5}:${yN}:`,
  of = `${Qf}:PUB_KEY`;
var EN = Object.defineProperty,
  xN = Object.defineProperties,
  SN = Object.getOwnPropertyDescriptors,
  gv = Object.getOwnPropertySymbols,
  MN = Object.prototype.hasOwnProperty,
  IN = Object.prototype.propertyIsEnumerable,
  vv = (r, e, t) =>
    e in r
      ? EN(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  rr = (r, e) => {
    for (var t in e || (e = {})) MN.call(e, t) && vv(r, t, e[t]);
    if (gv) for (var t of gv(e)) IN.call(e, t) && vv(r, t, e[t]);
    return r;
  },
  hn = (r, e) => xN(r, SN(e));
class DN extends YD {
  constructor(e) {
    super(e),
      (this.name = gN),
      (this.events = new x0()),
      (this.initialized = !1),
      (this.requestQueue = { state: xn.idle, queue: [] }),
      (this.sessionRequestQueue = { state: xn.idle, queue: [] }),
      (this.requestQueueDelay = xe.ONE_SECOND),
      (this.expectedPairingMethodMap = new Map()),
      (this.recentlyDeletedMap = new Map()),
      (this.recentlyDeletedLimit = 200),
      (this.relayMessageCache = []),
      (this.init = async () => {
        this.initialized ||
          (await this.cleanup(),
          this.registerRelayerEvents(),
          this.registerExpirerEvents(),
          this.registerPairingEvents(),
          await this.registerLinkModeListeners(),
          this.client.core.pairing.register({ methods: Object.keys(wr) }),
          (this.initialized = !0),
          setTimeout(() => {
            (this.sessionRequestQueue.queue = this.getPendingSessionRequests()),
              this.processSessionRequestQueue();
          }, xe.toMiliseconds(this.requestQueueDelay)));
      }),
      (this.connect = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        const i = hn(rr({}, t), {
          requiredNamespaces: t.requiredNamespaces || {},
          optionalNamespaces: t.optionalNamespaces || {},
        });
        await this.isValidConnect(i);
        const {
          pairingTopic: n,
          requiredNamespaces: a,
          optionalNamespaces: h,
          sessionProperties: f,
          relays: v,
        } = i;
        let g = n,
          y,
          _ = !1;
        try {
          g && (_ = this.client.core.pairing.pairings.get(g).active);
        } catch (q) {
          throw (
            (this.client.logger.error(`connect() -> pairing.get(${g}) failed`),
            q)
          );
        }
        if (!g || !_) {
          const { topic: q, uri: k } = await this.client.core.pairing.create();
          (g = q), (y = k);
        }
        if (!g) {
          const { message: q } = Ae(
            "NO_MATCHING_KEY",
            `connect() pairing topic: ${g}`
          );
          throw new Error(q);
        }
        const C = await this.client.core.crypto.generateKeyPair(),
          P = wr.wc_sessionPropose.req.ttl || xe.FIVE_MINUTES,
          O = vr(P),
          H = rr(
            {
              requiredNamespaces: a,
              optionalNamespaces: h,
              relays: v ?? [{ protocol: J2 }],
              proposer: { publicKey: C, metadata: this.client.metadata },
              expiryTimestamp: O,
              pairingTopic: g,
            },
            f && { sessionProperties: f }
          ),
          { reject: G, resolve: Q, done: z } = ca(P, lm);
        this.events.once(
          St("session_connect"),
          async ({ error: q, session: k }) => {
            if (q) G(q);
            else if (k) {
              k.self.publicKey = C;
              const V = hn(rr({}, k), {
                pairingTopic: H.pairingTopic,
                requiredNamespaces: H.requiredNamespaces,
                optionalNamespaces: H.optionalNamespaces,
                transportType: Kt.relay,
              });
              await this.client.session.set(k.topic, V),
                await this.setExpiry(k.topic, k.expiry),
                g &&
                  (await this.client.core.pairing.updateMetadata({
                    topic: g,
                    metadata: k.peer.metadata,
                  })),
                this.cleanupDuplicatePairings(V),
                Q(V);
            }
          }
        );
        const Y = await this.sendRequest({
          topic: g,
          method: "wc_sessionPropose",
          params: H,
          throwOnFailedPublish: !0,
        });
        return (
          await this.setProposal(Y, rr({ id: Y }, H)), { uri: y, approval: z }
        );
      }),
      (this.pair = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          return await this.client.core.pairing.pair(t);
        } catch (i) {
          throw (this.client.logger.error("pair() failed"), i);
        }
      }),
      (this.approve = async (t) => {
        var i, n, a;
        const h = this.client.core.eventClient.createEvent({
          properties: {
            topic:
              (i = t == null ? void 0 : t.id) == null ? void 0 : i.toString(),
            trace: [cn.session_approve_started],
          },
        });
        try {
          this.isInitialized(), await this.confirmOnlineStateOrThrow();
        } catch (F) {
          throw (h.setError(aa.no_internet_connection), F);
        }
        try {
          await this.isValidProposalId(t == null ? void 0 : t.id);
        } catch (F) {
          throw (
            (this.client.logger.error(
              `approve() -> proposal.get(${t == null ? void 0 : t.id}) failed`
            ),
            h.setError(aa.proposal_not_found),
            F)
          );
        }
        try {
          await this.isValidApprove(t);
        } catch (F) {
          throw (
            (this.client.logger.error("approve() -> isValidApprove() failed"),
            h.setError(aa.session_approve_namespace_validation_failure),
            F)
          );
        }
        const {
            id: f,
            relayProtocol: v,
            namespaces: g,
            sessionProperties: y,
            sessionConfig: _,
          } = t,
          C = this.client.proposal.get(f);
        this.client.core.eventClient.deleteEvent({ eventId: h.eventId });
        const {
          pairingTopic: P,
          proposer: O,
          requiredNamespaces: H,
          optionalNamespaces: G,
        } = C;
        let Q =
          (n = this.client.core.eventClient) == null
            ? void 0
            : n.getEvent({ topic: P });
        Q ||
          (Q =
            (a = this.client.core.eventClient) == null
              ? void 0
              : a.createEvent({
                  type: cn.session_approve_started,
                  properties: {
                    topic: P,
                    trace: [
                      cn.session_approve_started,
                      cn.session_namespaces_validation_success,
                    ],
                  },
                }));
        const z = await this.client.core.crypto.generateKeyPair(),
          Y = O.publicKey,
          q = await this.client.core.crypto.generateSharedKey(z, Y),
          k = rr(
            rr(
              {
                relay: { protocol: v ?? "irn" },
                namespaces: g,
                controller: { publicKey: z, metadata: this.client.metadata },
                expiry: vr(Wa),
              },
              y && { sessionProperties: y }
            ),
            _ && { sessionConfig: _ }
          ),
          V = Kt.relay;
        Q.addTrace(cn.subscribing_session_topic);
        try {
          await this.client.core.relayer.subscribe(q, { transportType: V });
        } catch (F) {
          throw (Q.setError(aa.subscribe_session_topic_failure), F);
        }
        Q.addTrace(cn.subscribe_session_topic_success);
        const A = hn(rr({}, k), {
          topic: q,
          requiredNamespaces: H,
          optionalNamespaces: G,
          pairingTopic: P,
          acknowledged: !1,
          self: k.controller,
          peer: { publicKey: O.publicKey, metadata: O.metadata },
          controller: z,
          transportType: Kt.relay,
        });
        await this.client.session.set(q, A), Q.addTrace(cn.store_session);
        try {
          Q.addTrace(cn.publishing_session_settle),
            await this.sendRequest({
              topic: q,
              method: "wc_sessionSettle",
              params: k,
              throwOnFailedPublish: !0,
            }).catch((F) => {
              throw (
                (Q == null || Q.setError(aa.session_settle_publish_failure), F)
              );
            }),
            Q.addTrace(cn.session_settle_publish_success),
            Q.addTrace(cn.publishing_session_approve),
            await this.sendResult({
              id: f,
              topic: P,
              result: {
                relay: { protocol: v ?? "irn" },
                responderPublicKey: z,
              },
              throwOnFailedPublish: !0,
            }).catch((F) => {
              throw (
                (Q == null || Q.setError(aa.session_approve_publish_failure), F)
              );
            }),
            Q.addTrace(cn.session_approve_publish_success);
        } catch (F) {
          throw (
            (this.client.logger.error(F),
            this.client.session.delete(q, Ut("USER_DISCONNECTED")),
            await this.client.core.relayer.unsubscribe(q),
            F)
          );
        }
        return (
          this.client.core.eventClient.deleteEvent({ eventId: Q.eventId }),
          await this.client.core.pairing.updateMetadata({
            topic: P,
            metadata: O.metadata,
          }),
          await this.client.proposal.delete(f, Ut("USER_DISCONNECTED")),
          await this.client.core.pairing.activate({ topic: P }),
          await this.setExpiry(q, vr(Wa)),
          {
            topic: q,
            acknowledged: () => Promise.resolve(this.client.session.get(q)),
          }
        );
      }),
      (this.reject = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidReject(t);
        } catch (h) {
          throw (
            (this.client.logger.error("reject() -> isValidReject() failed"), h)
          );
        }
        const { id: i, reason: n } = t;
        let a;
        try {
          a = this.client.proposal.get(i).pairingTopic;
        } catch (h) {
          throw (
            (this.client.logger.error(`reject() -> proposal.get(${i}) failed`),
            h)
          );
        }
        a &&
          (await this.sendError({
            id: i,
            topic: a,
            error: n,
            rpcOpts: wr.wc_sessionPropose.reject,
          }),
          await this.client.proposal.delete(i, Ut("USER_DISCONNECTED")));
      }),
      (this.update = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidUpdate(t);
        } catch (_) {
          throw (
            (this.client.logger.error("update() -> isValidUpdate() failed"), _)
          );
        }
        const { topic: i, namespaces: n } = t,
          { done: a, resolve: h, reject: f } = ca(),
          v = Rs(),
          g = ua().toString(),
          y = this.client.session.get(i).namespaces;
        return (
          this.events.once(St("session_update", v), ({ error: _ }) => {
            _ ? f(_) : h();
          }),
          await this.client.session.update(i, { namespaces: n }),
          await this.sendRequest({
            topic: i,
            method: "wc_sessionUpdate",
            params: { namespaces: n },
            throwOnFailedPublish: !0,
            clientRpcId: v,
            relayRpcId: g,
          }).catch((_) => {
            this.client.logger.error(_),
              this.client.session.update(i, { namespaces: y }),
              f(_);
          }),
          { acknowledged: a }
        );
      }),
      (this.extend = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidExtend(t);
        } catch (v) {
          throw (
            (this.client.logger.error("extend() -> isValidExtend() failed"), v)
          );
        }
        const { topic: i } = t,
          n = Rs(),
          { done: a, resolve: h, reject: f } = ca();
        return (
          this.events.once(St("session_extend", n), ({ error: v }) => {
            v ? f(v) : h();
          }),
          await this.setExpiry(i, vr(Wa)),
          this.sendRequest({
            topic: i,
            method: "wc_sessionExtend",
            params: {},
            clientRpcId: n,
            throwOnFailedPublish: !0,
          }).catch((v) => {
            f(v);
          }),
          { acknowledged: a }
        );
      }),
      (this.request = async (t) => {
        this.isInitialized();
        try {
          await this.isValidRequest(t);
        } catch (O) {
          throw (
            (this.client.logger.error("request() -> isValidRequest() failed"),
            O)
          );
        }
        const {
            chainId: i,
            request: n,
            topic: a,
            expiry: h = wr.wc_sessionRequest.req.ttl,
          } = t,
          f = this.client.session.get(a);
        (f == null ? void 0 : f.transportType) === Kt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const v = Rs(),
          g = ua().toString(),
          {
            done: y,
            resolve: _,
            reject: C,
          } = ca(h, "Request expired. Please try again.");
        this.events.once(
          St("session_request", v),
          ({ error: O, result: H }) => {
            O ? C(O) : _(H);
          }
        );
        const P = this.getAppLinkIfEnabled(f.peer.metadata, f.transportType);
        return P
          ? (await this.sendRequest({
              clientRpcId: v,
              relayRpcId: g,
              topic: a,
              method: "wc_sessionRequest",
              params: {
                request: hn(rr({}, n), { expiryTimestamp: vr(h) }),
                chainId: i,
              },
              expiry: h,
              throwOnFailedPublish: !0,
              appLink: P,
            }).catch((O) => C(O)),
            this.client.events.emit("session_request_sent", {
              topic: a,
              request: n,
              chainId: i,
              id: v,
            }),
            await y())
          : await Promise.all([
              new Promise(async (O) => {
                await this.sendRequest({
                  clientRpcId: v,
                  relayRpcId: g,
                  topic: a,
                  method: "wc_sessionRequest",
                  params: {
                    request: hn(rr({}, n), { expiryTimestamp: vr(h) }),
                    chainId: i,
                  },
                  expiry: h,
                  throwOnFailedPublish: !0,
                }).catch((H) => C(H)),
                  this.client.events.emit("session_request_sent", {
                    topic: a,
                    request: n,
                    chainId: i,
                    id: v,
                  }),
                  O();
              }),
              new Promise(async (O) => {
                var H;
                if (!((H = f.sessionConfig) != null && H.disableDeepLink)) {
                  const G = await PE(this.client.core.storage, pv);
                  await IE({ id: v, topic: a, wcDeepLink: G });
                }
                O();
              }),
              y(),
            ]).then((O) => O[2]);
      }),
      (this.respond = async (t) => {
        this.isInitialized(), await this.isValidRespond(t);
        const { topic: i, response: n } = t,
          { id: a } = n,
          h = this.client.session.get(i);
        h.transportType === Kt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const f = this.getAppLinkIfEnabled(h.peer.metadata, h.transportType);
        Dn(n)
          ? await this.sendResult({
              id: a,
              topic: i,
              result: n.result,
              throwOnFailedPublish: !0,
              appLink: f,
            })
          : zi(n) &&
            (await this.sendError({
              id: a,
              topic: i,
              error: n.error,
              appLink: f,
            })),
          this.cleanupAfterResponse(t);
      }),
      (this.ping = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidPing(t);
        } catch (n) {
          throw (this.client.logger.error("ping() -> isValidPing() failed"), n);
        }
        const { topic: i } = t;
        if (this.client.session.keys.includes(i)) {
          const n = Rs(),
            a = ua().toString(),
            { done: h, resolve: f, reject: v } = ca();
          this.events.once(St("session_ping", n), ({ error: g }) => {
            g ? v(g) : f();
          }),
            await Promise.all([
              this.sendRequest({
                topic: i,
                method: "wc_sessionPing",
                params: {},
                throwOnFailedPublish: !0,
                clientRpcId: n,
                relayRpcId: a,
              }),
              h(),
            ]);
        } else
          this.client.core.pairing.pairings.keys.includes(i) &&
            (await this.client.core.pairing.ping({ topic: i }));
      }),
      (this.emit = async (t) => {
        this.isInitialized(),
          await this.confirmOnlineStateOrThrow(),
          await this.isValidEmit(t);
        const { topic: i, event: n, chainId: a } = t,
          h = ua().toString();
        await this.sendRequest({
          topic: i,
          method: "wc_sessionEvent",
          params: { event: n, chainId: a },
          throwOnFailedPublish: !0,
          relayRpcId: h,
        });
      }),
      (this.disconnect = async (t) => {
        this.isInitialized(),
          await this.confirmOnlineStateOrThrow(),
          await this.isValidDisconnect(t);
        const { topic: i } = t;
        if (this.client.session.keys.includes(i))
          await this.sendRequest({
            topic: i,
            method: "wc_sessionDelete",
            params: Ut("USER_DISCONNECTED"),
            throwOnFailedPublish: !0,
          }),
            await this.deleteSession({ topic: i, emitEvent: !1 });
        else if (this.client.core.pairing.pairings.keys.includes(i))
          await this.client.core.pairing.disconnect({ topic: i });
        else {
          const { message: n } = Ae(
            "MISMATCHED_TOPIC",
            `Session or pairing topic not found: ${i}`
          );
          throw new Error(n);
        }
      }),
      (this.find = (t) => (
        this.isInitialized(),
        this.client.session.getAll().filter((i) => iI(i, t))
      )),
      (this.getPendingSessionRequests = () =>
        this.client.pendingRequest.getAll()),
      (this.authenticate = async (t, i) => {
        var n;
        this.isInitialized(), this.isValidAuthenticate(t);
        const a =
            i &&
            this.client.core.linkModeSupportedApps.includes(i) &&
            ((n = this.client.metadata.redirect) == null ? void 0 : n.linkMode),
          h = a ? Kt.link_mode : Kt.relay;
        h === Kt.relay && (await this.confirmOnlineStateOrThrow());
        const {
            chains: f,
            statement: v = "",
            uri: g,
            domain: y,
            nonce: _,
            type: C,
            exp: P,
            nbf: O,
            methods: H = [],
            expiry: G,
          } = t,
          Q = [...(t.resources || [])],
          { topic: z, uri: Y } = await this.client.core.pairing.create({
            methods: ["wc_sessionAuthenticate"],
            transportType: h,
          });
        this.client.logger.info({
          message: "Generated new pairing",
          pairing: { topic: z, uri: Y },
        });
        const q = await this.client.core.crypto.generateKeyPair(),
          k = nf(q);
        if (
          (await Promise.all([
            this.client.auth.authKeys.set(of, {
              responseTopic: k,
              publicKey: q,
            }),
            this.client.auth.pairingTopics.set(k, {
              topic: k,
              pairingTopic: z,
            }),
          ]),
          await this.client.core.relayer.subscribe(k, { transportType: h }),
          this.client.logger.info(`sending request to new pairing topic: ${z}`),
          H.length > 0)
        ) {
          const { namespace: D } = oc(f[0]);
          let S = xM(D, "request", H);
          rf(Q) && (S = MM(S, Q.pop())), Q.push(S);
        }
        const V =
            G && G > wr.wc_sessionAuthenticate.req.ttl
              ? G
              : wr.wc_sessionAuthenticate.req.ttl,
          A = {
            authPayload: {
              type: C ?? "caip122",
              chains: f,
              statement: v,
              aud: g,
              domain: y,
              version: "1",
              nonce: _,
              iat: new Date().toISOString(),
              exp: P,
              nbf: O,
              resources: Q,
            },
            requester: { publicKey: q, metadata: this.client.metadata },
            expiryTimestamp: vr(V),
          },
          F = {
            eip155: {
              chains: f,
              methods: [...new Set(["personal_sign", ...H])],
              events: ["chainChanged", "accountsChanged"],
            },
          },
          ae = {
            requiredNamespaces: {},
            optionalNamespaces: F,
            relays: [{ protocol: "irn" }],
            pairingTopic: z,
            proposer: { publicKey: q, metadata: this.client.metadata },
            expiryTimestamp: vr(wr.wc_sessionPropose.req.ttl),
          },
          { done: de, resolve: U, reject: m } = ca(V, "Request expired"),
          c = async ({ error: D, session: S }) => {
            if ((this.events.off(St("session_request", b), l), D)) m(D);
            else if (S) {
              (S.self.publicKey = q),
                await this.client.session.set(S.topic, S),
                await this.setExpiry(S.topic, S.expiry),
                z &&
                  (await this.client.core.pairing.updateMetadata({
                    topic: z,
                    metadata: S.peer.metadata,
                  }));
              const d = this.client.session.get(S.topic);
              await this.deleteProposal(x), U({ session: d });
            }
          },
          l = async (D) => {
            var S, d, p;
            if (
              (await this.deletePendingAuthRequest(b, {
                message: "fulfilled",
                code: 0,
              }),
              D.error)
            ) {
              const j = Ut("WC_METHOD_UNSUPPORTED", "wc_sessionAuthenticate");
              return D.error.code === j.code
                ? void 0
                : (this.events.off(St("session_connect"), c),
                  m(D.error.message));
            }
            await this.deleteProposal(x),
              this.events.off(St("session_connect"), c);
            const { cacaos: R, responder: Z } = D.result,
              se = [],
              I = [];
            for (const j of R) {
              (await gg({ cacao: j, projectId: this.client.core.projectId })) ||
                (this.client.logger.error(j, "Signature verification failed"),
                m(
                  Ut(
                    "SESSION_SETTLEMENT_FAILED",
                    "Signature verification failed"
                  )
                ));
              const { p: K } = j,
                w = rf(K.resources),
                $ = [pg(K.iss)],
                ne = wf(K.iss);
              if (w) {
                const ce = vg(w),
                  fe = bg(w);
                se.push(...ce), $.push(...fe);
              }
              for (const ce of $) I.push(`${ce}:${ne}`);
            }
            const ee = await this.client.core.crypto.generateSharedKey(
              q,
              Z.publicKey
            );
            let B;
            se.length > 0 &&
              ((B = {
                topic: ee,
                acknowledged: !0,
                self: { publicKey: q, metadata: this.client.metadata },
                peer: Z,
                controller: Z.publicKey,
                expiry: vr(Wa),
                requiredNamespaces: {},
                optionalNamespaces: {},
                relay: { protocol: "irn" },
                pairingTopic: z,
                namespaces: Mg([...new Set(se)], [...new Set(I)]),
                transportType: h,
              }),
              await this.client.core.relayer.subscribe(ee, {
                transportType: h,
              }),
              await this.client.session.set(ee, B),
              z &&
                (await this.client.core.pairing.updateMetadata({
                  topic: z,
                  metadata: Z.metadata,
                })),
              (B = this.client.session.get(ee))),
              (S = this.client.metadata.redirect) != null &&
                S.linkMode &&
                (d = Z.metadata.redirect) != null &&
                d.linkMode &&
                (p = Z.metadata.redirect) != null &&
                p.universal &&
                i &&
                (this.client.core.addLinkModeSupportedApp(
                  Z.metadata.redirect.universal
                ),
                this.client.session.update(ee, {
                  transportType: Kt.link_mode,
                })),
              U({ auths: R, session: B });
          },
          b = Rs(),
          x = Rs();
        this.events.once(St("session_connect"), c),
          this.events.once(St("session_request", b), l);
        let M;
        try {
          if (a) {
            const D = qs("wc_sessionAuthenticate", A, b);
            this.client.core.history.set(z, D);
            const S = await this.client.core.crypto.encode("", D, {
              type: Oc,
              encoding: Qo,
            });
            M = Hh(i, z, S);
          } else
            await Promise.all([
              this.sendRequest({
                topic: z,
                method: "wc_sessionAuthenticate",
                params: A,
                expiry: t.expiry,
                throwOnFailedPublish: !0,
                clientRpcId: b,
              }),
              this.sendRequest({
                topic: z,
                method: "wc_sessionPropose",
                params: ae,
                expiry: wr.wc_sessionPropose.req.ttl,
                throwOnFailedPublish: !0,
                clientRpcId: x,
              }),
            ]);
        } catch (D) {
          throw (
            (this.events.off(St("session_connect"), c),
            this.events.off(St("session_request", b), l),
            D)
          );
        }
        return (
          await this.setProposal(x, rr({ id: x }, ae)),
          await this.setAuthRequest(b, {
            request: hn(rr({}, A), { verifyContext: {} }),
            pairingTopic: z,
            transportType: h,
          }),
          { uri: M ?? Y, response: de }
        );
      }),
      (this.approveSessionAuthenticate = async (t) => {
        const { id: i, auths: n } = t,
          a = this.client.core.eventClient.createEvent({
            properties: {
              topic: i.toString(),
              trace: [oa.authenticated_session_approve_started],
            },
          });
        try {
          this.isInitialized();
        } catch (G) {
          throw (a.setError(ec.no_internet_connection), G);
        }
        const h = this.getPendingAuthRequest(i);
        if (!h)
          throw (
            (a.setError(ec.authenticated_session_pending_request_not_found),
            new Error(`Could not find pending auth request with id ${i}`))
          );
        const f = h.transportType || Kt.relay;
        f === Kt.relay && (await this.confirmOnlineStateOrThrow());
        const v = h.requester.publicKey,
          g = await this.client.core.crypto.generateKeyPair(),
          y = nf(v),
          _ = { type: gs, receiverPublicKey: v, senderPublicKey: g },
          C = [],
          P = [];
        for (const G of n) {
          if (
            !(await gg({ cacao: G, projectId: this.client.core.projectId }))
          ) {
            a.setError(ec.invalid_cacao);
            const k = Ut(
              "SESSION_SETTLEMENT_FAILED",
              "Signature verification failed"
            );
            throw (
              (await this.sendError({
                id: i,
                topic: y,
                error: k,
                encodeOpts: _,
              }),
              new Error(k.message))
            );
          }
          a.addTrace(oa.cacaos_verified);
          const { p: Q } = G,
            z = rf(Q.resources),
            Y = [pg(Q.iss)],
            q = wf(Q.iss);
          if (z) {
            const k = vg(z),
              V = bg(z);
            C.push(...k), Y.push(...V);
          }
          for (const k of Y) P.push(`${k}:${q}`);
        }
        const O = await this.client.core.crypto.generateSharedKey(g, v);
        a.addTrace(oa.create_authenticated_session_topic);
        let H;
        if ((C == null ? void 0 : C.length) > 0) {
          (H = {
            topic: O,
            acknowledged: !0,
            self: { publicKey: g, metadata: this.client.metadata },
            peer: { publicKey: v, metadata: h.requester.metadata },
            controller: v,
            expiry: vr(Wa),
            authentication: n,
            requiredNamespaces: {},
            optionalNamespaces: {},
            relay: { protocol: "irn" },
            pairingTopic: h.pairingTopic,
            namespaces: Mg([...new Set(C)], [...new Set(P)]),
            transportType: f,
          }),
            a.addTrace(oa.subscribing_authenticated_session_topic);
          try {
            await this.client.core.relayer.subscribe(O, { transportType: f });
          } catch (G) {
            throw (
              (a.setError(ec.subscribe_authenticated_session_topic_failure), G)
            );
          }
          a.addTrace(oa.subscribe_authenticated_session_topic_success),
            await this.client.session.set(O, H),
            a.addTrace(oa.store_authenticated_session),
            await this.client.core.pairing.updateMetadata({
              topic: h.pairingTopic,
              metadata: h.requester.metadata,
            });
        }
        a.addTrace(oa.publishing_authenticated_session_approve);
        try {
          await this.sendResult({
            topic: y,
            id: i,
            result: {
              cacaos: n,
              responder: { publicKey: g, metadata: this.client.metadata },
            },
            encodeOpts: _,
            throwOnFailedPublish: !0,
            appLink: this.getAppLinkIfEnabled(h.requester.metadata, f),
          });
        } catch (G) {
          throw (
            (a.setError(ec.authenticated_session_approve_publish_failure), G)
          );
        }
        return (
          await this.client.auth.requests.delete(i, {
            message: "fulfilled",
            code: 0,
          }),
          await this.client.core.pairing.activate({ topic: h.pairingTopic }),
          this.client.core.eventClient.deleteEvent({ eventId: a.eventId }),
          { session: H }
        );
      }),
      (this.rejectSessionAuthenticate = async (t) => {
        this.isInitialized();
        const { id: i, reason: n } = t,
          a = this.getPendingAuthRequest(i);
        if (!a)
          throw new Error(`Could not find pending auth request with id ${i}`);
        a.transportType === Kt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const h = a.requester.publicKey,
          f = await this.client.core.crypto.generateKeyPair(),
          v = nf(h),
          g = { type: gs, receiverPublicKey: h, senderPublicKey: f };
        await this.sendError({
          id: i,
          topic: v,
          error: n,
          encodeOpts: g,
          rpcOpts: wr.wc_sessionAuthenticate.reject,
          appLink: this.getAppLinkIfEnabled(
            a.requester.metadata,
            a.transportType
          ),
        }),
          await this.client.auth.requests.delete(i, {
            message: "rejected",
            code: 0,
          }),
          await this.client.proposal.delete(i, Ut("USER_DISCONNECTED"));
      }),
      (this.formatAuthMessage = (t) => {
        this.isInitialized();
        const { request: i, iss: n } = t;
        return M2(i, n);
      }),
      (this.processRelayMessageCache = () => {
        setTimeout(async () => {
          if (this.relayMessageCache.length !== 0)
            for (; this.relayMessageCache.length > 0; )
              try {
                const t = this.relayMessageCache.shift();
                t && (await this.onRelayMessage(t));
              } catch (t) {
                this.client.logger.error(t);
              }
        }, 50);
      }),
      (this.cleanupDuplicatePairings = async (t) => {
        if (t.pairingTopic)
          try {
            const i = this.client.core.pairing.pairings.get(t.pairingTopic),
              n = this.client.core.pairing.pairings.getAll().filter((a) => {
                var h, f;
                return (
                  ((h = a.peerMetadata) == null ? void 0 : h.url) &&
                  ((f = a.peerMetadata) == null ? void 0 : f.url) ===
                    t.peer.metadata.url &&
                  a.topic &&
                  a.topic !== i.topic
                );
              });
            if (n.length === 0) return;
            this.client.logger.info(
              `Cleaning up ${n.length} duplicate pairing(s)`
            ),
              await Promise.all(
                n.map((a) =>
                  this.client.core.pairing.disconnect({ topic: a.topic })
                )
              ),
              this.client.logger.info("Duplicate pairings clean up finished");
          } catch (i) {
            this.client.logger.error(i);
          }
      }),
      (this.deleteSession = async (t) => {
        var i;
        const {
            topic: n,
            expirerHasDeleted: a = !1,
            emitEvent: h = !0,
            id: f = 0,
          } = t,
          { self: v } = this.client.session.get(n);
        await this.client.core.relayer.unsubscribe(n),
          await this.client.session.delete(n, Ut("USER_DISCONNECTED")),
          this.addToRecentlyDeleted(n, "session"),
          this.client.core.crypto.keychain.has(v.publicKey) &&
            (await this.client.core.crypto.deleteKeyPair(v.publicKey)),
          this.client.core.crypto.keychain.has(n) &&
            (await this.client.core.crypto.deleteSymKey(n)),
          a || this.client.core.expirer.del(n),
          this.client.core.storage
            .removeItem(pv)
            .catch((g) => this.client.logger.warn(g)),
          this.getPendingSessionRequests().forEach((g) => {
            g.topic === n &&
              this.deletePendingSessionRequest(g.id, Ut("USER_DISCONNECTED"));
          }),
          n ===
            ((i = this.sessionRequestQueue.queue[0]) == null
              ? void 0
              : i.topic) && (this.sessionRequestQueue.state = xn.idle),
          h && this.client.events.emit("session_delete", { id: f, topic: n });
      }),
      (this.deleteProposal = async (t, i) => {
        if (i)
          try {
            const n = this.client.proposal.get(t),
              a = this.client.core.eventClient.getEvent({
                topic: n.pairingTopic,
              });
            a == null || a.setError(aa.proposal_expired);
          } catch {}
        await Promise.all([
          this.client.proposal.delete(t, Ut("USER_DISCONNECTED")),
          i ? Promise.resolve() : this.client.core.expirer.del(t),
        ]),
          this.addToRecentlyDeleted(t, "proposal");
      }),
      (this.deletePendingSessionRequest = async (t, i, n = !1) => {
        await Promise.all([
          this.client.pendingRequest.delete(t, i),
          n ? Promise.resolve() : this.client.core.expirer.del(t),
        ]),
          this.addToRecentlyDeleted(t, "request"),
          (this.sessionRequestQueue.queue =
            this.sessionRequestQueue.queue.filter((a) => a.id !== t)),
          n &&
            ((this.sessionRequestQueue.state = xn.idle),
            this.client.events.emit("session_request_expire", { id: t }));
      }),
      (this.deletePendingAuthRequest = async (t, i, n = !1) => {
        await Promise.all([
          this.client.auth.requests.delete(t, i),
          n ? Promise.resolve() : this.client.core.expirer.del(t),
        ]);
      }),
      (this.setExpiry = async (t, i) => {
        this.client.session.keys.includes(t) &&
          (this.client.core.expirer.set(t, i),
          await this.client.session.update(t, { expiry: i }));
      }),
      (this.setProposal = async (t, i) => {
        this.client.core.expirer.set(t, vr(wr.wc_sessionPropose.req.ttl)),
          await this.client.proposal.set(t, i);
      }),
      (this.setAuthRequest = async (t, i) => {
        const { request: n, pairingTopic: a, transportType: h = Kt.relay } = i;
        this.client.core.expirer.set(t, n.expiryTimestamp),
          await this.client.auth.requests.set(t, {
            authPayload: n.authPayload,
            requester: n.requester,
            expiryTimestamp: n.expiryTimestamp,
            id: t,
            pairingTopic: a,
            verifyContext: n.verifyContext,
            transportType: h,
          });
      }),
      (this.setPendingSessionRequest = async (t) => {
        const { id: i, topic: n, params: a, verifyContext: h } = t,
          f = a.request.expiryTimestamp || vr(wr.wc_sessionRequest.req.ttl);
        this.client.core.expirer.set(i, f),
          await this.client.pendingRequest.set(i, {
            id: i,
            topic: n,
            params: a,
            verifyContext: h,
          });
      }),
      (this.sendRequest = async (t) => {
        const {
            topic: i,
            method: n,
            params: a,
            expiry: h,
            relayRpcId: f,
            clientRpcId: v,
            throwOnFailedPublish: g,
            appLink: y,
          } = t,
          _ = qs(n, a, v);
        let C;
        const P = !!y;
        try {
          const G = P ? Qo : Ls;
          C = await this.client.core.crypto.encode(i, _, { encoding: G });
        } catch (G) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendRequest() -> core.crypto.encode() for topic ${i} failed`
            ),
            G)
          );
        }
        let O;
        if (bN.includes(n)) {
          const G = us(JSON.stringify(_)),
            Q = us(C);
          O = await this.client.core.verify.register({ id: Q, decryptedId: G });
        }
        const H = wr[n].req;
        if (
          ((H.attestation = O),
          h && (H.ttl = h),
          f && (H.id = f),
          this.client.core.history.set(i, _),
          P)
        ) {
          const G = Hh(y, i, C);
          await global.Linking.openURL(G, this.client.name);
        } else {
          const G = wr[n].req;
          h && (G.ttl = h),
            f && (G.id = f),
            g
              ? ((G.internal = hn(rr({}, G.internal), {
                  throwOnFailedPublish: !0,
                })),
                await this.client.core.relayer.publish(i, C, G))
              : this.client.core.relayer
                  .publish(i, C, G)
                  .catch((Q) => this.client.logger.error(Q));
        }
        return _.id;
      }),
      (this.sendResult = async (t) => {
        const {
            id: i,
            topic: n,
            result: a,
            throwOnFailedPublish: h,
            encodeOpts: f,
            appLink: v,
          } = t,
          g = Gf(i, a);
        let y;
        const _ = v && typeof (global == null ? void 0 : global.Linking) < "u";
        try {
          const P = _ ? Qo : Ls;
          y = await this.client.core.crypto.encode(
            n,
            g,
            hn(rr({}, f || {}), { encoding: P })
          );
        } catch (P) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendResult() -> core.crypto.encode() for topic ${n} failed`
            ),
            P)
          );
        }
        let C;
        try {
          C = await this.client.core.history.get(n, i);
        } catch (P) {
          throw (
            (this.client.logger.error(
              `sendResult() -> history.get(${n}, ${i}) failed`
            ),
            P)
          );
        }
        if (_) {
          const P = Hh(v, n, y);
          await global.Linking.openURL(P, this.client.name);
        } else {
          const P = wr[C.request.method].res;
          h
            ? ((P.internal = hn(rr({}, P.internal), {
                throwOnFailedPublish: !0,
              })),
              await this.client.core.relayer.publish(n, y, P))
            : this.client.core.relayer
                .publish(n, y, P)
                .catch((O) => this.client.logger.error(O));
        }
        await this.client.core.history.resolve(g);
      }),
      (this.sendError = async (t) => {
        const {
            id: i,
            topic: n,
            error: a,
            encodeOpts: h,
            rpcOpts: f,
            appLink: v,
          } = t,
          g = Wf(i, a);
        let y;
        const _ = v && typeof (global == null ? void 0 : global.Linking) < "u";
        try {
          const P = _ ? Qo : Ls;
          y = await this.client.core.crypto.encode(
            n,
            g,
            hn(rr({}, h || {}), { encoding: P })
          );
        } catch (P) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendError() -> core.crypto.encode() for topic ${n} failed`
            ),
            P)
          );
        }
        let C;
        try {
          C = await this.client.core.history.get(n, i);
        } catch (P) {
          throw (
            (this.client.logger.error(
              `sendError() -> history.get(${n}, ${i}) failed`
            ),
            P)
          );
        }
        if (_) {
          const P = Hh(v, n, y);
          await global.Linking.openURL(P, this.client.name);
        } else {
          const P = f || wr[C.request.method].res;
          this.client.core.relayer.publish(n, y, P);
        }
        await this.client.core.history.resolve(g);
      }),
      (this.cleanup = async () => {
        const t = [],
          i = [];
        this.client.session.getAll().forEach((n) => {
          let a = !1;
          Ns(n.expiry) && (a = !0),
            this.client.core.crypto.keychain.has(n.topic) || (a = !0),
            a && t.push(n.topic);
        }),
          this.client.proposal.getAll().forEach((n) => {
            Ns(n.expiryTimestamp) && i.push(n.id);
          }),
          await Promise.all([
            ...t.map((n) => this.deleteSession({ topic: n })),
            ...i.map((n) => this.deleteProposal(n)),
          ]);
      }),
      (this.onRelayEventRequest = async (t) => {
        this.requestQueue.queue.push(t), await this.processRequestsQueue();
      }),
      (this.processRequestsQueue = async () => {
        if (this.requestQueue.state === xn.active) {
          this.client.logger.info("Request queue already active, skipping...");
          return;
        }
        for (
          this.client.logger.info(
            `Request queue starting with ${this.requestQueue.queue.length} requests`
          );
          this.requestQueue.queue.length > 0;

        ) {
          this.requestQueue.state = xn.active;
          const t = this.requestQueue.queue.shift();
          if (t)
            try {
              await this.processRequest(t);
            } catch (i) {
              this.client.logger.warn(i);
            }
        }
        this.requestQueue.state = xn.idle;
      }),
      (this.processRequest = async (t) => {
        const {
            topic: i,
            payload: n,
            attestation: a,
            transportType: h,
            encryptedId: f,
          } = t,
          v = n.method;
        if (!this.shouldIgnorePairingRequest({ topic: i, requestMethod: v }))
          switch (v) {
            case "wc_sessionPropose":
              return await this.onSessionProposeRequest({
                topic: i,
                payload: n,
                attestation: a,
                encryptedId: f,
              });
            case "wc_sessionSettle":
              return await this.onSessionSettleRequest(i, n);
            case "wc_sessionUpdate":
              return await this.onSessionUpdateRequest(i, n);
            case "wc_sessionExtend":
              return await this.onSessionExtendRequest(i, n);
            case "wc_sessionPing":
              return await this.onSessionPingRequest(i, n);
            case "wc_sessionDelete":
              return await this.onSessionDeleteRequest(i, n);
            case "wc_sessionRequest":
              return await this.onSessionRequest({
                topic: i,
                payload: n,
                attestation: a,
                encryptedId: f,
                transportType: h,
              });
            case "wc_sessionEvent":
              return await this.onSessionEventRequest(i, n);
            case "wc_sessionAuthenticate":
              return await this.onSessionAuthenticateRequest({
                topic: i,
                payload: n,
                attestation: a,
                encryptedId: f,
                transportType: h,
              });
            default:
              return this.client.logger.info(`Unsupported request method ${v}`);
          }
      }),
      (this.onRelayEventResponse = async (t) => {
        const { topic: i, payload: n, transportType: a } = t,
          h = (await this.client.core.history.get(i, n.id)).request.method;
        switch (h) {
          case "wc_sessionPropose":
            return this.onSessionProposeResponse(i, n, a);
          case "wc_sessionSettle":
            return this.onSessionSettleResponse(i, n);
          case "wc_sessionUpdate":
            return this.onSessionUpdateResponse(i, n);
          case "wc_sessionExtend":
            return this.onSessionExtendResponse(i, n);
          case "wc_sessionPing":
            return this.onSessionPingResponse(i, n);
          case "wc_sessionRequest":
            return this.onSessionRequestResponse(i, n);
          case "wc_sessionAuthenticate":
            return this.onSessionAuthenticateResponse(i, n);
          default:
            return this.client.logger.info(`Unsupported response method ${h}`);
        }
      }),
      (this.onRelayEventUnknownPayload = (t) => {
        const { topic: i } = t,
          { message: n } = Ae(
            "MISSING_OR_INVALID",
            `Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`
          );
        throw new Error(n);
      }),
      (this.shouldIgnorePairingRequest = (t) => {
        const { topic: i, requestMethod: n } = t,
          a = this.expectedPairingMethodMap.get(i);
        return !a || a.includes(n)
          ? !1
          : !!(
              a.includes("wc_sessionAuthenticate") &&
              this.client.events.listenerCount("session_authenticate") > 0
            );
      }),
      (this.onSessionProposeRequest = async (t) => {
        const { topic: i, payload: n, attestation: a, encryptedId: h } = t,
          { params: f, id: v } = n;
        try {
          const g = this.client.core.eventClient.getEvent({ topic: i });
          this.isValidConnect(rr({}, n.params));
          const y = f.expiryTimestamp || vr(wr.wc_sessionPropose.req.ttl),
            _ = rr({ id: v, pairingTopic: i, expiryTimestamp: y }, f);
          await this.setProposal(v, _);
          const C = await this.getVerifyContext({
            attestationId: a,
            hash: us(JSON.stringify(n)),
            encryptedId: h,
            metadata: _.proposer.metadata,
          });
          this.client.events.listenerCount("session_proposal") === 0 &&
            (console.warn("No listener for session_proposal event"),
            g == null || g.setError(hs.proposal_listener_not_found)),
            g == null || g.addTrace(Sn.emit_session_proposal),
            this.client.events.emit("session_proposal", {
              id: v,
              params: _,
              verifyContext: C,
            });
        } catch (g) {
          await this.sendError({
            id: v,
            topic: i,
            error: g,
            rpcOpts: wr.wc_sessionPropose.autoReject,
          }),
            this.client.logger.error(g);
        }
      }),
      (this.onSessionProposeResponse = async (t, i, n) => {
        const { id: a } = i;
        if (Dn(i)) {
          const { result: h } = i;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            result: h,
          });
          const f = this.client.proposal.get(a);
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            proposal: f,
          });
          const v = f.proposer.publicKey;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            selfPublicKey: v,
          });
          const g = h.responderPublicKey;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            peerPublicKey: g,
          });
          const y = await this.client.core.crypto.generateSharedKey(v, g);
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            sessionTopic: y,
          });
          const _ = await this.client.core.relayer.subscribe(y, {
            transportType: n,
          });
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            subscriptionId: _,
          }),
            await this.client.core.pairing.activate({ topic: t });
        } else if (zi(i)) {
          await this.client.proposal.delete(a, Ut("USER_DISCONNECTED"));
          const h = St("session_connect");
          if (this.events.listenerCount(h) === 0)
            throw new Error(`emitting ${h} without any listeners, 954`);
          this.events.emit(St("session_connect"), { error: i.error });
        }
      }),
      (this.onSessionSettleRequest = async (t, i) => {
        const { id: n, params: a } = i;
        try {
          this.isValidSessionSettleRequest(a);
          const {
              relay: h,
              controller: f,
              expiry: v,
              namespaces: g,
              sessionProperties: y,
              sessionConfig: _,
            } = i.params,
            C = hn(
              rr(
                rr(
                  {
                    topic: t,
                    relay: h,
                    expiry: v,
                    namespaces: g,
                    acknowledged: !0,
                    pairingTopic: "",
                    requiredNamespaces: {},
                    optionalNamespaces: {},
                    controller: f.publicKey,
                    self: { publicKey: "", metadata: this.client.metadata },
                    peer: { publicKey: f.publicKey, metadata: f.metadata },
                  },
                  y && { sessionProperties: y }
                ),
                _ && { sessionConfig: _ }
              ),
              { transportType: Kt.relay }
            ),
            P = St("session_connect");
          if (this.events.listenerCount(P) === 0)
            throw new Error(`emitting ${P} without any listeners 997`);
          this.events.emit(St("session_connect"), { session: C }),
            await this.sendResult({
              id: i.id,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            });
        } catch (h) {
          await this.sendError({ id: n, topic: t, error: h }),
            this.client.logger.error(h);
        }
      }),
      (this.onSessionSettleResponse = async (t, i) => {
        const { id: n } = i;
        Dn(i)
          ? (await this.client.session.update(t, { acknowledged: !0 }),
            this.events.emit(St("session_approve", n), {}))
          : zi(i) &&
            (await this.client.session.delete(t, Ut("USER_DISCONNECTED")),
            this.events.emit(St("session_approve", n), { error: i.error }));
      }),
      (this.onSessionUpdateRequest = async (t, i) => {
        const { params: n, id: a } = i;
        try {
          const h = `${t}_session_update`,
            f = Xo.get(h);
          if (f && this.isRequestOutOfSync(f, a)) {
            this.client.logger.info(`Discarding out of sync request - ${a}`),
              this.sendError({
                id: a,
                topic: t,
                error: Ut("INVALID_UPDATE_REQUEST"),
              });
            return;
          }
          this.isValidUpdate(rr({ topic: t }, n));
          try {
            Xo.set(h, a),
              await this.client.session.update(t, { namespaces: n.namespaces }),
              await this.sendResult({
                id: a,
                topic: t,
                result: !0,
                throwOnFailedPublish: !0,
              });
          } catch (v) {
            throw (Xo.delete(h), v);
          }
          this.client.events.emit("session_update", {
            id: a,
            topic: t,
            params: n,
          });
        } catch (h) {
          await this.sendError({ id: a, topic: t, error: h }),
            this.client.logger.error(h);
        }
      }),
      (this.isRequestOutOfSync = (t, i) =>
        parseInt(i.toString().slice(0, -3)) <=
        parseInt(t.toString().slice(0, -3))),
      (this.onSessionUpdateResponse = (t, i) => {
        const { id: n } = i,
          a = St("session_update", n);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        Dn(i)
          ? this.events.emit(St("session_update", n), {})
          : zi(i) &&
            this.events.emit(St("session_update", n), { error: i.error });
      }),
      (this.onSessionExtendRequest = async (t, i) => {
        const { id: n } = i;
        try {
          this.isValidExtend({ topic: t }),
            await this.setExpiry(t, vr(Wa)),
            await this.sendResult({
              id: n,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            }),
            this.client.events.emit("session_extend", { id: n, topic: t });
        } catch (a) {
          await this.sendError({ id: n, topic: t, error: a }),
            this.client.logger.error(a);
        }
      }),
      (this.onSessionExtendResponse = (t, i) => {
        const { id: n } = i,
          a = St("session_extend", n);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        Dn(i)
          ? this.events.emit(St("session_extend", n), {})
          : zi(i) &&
            this.events.emit(St("session_extend", n), { error: i.error });
      }),
      (this.onSessionPingRequest = async (t, i) => {
        const { id: n } = i;
        try {
          this.isValidPing({ topic: t }),
            await this.sendResult({
              id: n,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            }),
            this.client.events.emit("session_ping", { id: n, topic: t });
        } catch (a) {
          await this.sendError({ id: n, topic: t, error: a }),
            this.client.logger.error(a);
        }
      }),
      (this.onSessionPingResponse = (t, i) => {
        const { id: n } = i,
          a = St("session_ping", n);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        setTimeout(() => {
          Dn(i)
            ? this.events.emit(St("session_ping", n), {})
            : zi(i) &&
              this.events.emit(St("session_ping", n), { error: i.error });
        }, 500);
      }),
      (this.onSessionDeleteRequest = async (t, i) => {
        const { id: n } = i;
        try {
          this.isValidDisconnect({ topic: t, reason: i.params }),
            Promise.all([
              new Promise((a) => {
                this.client.core.relayer.once(Jr.publish, async () => {
                  a(await this.deleteSession({ topic: t, id: n }));
                });
              }),
              this.sendResult({
                id: n,
                topic: t,
                result: !0,
                throwOnFailedPublish: !0,
              }),
              this.cleanupPendingSentRequestsForTopic({
                topic: t,
                error: Ut("USER_DISCONNECTED"),
              }),
            ]).catch((a) => this.client.logger.error(a));
        } catch (a) {
          this.client.logger.error(a);
        }
      }),
      (this.onSessionRequest = async (t) => {
        var i, n, a;
        const {
            topic: h,
            payload: f,
            attestation: v,
            encryptedId: g,
            transportType: y,
          } = t,
          { id: _, params: C } = f;
        try {
          await this.isValidRequest(rr({ topic: h }, C));
          const P = this.client.session.get(h),
            O = await this.getVerifyContext({
              attestationId: v,
              hash: us(JSON.stringify(qs("wc_sessionRequest", C, _))),
              encryptedId: g,
              metadata: P.peer.metadata,
              transportType: y,
            }),
            H = { id: _, topic: h, params: C, verifyContext: O };
          await this.setPendingSessionRequest(H),
            y === Kt.link_mode &&
              (i = P.peer.metadata.redirect) != null &&
              i.universal &&
              this.client.core.addLinkModeSupportedApp(
                (n = P.peer.metadata.redirect) == null ? void 0 : n.universal
              ),
            (a = this.client.signConfig) != null && a.disableRequestQueue
              ? this.emitSessionRequest(H)
              : (this.addSessionRequestToSessionRequestQueue(H),
                this.processSessionRequestQueue());
        } catch (P) {
          await this.sendError({ id: _, topic: h, error: P }),
            this.client.logger.error(P);
        }
      }),
      (this.onSessionRequestResponse = (t, i) => {
        const { id: n } = i,
          a = St("session_request", n);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        Dn(i)
          ? this.events.emit(St("session_request", n), { result: i.result })
          : zi(i) &&
            this.events.emit(St("session_request", n), { error: i.error });
      }),
      (this.onSessionEventRequest = async (t, i) => {
        const { id: n, params: a } = i;
        try {
          const h = `${t}_session_event_${a.event.name}`,
            f = Xo.get(h);
          if (f && this.isRequestOutOfSync(f, n)) {
            this.client.logger.info(`Discarding out of sync request - ${n}`);
            return;
          }
          this.isValidEmit(rr({ topic: t }, a)),
            this.client.events.emit("session_event", {
              id: n,
              topic: t,
              params: a,
            }),
            Xo.set(h, n);
        } catch (h) {
          await this.sendError({ id: n, topic: t, error: h }),
            this.client.logger.error(h);
        }
      }),
      (this.onSessionAuthenticateResponse = (t, i) => {
        const { id: n } = i;
        this.client.logger.trace({
          type: "method",
          method: "onSessionAuthenticateResponse",
          topic: t,
          payload: i,
        }),
          Dn(i)
            ? this.events.emit(St("session_request", n), { result: i.result })
            : zi(i) &&
              this.events.emit(St("session_request", n), { error: i.error });
      }),
      (this.onSessionAuthenticateRequest = async (t) => {
        var i;
        const {
          topic: n,
          payload: a,
          attestation: h,
          encryptedId: f,
          transportType: v,
        } = t;
        try {
          const { requester: g, authPayload: y, expiryTimestamp: _ } = a.params,
            C = await this.getVerifyContext({
              attestationId: h,
              hash: us(JSON.stringify(a)),
              encryptedId: f,
              metadata: g.metadata,
              transportType: v,
            }),
            P = {
              requester: g,
              pairingTopic: n,
              id: a.id,
              authPayload: y,
              verifyContext: C,
              expiryTimestamp: _,
            };
          await this.setAuthRequest(a.id, {
            request: P,
            pairingTopic: n,
            transportType: v,
          }),
            v === Kt.link_mode &&
              (i = g.metadata.redirect) != null &&
              i.universal &&
              this.client.core.addLinkModeSupportedApp(
                g.metadata.redirect.universal
              ),
            this.client.events.emit("session_authenticate", {
              topic: n,
              params: a.params,
              id: a.id,
              verifyContext: C,
            });
        } catch (g) {
          this.client.logger.error(g);
          const y = a.params.requester.publicKey,
            _ = await this.client.core.crypto.generateKeyPair(),
            C = this.getAppLinkIfEnabled(a.params.requester.metadata, v),
            P = { type: gs, receiverPublicKey: y, senderPublicKey: _ };
          await this.sendError({
            id: a.id,
            topic: n,
            error: g,
            encodeOpts: P,
            rpcOpts: wr.wc_sessionAuthenticate.autoReject,
            appLink: C,
          });
        }
      }),
      (this.addSessionRequestToSessionRequestQueue = (t) => {
        this.sessionRequestQueue.queue.push(t);
      }),
      (this.cleanupAfterResponse = (t) => {
        this.deletePendingSessionRequest(t.response.id, {
          message: "fulfilled",
          code: 0,
        }),
          setTimeout(() => {
            (this.sessionRequestQueue.state = xn.idle),
              this.processSessionRequestQueue();
          }, xe.toMiliseconds(this.requestQueueDelay));
      }),
      (this.cleanupPendingSentRequestsForTopic = ({ topic: t, error: i }) => {
        const n = this.client.core.history.pending;
        n.length > 0 &&
          n
            .filter(
              (a) => a.topic === t && a.request.method === "wc_sessionRequest"
            )
            .forEach((a) => {
              const h = a.request.id,
                f = St("session_request", h);
              if (this.events.listenerCount(f) === 0)
                throw new Error(`emitting ${f} without any listeners`);
              this.events.emit(St("session_request", a.request.id), {
                error: i,
              });
            });
      }),
      (this.processSessionRequestQueue = () => {
        if (this.sessionRequestQueue.state === xn.active) {
          this.client.logger.info("session request queue is already active.");
          return;
        }
        const t = this.sessionRequestQueue.queue[0];
        if (!t) {
          this.client.logger.info("session request queue is empty.");
          return;
        }
        try {
          (this.sessionRequestQueue.state = xn.active),
            this.emitSessionRequest(t);
        } catch (i) {
          this.client.logger.error(i);
        }
      }),
      (this.emitSessionRequest = (t) => {
        this.client.events.emit("session_request", t);
      }),
      (this.onPairingCreated = (t) => {
        if (
          (t.methods && this.expectedPairingMethodMap.set(t.topic, t.methods),
          t.active)
        )
          return;
        const i = this.client.proposal
          .getAll()
          .find((n) => n.pairingTopic === t.topic);
        i &&
          this.onSessionProposeRequest({
            topic: t.topic,
            payload: qs(
              "wc_sessionPropose",
              {
                requiredNamespaces: i.requiredNamespaces,
                optionalNamespaces: i.optionalNamespaces,
                relays: i.relays,
                proposer: i.proposer,
                sessionProperties: i.sessionProperties,
              },
              i.id
            ),
          });
      }),
      (this.isValidConnect = async (t) => {
        if (!fi(t)) {
          const { message: v } = Ae(
            "MISSING_OR_INVALID",
            `connect() params: ${JSON.stringify(t)}`
          );
          throw new Error(v);
        }
        const {
          pairingTopic: i,
          requiredNamespaces: n,
          optionalNamespaces: a,
          sessionProperties: h,
          relays: f,
        } = t;
        if ((Qr(i) || (await this.isValidPairingTopic(i)), !gI(f, !0))) {
          const { message: v } = Ae(
            "MISSING_OR_INVALID",
            `connect() relays: ${f}`
          );
          throw new Error(v);
        }
        !Qr(n) &&
          mc(n) !== 0 &&
          this.validateNamespaces(n, "requiredNamespaces"),
          !Qr(a) &&
            mc(a) !== 0 &&
            this.validateNamespaces(a, "optionalNamespaces"),
          Qr(h) || this.validateSessionProps(h, "sessionProperties");
      }),
      (this.validateNamespaces = (t, i) => {
        const n = pI(t, "connect()", i);
        if (n) throw new Error(n.message);
      }),
      (this.isValidApprove = async (t) => {
        if (!fi(t))
          throw new Error(
            Ae("MISSING_OR_INVALID", `approve() params: ${t}`).message
          );
        const {
          id: i,
          namespaces: n,
          relayProtocol: a,
          sessionProperties: h,
        } = t;
        this.checkRecentlyDeleted(i), await this.isValidProposalId(i);
        const f = this.client.proposal.get(i),
          v = Fl(n, "approve()");
        if (v) throw new Error(v.message);
        const g = Pg(f.requiredNamespaces, n, "approve()");
        if (g) throw new Error(g.message);
        if (!hr(a, !0)) {
          const { message: y } = Ae(
            "MISSING_OR_INVALID",
            `approve() relayProtocol: ${a}`
          );
          throw new Error(y);
        }
        Qr(h) || this.validateSessionProps(h, "sessionProperties");
      }),
      (this.isValidReject = async (t) => {
        if (!fi(t)) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `reject() params: ${t}`
          );
          throw new Error(a);
        }
        const { id: i, reason: n } = t;
        if (
          (this.checkRecentlyDeleted(i),
          await this.isValidProposalId(i),
          !bI(n))
        ) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `reject() reason: ${JSON.stringify(n)}`
          );
          throw new Error(a);
        }
      }),
      (this.isValidSessionSettleRequest = (t) => {
        if (!fi(t)) {
          const { message: g } = Ae(
            "MISSING_OR_INVALID",
            `onSessionSettleRequest() params: ${t}`
          );
          throw new Error(g);
        }
        const { relay: i, controller: n, namespaces: a, expiry: h } = t;
        if (!T2(i)) {
          const { message: g } = Ae(
            "MISSING_OR_INVALID",
            "onSessionSettleRequest() relay protocol should be a string"
          );
          throw new Error(g);
        }
        const f = cI(n, "onSessionSettleRequest()");
        if (f) throw new Error(f.message);
        const v = Fl(a, "onSessionSettleRequest()");
        if (v) throw new Error(v.message);
        if (Ns(h)) {
          const { message: g } = Ae("EXPIRED", "onSessionSettleRequest()");
          throw new Error(g);
        }
      }),
      (this.isValidUpdate = async (t) => {
        if (!fi(t)) {
          const { message: v } = Ae(
            "MISSING_OR_INVALID",
            `update() params: ${t}`
          );
          throw new Error(v);
        }
        const { topic: i, namespaces: n } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
        const a = this.client.session.get(i),
          h = Fl(n, "update()");
        if (h) throw new Error(h.message);
        const f = Pg(a.requiredNamespaces, n, "update()");
        if (f) throw new Error(f.message);
      }),
      (this.isValidExtend = async (t) => {
        if (!fi(t)) {
          const { message: n } = Ae(
            "MISSING_OR_INVALID",
            `extend() params: ${t}`
          );
          throw new Error(n);
        }
        const { topic: i } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
      }),
      (this.isValidRequest = async (t) => {
        if (!fi(t)) {
          const { message: v } = Ae(
            "MISSING_OR_INVALID",
            `request() params: ${t}`
          );
          throw new Error(v);
        }
        const { topic: i, request: n, chainId: a, expiry: h } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
        const { namespaces: f } = this.client.session.get(i);
        if (!Dg(f, a)) {
          const { message: v } = Ae(
            "MISSING_OR_INVALID",
            `request() chainId: ${a}`
          );
          throw new Error(v);
        }
        if (!mI(n)) {
          const { message: v } = Ae(
            "MISSING_OR_INVALID",
            `request() ${JSON.stringify(n)}`
          );
          throw new Error(v);
        }
        if (!_I(f, a, n.method)) {
          const { message: v } = Ae(
            "MISSING_OR_INVALID",
            `request() method: ${n.method}`
          );
          throw new Error(v);
        }
        if (h && !SI(h, jl)) {
          const { message: v } = Ae(
            "MISSING_OR_INVALID",
            `request() expiry: ${h}. Expiry must be a number (in seconds) between ${jl.min} and ${jl.max}`
          );
          throw new Error(v);
        }
      }),
      (this.isValidRespond = async (t) => {
        var i;
        if (!fi(t)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `respond() params: ${t}`
          );
          throw new Error(h);
        }
        const { topic: n, response: a } = t;
        try {
          await this.isValidSessionTopic(n);
        } catch (h) {
          throw (
            ((i = t == null ? void 0 : t.response) != null &&
              i.id &&
              this.cleanupAfterResponse(t),
            h)
          );
        }
        if (!yI(a)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `respond() response: ${JSON.stringify(a)}`
          );
          throw new Error(h);
        }
      }),
      (this.isValidPing = async (t) => {
        if (!fi(t)) {
          const { message: n } = Ae(
            "MISSING_OR_INVALID",
            `ping() params: ${t}`
          );
          throw new Error(n);
        }
        const { topic: i } = t;
        await this.isValidSessionOrPairingTopic(i);
      }),
      (this.isValidEmit = async (t) => {
        if (!fi(t)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            `emit() params: ${t}`
          );
          throw new Error(f);
        }
        const { topic: i, event: n, chainId: a } = t;
        await this.isValidSessionTopic(i);
        const { namespaces: h } = this.client.session.get(i);
        if (!Dg(h, a)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            `emit() chainId: ${a}`
          );
          throw new Error(f);
        }
        if (!wI(n)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            `emit() event: ${JSON.stringify(n)}`
          );
          throw new Error(f);
        }
        if (!AI(h, a, n.name)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            `emit() event: ${JSON.stringify(n)}`
          );
          throw new Error(f);
        }
      }),
      (this.isValidDisconnect = async (t) => {
        if (!fi(t)) {
          const { message: n } = Ae(
            "MISSING_OR_INVALID",
            `disconnect() params: ${t}`
          );
          throw new Error(n);
        }
        const { topic: i } = t;
        await this.isValidSessionOrPairingTopic(i);
      }),
      (this.isValidAuthenticate = (t) => {
        const { chains: i, uri: n, domain: a, nonce: h } = t;
        if (!Array.isArray(i) || i.length === 0)
          throw new Error("chains is required and must be a non-empty array");
        if (!hr(n, !1)) throw new Error("uri is required parameter");
        if (!hr(a, !1)) throw new Error("domain is required parameter");
        if (!hr(h, !1)) throw new Error("nonce is required parameter");
        if ([...new Set(i.map((v) => oc(v).namespace))].length > 1)
          throw new Error(
            "Multi-namespace requests are not supported. Please request single namespace only."
          );
        const { namespace: f } = oc(i[0]);
        if (f !== "eip155")
          throw new Error(
            "Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains."
          );
      }),
      (this.getVerifyContext = async (t) => {
        const {
            attestationId: i,
            hash: n,
            encryptedId: a,
            metadata: h,
            transportType: f,
          } = t,
          v = {
            verified: {
              verifyUrl: h.verifyUrl || lc,
              validation: "UNKNOWN",
              origin: h.url || "",
            },
          };
        try {
          if (f === Kt.link_mode) {
            const y = this.getAppLinkIfEnabled(h, f);
            return (
              (v.verified.validation =
                y && new URL(y).origin === new URL(h.url).origin
                  ? "VALID"
                  : "INVALID"),
              v
            );
          }
          const g = await this.client.core.verify.resolve({
            attestationId: i,
            hash: n,
            encryptedId: a,
            verifyUrl: h.verifyUrl,
          });
          g &&
            ((v.verified.origin = g.origin),
            (v.verified.isScam = g.isScam),
            (v.verified.validation =
              g.origin === new URL(h.url).origin ? "VALID" : "INVALID"));
        } catch (g) {
          this.client.logger.warn(g);
        }
        return (
          this.client.logger.debug(`Verify context: ${JSON.stringify(v)}`), v
        );
      }),
      (this.validateSessionProps = (t, i) => {
        Object.values(t).forEach((n) => {
          if (!hr(n, !1)) {
            const { message: a } = Ae(
              "MISSING_OR_INVALID",
              `${i} must be in Record<string, string> format. Received: ${JSON.stringify(
                n
              )}`
            );
            throw new Error(a);
          }
        });
      }),
      (this.getPendingAuthRequest = (t) => {
        const i = this.client.auth.requests.get(t);
        return typeof i == "object" ? i : void 0;
      }),
      (this.addToRecentlyDeleted = (t, i) => {
        if (
          (this.recentlyDeletedMap.set(t, i),
          this.recentlyDeletedMap.size >= this.recentlyDeletedLimit)
        ) {
          let n = 0;
          const a = this.recentlyDeletedLimit / 2;
          for (const h of this.recentlyDeletedMap.keys()) {
            if (n++ >= a) break;
            this.recentlyDeletedMap.delete(h);
          }
        }
      }),
      (this.checkRecentlyDeleted = (t) => {
        const i = this.recentlyDeletedMap.get(t);
        if (i) {
          const { message: n } = Ae(
            "MISSING_OR_INVALID",
            `Record was recently deleted - ${i}: ${t}`
          );
          throw new Error(n);
        }
      }),
      (this.isLinkModeEnabled = (t, i) => {
        var n, a, h, f, v, g, y, _, C;
        return !t || i !== Kt.link_mode
          ? !1
          : ((a = (n = this.client.metadata) == null ? void 0 : n.redirect) ==
            null
              ? void 0
              : a.linkMode) === !0 &&
              ((f = (h = this.client.metadata) == null ? void 0 : h.redirect) ==
              null
                ? void 0
                : f.universal) !== void 0 &&
              ((g = (v = this.client.metadata) == null ? void 0 : v.redirect) ==
              null
                ? void 0
                : g.universal) !== "" &&
              ((y = t == null ? void 0 : t.redirect) == null
                ? void 0
                : y.universal) !== void 0 &&
              ((_ = t == null ? void 0 : t.redirect) == null
                ? void 0
                : _.universal) !== "" &&
              ((C = t == null ? void 0 : t.redirect) == null
                ? void 0
                : C.linkMode) === !0 &&
              this.client.core.linkModeSupportedApps.includes(
                t.redirect.universal
              ) &&
              typeof (global == null ? void 0 : global.Linking) < "u";
      }),
      (this.getAppLinkIfEnabled = (t, i) => {
        var n;
        return this.isLinkModeEnabled(t, i)
          ? (n = t == null ? void 0 : t.redirect) == null
            ? void 0
            : n.universal
          : void 0;
      }),
      (this.handleLinkModeMessage = ({ url: t }) => {
        if (!t || !t.includes("wc_ev") || !t.includes("topic")) return;
        const i = k1(t, "topic") || "",
          n = decodeURIComponent(k1(t, "wc_ev") || ""),
          a = this.client.session.keys.includes(i);
        a && this.client.session.update(i, { transportType: Kt.link_mode }),
          this.client.core.dispatchEnvelope({
            topic: i,
            message: n,
            sessionExists: a,
          });
      }),
      (this.registerLinkModeListeners = async () => {
        var t;
        if (
          U0() ||
          (bo() && (t = this.client.metadata.redirect) != null && t.linkMode)
        ) {
          const i = global == null ? void 0 : global.Linking;
          if (typeof i < "u") {
            i.addEventListener(
              "url",
              this.handleLinkModeMessage,
              this.client.name
            );
            const n = await i.getInitialURL();
            n &&
              setTimeout(() => {
                this.handleLinkModeMessage({ url: n });
              }, 50);
          }
        }
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async confirmOnlineStateOrThrow() {
    await this.client.core.relayer.confirmOnlineStateOrThrow();
  }
  registerRelayerEvents() {
    this.client.core.relayer.on(Jr.message, (e) => {
      !this.initialized || this.relayMessageCache.length > 0
        ? this.relayMessageCache.push(e)
        : this.onRelayMessage(e);
    });
  }
  async onRelayMessage(e) {
    const { topic: t, message: i, attestation: n, transportType: a } = e,
      { publicKey: h } = this.client.auth.authKeys.keys.includes(of)
        ? this.client.auth.authKeys.get(of)
        : { responseTopic: void 0, publicKey: void 0 },
      f = await this.client.core.crypto.decode(t, i, {
        receiverPublicKey: h,
        encoding: a === Kt.link_mode ? Qo : Ls,
      });
    try {
      Q0(f)
        ? (this.client.core.history.set(t, f),
          this.onRelayEventRequest({
            topic: t,
            payload: f,
            attestation: n,
            transportType: a,
            encryptedId: us(i),
          }))
        : Jf(f)
        ? (await this.client.core.history.resolve(f),
          await this.onRelayEventResponse({
            topic: t,
            payload: f,
            transportType: a,
          }),
          this.client.core.history.delete(t, f.id))
        : this.onRelayEventUnknownPayload({
            topic: t,
            payload: f,
            transportType: a,
          });
    } catch (v) {
      this.client.logger.error(v);
    }
  }
  registerExpirerEvents() {
    this.client.core.expirer.on(Ui.expired, async (e) => {
      const { topic: t, id: i } = jb(e.target);
      if (i && this.client.pendingRequest.keys.includes(i))
        return await this.deletePendingSessionRequest(i, Ae("EXPIRED"), !0);
      if (i && this.client.auth.requests.keys.includes(i))
        return await this.deletePendingAuthRequest(i, Ae("EXPIRED"), !0);
      t
        ? this.client.session.keys.includes(t) &&
          (await this.deleteSession({ topic: t, expirerHasDeleted: !0 }),
          this.client.events.emit("session_expire", { topic: t }))
        : i &&
          (await this.deleteProposal(i, !0),
          this.client.events.emit("proposal_expire", { id: i }));
    });
  }
  registerPairingEvents() {
    this.client.core.pairing.events.on(ha.create, (e) =>
      this.onPairingCreated(e)
    ),
      this.client.core.pairing.events.on(ha.delete, (e) => {
        this.addToRecentlyDeleted(e.topic, "pairing");
      });
  }
  isValidPairingTopic(e) {
    if (!hr(e, !1)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `pairing topic should be a string: ${e}`
      );
      throw new Error(t);
    }
    if (!this.client.core.pairing.pairings.keys.includes(e)) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `pairing topic doesn't exist: ${e}`
      );
      throw new Error(t);
    }
    if (Ns(this.client.core.pairing.pairings.get(e).expiry)) {
      const { message: t } = Ae("EXPIRED", `pairing topic: ${e}`);
      throw new Error(t);
    }
  }
  async isValidSessionTopic(e) {
    if (!hr(e, !1)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `session topic should be a string: ${e}`
      );
      throw new Error(t);
    }
    if ((this.checkRecentlyDeleted(e), !this.client.session.keys.includes(e))) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `session topic doesn't exist: ${e}`
      );
      throw new Error(t);
    }
    if (Ns(this.client.session.get(e).expiry)) {
      await this.deleteSession({ topic: e });
      const { message: t } = Ae("EXPIRED", `session topic: ${e}`);
      throw new Error(t);
    }
    if (!this.client.core.crypto.keychain.has(e)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `session topic does not exist in keychain: ${e}`
      );
      throw (await this.deleteSession({ topic: e }), new Error(t));
    }
  }
  async isValidSessionOrPairingTopic(e) {
    if ((this.checkRecentlyDeleted(e), this.client.session.keys.includes(e)))
      await this.isValidSessionTopic(e);
    else if (this.client.core.pairing.pairings.keys.includes(e))
      this.isValidPairingTopic(e);
    else if (hr(e, !1)) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `session or pairing topic doesn't exist: ${e}`
      );
      throw new Error(t);
    } else {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `session or pairing topic should be a string: ${e}`
      );
      throw new Error(t);
    }
  }
  async isValidProposalId(e) {
    if (!vI(e)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `proposal id should be a number: ${e}`
      );
      throw new Error(t);
    }
    if (!this.client.proposal.keys.includes(e)) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `proposal id doesn't exist: ${e}`
      );
      throw new Error(t);
    }
    if (Ns(this.client.proposal.get(e).expiryTimestamp)) {
      await this.deleteProposal(e);
      const { message: t } = Ae("EXPIRED", `proposal id: ${e}`);
      throw new Error(t);
    }
  }
}
class PN extends Sa {
  constructor(e, t) {
    super(e, t, dN, ed), (this.core = e), (this.logger = t);
  }
}
class CN extends Sa {
  constructor(e, t) {
    super(e, t, pN, ed), (this.core = e), (this.logger = t);
  }
}
class ON extends Sa {
  constructor(e, t) {
    super(e, t, vN, ed, (i) => i.id), (this.core = e), (this.logger = t);
  }
}
class NN extends Sa {
  constructor(e, t) {
    super(e, t, wN, Qf, () => of), (this.core = e), (this.logger = t);
  }
}
class RN extends Sa {
  constructor(e, t) {
    super(e, t, _N, Qf), (this.core = e), (this.logger = t);
  }
}
class TN extends Sa {
  constructor(e, t) {
    super(e, t, AN, Qf, (i) => i.id), (this.core = e), (this.logger = t);
  }
}
class FN {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.authKeys = new NN(this.core, this.logger)),
      (this.pairingTopics = new RN(this.core, this.logger)),
      (this.requests = new TN(this.core, this.logger));
  }
  async init() {
    await this.authKeys.init(),
      await this.pairingTopics.init(),
      await this.requests.init();
  }
}
class td extends JD {
  constructor(e) {
    super(e),
      (this.protocol = hm),
      (this.version = fm),
      (this.name = kl.name),
      (this.events = new Hi.EventEmitter()),
      (this.on = (i, n) => this.events.on(i, n)),
      (this.once = (i, n) => this.events.once(i, n)),
      (this.off = (i, n) => this.events.off(i, n)),
      (this.removeListener = (i, n) => this.events.removeListener(i, n)),
      (this.removeAllListeners = (i) => this.events.removeAllListeners(i)),
      (this.connect = async (i) => {
        try {
          return await this.engine.connect(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.pair = async (i) => {
        try {
          return await this.engine.pair(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.approve = async (i) => {
        try {
          return await this.engine.approve(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.reject = async (i) => {
        try {
          return await this.engine.reject(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.update = async (i) => {
        try {
          return await this.engine.update(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.extend = async (i) => {
        try {
          return await this.engine.extend(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.request = async (i) => {
        try {
          return await this.engine.request(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.respond = async (i) => {
        try {
          return await this.engine.respond(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.ping = async (i) => {
        try {
          return await this.engine.ping(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.emit = async (i) => {
        try {
          return await this.engine.emit(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.disconnect = async (i) => {
        try {
          return await this.engine.disconnect(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.find = (i) => {
        try {
          return this.engine.find(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.getPendingSessionRequests = () => {
        try {
          return this.engine.getPendingSessionRequests();
        } catch (i) {
          throw (this.logger.error(i.message), i);
        }
      }),
      (this.authenticate = async (i, n) => {
        try {
          return await this.engine.authenticate(i, n);
        } catch (a) {
          throw (this.logger.error(a.message), a);
        }
      }),
      (this.formatAuthMessage = (i) => {
        try {
          return this.engine.formatAuthMessage(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.approveSessionAuthenticate = async (i) => {
        try {
          return await this.engine.approveSessionAuthenticate(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.rejectSessionAuthenticate = async (i) => {
        try {
          return await this.engine.rejectSessionAuthenticate(i);
        } catch (n) {
          throw (this.logger.error(n.message), n);
        }
      }),
      (this.name = (e == null ? void 0 : e.name) || kl.name),
      (this.metadata = (e == null ? void 0 : e.metadata) || qb()),
      (this.signConfig = e == null ? void 0 : e.signConfig);
    const t =
      typeof (e == null ? void 0 : e.logger) < "u" &&
      typeof (e == null ? void 0 : e.logger) != "string"
        ? e.logger
        : Rc(Vf({ level: (e == null ? void 0 : e.logger) || kl.logger }));
    (this.core = (e == null ? void 0 : e.core) || new lN(e)),
      (this.logger = Zr(t, this.name)),
      (this.session = new CN(this.core, this.logger)),
      (this.proposal = new PN(this.core, this.logger)),
      (this.pendingRequest = new ON(this.core, this.logger)),
      (this.engine = new DN(this)),
      (this.auth = new FN(this.core, this.logger));
  }
  static async init(e) {
    const t = new td(e);
    return await t.initialize(), t;
  }
  get context() {
    return pi(this.logger);
  }
  get pairing() {
    return this.core.pairing.pairings;
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.core.start(),
        await this.session.init(),
        await this.proposal.init(),
        await this.pendingRequest.init(),
        await this.auth.init(),
        await this.engine.init(),
        this.logger.info("SignClient Initialization Success"),
        this.engine.processRelayMessageCache();
    } catch (e) {
      throw (
        (this.logger.info("SignClient Initialization Failure"),
        this.logger.error(e.message),
        e)
      );
    }
  }
}
var BN = Object.defineProperty,
  LN = Object.defineProperties,
  qN = Object.getOwnPropertyDescriptors,
  bv = Object.getOwnPropertySymbols,
  UN = Object.prototype.hasOwnProperty,
  $N = Object.prototype.propertyIsEnumerable,
  mv = (r, e, t) =>
    e in r
      ? BN(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  yv = (r, e) => {
    for (var t in e || (e = {})) UN.call(e, t) && mv(r, t, e[t]);
    if (bv) for (var t of bv(e)) $N.call(e, t) && mv(r, t, e[t]);
    return r;
  },
  wv = (r, e) => LN(r, qN(e));
const zN = { Accept: "application/json", "Content-Type": "application/json" },
  kN = "POST",
  _v = { headers: zN, method: kN },
  Av = 10;
class Jn {
  constructor(e, t = !1) {
    if (
      ((this.url = e),
      (this.disableProviderPing = t),
      (this.events = new Hi.EventEmitter()),
      (this.isAvailable = !1),
      (this.registering = !1),
      !Hg(e))
    )
      throw new Error(
        `Provided URL is not compatible with HTTP connection: ${e}`
      );
    (this.url = e), (this.disableProviderPing = t);
  }
  get connected() {
    return this.isAvailable;
  }
  get connecting() {
    return this.registering;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async open(e = this.url) {
    await this.register(e);
  }
  async close() {
    if (!this.isAvailable) throw new Error("Connection already closed");
    this.onClose();
  }
  async send(e) {
    this.isAvailable || (await this.register());
    try {
      const t = ms(e),
        i = await (await i1(this.url, wv(yv({}, _v), { body: t }))).json();
      this.onPayload({ data: i });
    } catch (t) {
      this.onError(e.id, t);
    }
  }
  async register(e = this.url) {
    if (!Hg(e))
      throw new Error(
        `Provided URL is not compatible with HTTP connection: ${e}`
      );
    if (this.registering) {
      const t = this.events.getMaxListeners();
      return (
        (this.events.listenerCount("register_error") >= t ||
          this.events.listenerCount("open") >= t) &&
          this.events.setMaxListeners(t + 1),
        new Promise((i, n) => {
          this.events.once("register_error", (a) => {
            this.resetMaxListeners(), n(a);
          }),
            this.events.once("open", () => {
              if ((this.resetMaxListeners(), typeof this.isAvailable > "u"))
                return n(new Error("HTTP connection is missing or invalid"));
              i();
            });
        })
      );
    }
    (this.url = e), (this.registering = !0);
    try {
      if (!this.disableProviderPing) {
        const t = ms({ id: 1, jsonrpc: "2.0", method: "test", params: [] });
        await i1(e, wv(yv({}, _v), { body: t }));
      }
      this.onOpen();
    } catch (t) {
      const i = this.parseError(t);
      throw (this.events.emit("register_error", i), this.onClose(), i);
    }
  }
  onOpen() {
    (this.isAvailable = !0), (this.registering = !1), this.events.emit("open");
  }
  onClose() {
    (this.isAvailable = !1), (this.registering = !1), this.events.emit("close");
  }
  onPayload(e) {
    if (typeof e.data > "u") return;
    const t = typeof e.data == "string" ? va(e.data) : e.data;
    this.events.emit("payload", t);
  }
  onError(e, t) {
    const i = this.parseError(t),
      n = i.message || i.toString(),
      a = Wf(e, n);
    this.events.emit("payload", a);
  }
  parseError(e, t = this.url) {
    return j2(e, t, "HTTP");
  }
  resetMaxListeners() {
    this.events.getMaxListeners() > Av && this.events.setMaxListeners(Av);
  }
}
const Ev = "error",
  jN = "wss://relay.walletconnect.org",
  HN = "wc",
  KN = "universal_provider",
  xv = `${HN}@2:${KN}:`,
  dm = "https://rpc.walletconnect.org/v1/",
  Qa = "generic",
  VN = `${dm}bundler`,
  bn = { DEFAULT_CHAIN_CHANGED: "default_chain_changed" };
var ic =
    typeof globalThis < "u"
      ? globalThis
      : typeof window < "u"
      ? window
      : typeof global < "u"
      ? global
      : typeof self < "u"
      ? self
      : {},
  _0 = { exports: {} };
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ (function (r, e) {
  (function () {
    var t,
      i = "4.17.21",
      n = 200,
      a = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",
      h = "Expected a function",
      f = "Invalid `variable` option passed into `_.template`",
      v = "__lodash_hash_undefined__",
      g = 500,
      y = "__lodash_placeholder__",
      _ = 1,
      C = 2,
      P = 4,
      O = 1,
      H = 2,
      G = 1,
      Q = 2,
      z = 4,
      Y = 8,
      q = 16,
      k = 32,
      V = 64,
      A = 128,
      F = 256,
      ae = 512,
      de = 30,
      U = "...",
      m = 800,
      c = 16,
      l = 1,
      b = 2,
      x = 3,
      M = 1 / 0,
      D = 9007199254740991,
      S = 17976931348623157e292,
      d = 0 / 0,
      p = 4294967295,
      R = p - 1,
      Z = p >>> 1,
      se = [
        ["ary", A],
        ["bind", G],
        ["bindKey", Q],
        ["curry", Y],
        ["curryRight", q],
        ["flip", ae],
        ["partial", k],
        ["partialRight", V],
        ["rearg", F],
      ],
      I = "[object Arguments]",
      ee = "[object Array]",
      B = "[object AsyncFunction]",
      j = "[object Boolean]",
      K = "[object Date]",
      w = "[object DOMException]",
      $ = "[object Error]",
      ne = "[object Function]",
      ce = "[object GeneratorFunction]",
      fe = "[object Map]",
      ye = "[object Number]",
      we = "[object Null]",
      Ne = "[object Object]",
      Qe = "[object Promise]",
      Pe = "[object Proxy]",
      Re = "[object RegExp]",
      Me = "[object Set]",
      me = "[object String]",
      Ce = "[object Symbol]",
      Te = "[object Undefined]",
      ve = "[object WeakMap]",
      Oe = "[object WeakSet]",
      Se = "[object ArrayBuffer]",
      be = "[object DataView]",
      qe = "[object Float32Array]",
      Ie = "[object Float64Array]",
      _e = "[object Int8Array]",
      He = "[object Int16Array]",
      Ve = "[object Int32Array]",
      Ee = "[object Uint8Array]",
      Ke = "[object Uint8ClampedArray]",
      ut = "[object Uint16Array]",
      Ge = "[object Uint32Array]",
      _t = /\b__p \+= '';/g,
      lt = /\b(__p \+=) '' \+/g,
      Je = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
      Et = /&(?:amp|lt|gt|quot|#39);/g,
      Mt = /[&<>"']/g,
      Fe = RegExp(Et.source),
      Xe = RegExp(Mt.source),
      tt = /<%-([\s\S]+?)%>/g,
      Be = /<%([\s\S]+?)%>/g,
      et = /<%=([\s\S]+?)%>/g,
      Ze = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
      $e = /^\w*$/,
      ht =
        /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
      rt = /[\\^$.*+?()[\]{}|]/g,
      ze = RegExp(rt.source),
      it = /^\s+/,
      st = /\s/,
      Le = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
      Ye = /\{\n\/\* \[wrapped with (.+)\] \*/,
      ft = /,? & /,
      ke = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
      Rt = /[()=,{}\[\]\/\s]/,
      Tt = /\\(\\)?/g,
      at = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
      bt = /\w*$/,
      Rr = /^[-+]0x[0-9a-f]+$/i,
      Tr = /^0b[01]+$/i,
      Fr = /^\[object .+?Constructor\]$/,
      Br = /^0o[0-7]+$/i,
      Lr = /^(?:0|[1-9]\d*)$/,
      er = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
      ei = /($^)/,
      Gi = /['\n\r\u2028\u2029\\]/g,
      ti = "\\ud800-\\udfff",
      Wi = "\\u0300-\\u036f",
      Ji = "\\ufe20-\\ufe2f",
      ri = "\\u20d0-\\u20ff",
      Mi = Wi + Ji + ri,
      Ii = "\\u2700-\\u27bf",
      lr = "a-z\\xdf-\\xf6\\xf8-\\xff",
      Yi = "\\xac\\xb1\\xd7\\xf7",
      Qi = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",
      Xi = "\\u2000-\\u206f",
      js =
        " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
      Bc = "A-Z\\xc0-\\xd6\\xd8-\\xde",
      Lc = "\\ufe0e\\ufe0f",
      Hs = Yi + Qi + Xi + js,
      So = "['’]",
      Ks = "[" + ti + "]",
      Mo = "[" + Hs + "]",
      Vs = "[" + Mi + "]",
      qc = "\\d+",
      Xf = "[" + Ii + "]",
      Uc = "[" + lr + "]",
      $c = "[^" + ti + Hs + qc + Ii + lr + Bc + "]",
      Da = "\\ud83c[\\udffb-\\udfff]",
      Zf = "(?:" + Vs + "|" + Da + ")",
      zc = "[^" + ti + "]",
      Pa = "(?:\\ud83c[\\udde6-\\uddff]){2}",
      ws = "[\\ud800-\\udbff][\\udc00-\\udfff]",
      gi = "[" + Bc + "]",
      kc = "\\u200d",
      jc = "(?:" + Uc + "|" + $c + ")",
      mn = "(?:" + gi + "|" + $c + ")",
      Hc = "(?:" + So + "(?:d|ll|m|re|s|t|ve))?",
      Kc = "(?:" + So + "(?:D|LL|M|RE|S|T|VE))?",
      Vc = Zf + "?",
      Gc = "[" + Lc + "]?",
      eu = "(?:" + kc + "(?:" + [zc, Pa, ws].join("|") + ")" + Gc + Vc + ")*",
      Yn = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",
      Wc = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",
      Jc = Gc + Vc + eu,
      Ca = "(?:" + [Xf, Pa, ws].join("|") + ")" + Jc,
      tu = "(?:" + [zc + Vs + "?", Vs, Pa, ws, Ks].join("|") + ")",
      Io = RegExp(So, "g"),
      ru = RegExp(Vs, "g"),
      Oa = RegExp(Da + "(?=" + Da + ")|" + tu + Jc, "g"),
      Yc = RegExp(
        [
          gi + "?" + Uc + "+" + Hc + "(?=" + [Mo, gi, "$"].join("|") + ")",
          mn + "+" + Kc + "(?=" + [Mo, gi + jc, "$"].join("|") + ")",
          gi + "?" + jc + "+" + Hc,
          gi + "+" + Kc,
          Wc,
          Yn,
          qc,
          Ca,
        ].join("|"),
        "g"
      ),
      Qc = RegExp("[" + kc + ti + Mi + Lc + "]"),
      Gs = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
      Xc = [
        "Array",
        "Buffer",
        "DataView",
        "Date",
        "Error",
        "Float32Array",
        "Float64Array",
        "Function",
        "Int8Array",
        "Int16Array",
        "Int32Array",
        "Map",
        "Math",
        "Object",
        "Promise",
        "RegExp",
        "Set",
        "String",
        "Symbol",
        "TypeError",
        "Uint8Array",
        "Uint8ClampedArray",
        "Uint16Array",
        "Uint32Array",
        "WeakMap",
        "_",
        "clearTimeout",
        "isFinite",
        "parseInt",
        "setTimeout",
      ],
      iu = -1,
      zt = {};
    (zt[qe] =
      zt[Ie] =
      zt[_e] =
      zt[He] =
      zt[Ve] =
      zt[Ee] =
      zt[Ke] =
      zt[ut] =
      zt[Ge] =
        !0),
      (zt[I] =
        zt[ee] =
        zt[Se] =
        zt[j] =
        zt[be] =
        zt[K] =
        zt[$] =
        zt[ne] =
        zt[fe] =
        zt[ye] =
        zt[Ne] =
        zt[Re] =
        zt[Me] =
        zt[me] =
        zt[ve] =
          !1);
    var $t = {};
    ($t[I] =
      $t[ee] =
      $t[Se] =
      $t[be] =
      $t[j] =
      $t[K] =
      $t[qe] =
      $t[Ie] =
      $t[_e] =
      $t[He] =
      $t[Ve] =
      $t[fe] =
      $t[ye] =
      $t[Ne] =
      $t[Re] =
      $t[Me] =
      $t[me] =
      $t[Ce] =
      $t[Ee] =
      $t[Ke] =
      $t[ut] =
      $t[Ge] =
        !0),
      ($t[$] = $t[ne] = $t[ve] = !1);
    var W = {
        À: "A",
        Á: "A",
        Â: "A",
        Ã: "A",
        Ä: "A",
        Å: "A",
        à: "a",
        á: "a",
        â: "a",
        ã: "a",
        ä: "a",
        å: "a",
        Ç: "C",
        ç: "c",
        Ð: "D",
        ð: "d",
        È: "E",
        É: "E",
        Ê: "E",
        Ë: "E",
        è: "e",
        é: "e",
        ê: "e",
        ë: "e",
        Ì: "I",
        Í: "I",
        Î: "I",
        Ï: "I",
        ì: "i",
        í: "i",
        î: "i",
        ï: "i",
        Ñ: "N",
        ñ: "n",
        Ò: "O",
        Ó: "O",
        Ô: "O",
        Õ: "O",
        Ö: "O",
        Ø: "O",
        ò: "o",
        ó: "o",
        ô: "o",
        õ: "o",
        ö: "o",
        ø: "o",
        Ù: "U",
        Ú: "U",
        Û: "U",
        Ü: "U",
        ù: "u",
        ú: "u",
        û: "u",
        ü: "u",
        Ý: "Y",
        ý: "y",
        ÿ: "y",
        Æ: "Ae",
        æ: "ae",
        Þ: "Th",
        þ: "th",
        ß: "ss",
        Ā: "A",
        Ă: "A",
        Ą: "A",
        ā: "a",
        ă: "a",
        ą: "a",
        Ć: "C",
        Ĉ: "C",
        Ċ: "C",
        Č: "C",
        ć: "c",
        ĉ: "c",
        ċ: "c",
        č: "c",
        Ď: "D",
        Đ: "D",
        ď: "d",
        đ: "d",
        Ē: "E",
        Ĕ: "E",
        Ė: "E",
        Ę: "E",
        Ě: "E",
        ē: "e",
        ĕ: "e",
        ė: "e",
        ę: "e",
        ě: "e",
        Ĝ: "G",
        Ğ: "G",
        Ġ: "G",
        Ģ: "G",
        ĝ: "g",
        ğ: "g",
        ġ: "g",
        ģ: "g",
        Ĥ: "H",
        Ħ: "H",
        ĥ: "h",
        ħ: "h",
        Ĩ: "I",
        Ī: "I",
        Ĭ: "I",
        Į: "I",
        İ: "I",
        ĩ: "i",
        ī: "i",
        ĭ: "i",
        į: "i",
        ı: "i",
        Ĵ: "J",
        ĵ: "j",
        Ķ: "K",
        ķ: "k",
        ĸ: "k",
        Ĺ: "L",
        Ļ: "L",
        Ľ: "L",
        Ŀ: "L",
        Ł: "L",
        ĺ: "l",
        ļ: "l",
        ľ: "l",
        ŀ: "l",
        ł: "l",
        Ń: "N",
        Ņ: "N",
        Ň: "N",
        Ŋ: "N",
        ń: "n",
        ņ: "n",
        ň: "n",
        ŋ: "n",
        Ō: "O",
        Ŏ: "O",
        Ő: "O",
        ō: "o",
        ŏ: "o",
        ő: "o",
        Ŕ: "R",
        Ŗ: "R",
        Ř: "R",
        ŕ: "r",
        ŗ: "r",
        ř: "r",
        Ś: "S",
        Ŝ: "S",
        Ş: "S",
        Š: "S",
        ś: "s",
        ŝ: "s",
        ş: "s",
        š: "s",
        Ţ: "T",
        Ť: "T",
        Ŧ: "T",
        ţ: "t",
        ť: "t",
        ŧ: "t",
        Ũ: "U",
        Ū: "U",
        Ŭ: "U",
        Ů: "U",
        Ű: "U",
        Ų: "U",
        ũ: "u",
        ū: "u",
        ŭ: "u",
        ů: "u",
        ű: "u",
        ų: "u",
        Ŵ: "W",
        ŵ: "w",
        Ŷ: "Y",
        ŷ: "y",
        Ÿ: "Y",
        Ź: "Z",
        Ż: "Z",
        Ž: "Z",
        ź: "z",
        ż: "z",
        ž: "z",
        Ĳ: "IJ",
        ĳ: "ij",
        Œ: "Oe",
        œ: "oe",
        ŉ: "'n",
        ſ: "s",
      },
      te = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
      },
      pe = {
        "&amp;": "&",
        "&lt;": "<",
        "&gt;": ">",
        "&quot;": '"',
        "&#39;": "'",
      },
      Ue = {
        "\\": "\\",
        "'": "'",
        "\n": "n",
        "\r": "r",
        "\u2028": "u2028",
        "\u2029": "u2029",
      },
      kt = parseFloat,
      pt = parseInt,
      Jt = typeof ic == "object" && ic && ic.Object === Object && ic,
      fr = typeof self == "object" && self && self.Object === Object && self,
      Ot = Jt || fr || Function("return this")(),
      jt = e && !e.nodeType && e,
      sr = jt && !0 && r && !r.nodeType && r,
      ii = sr && sr.exports === jt,
      ur = ii && Jt.process,
      Yt = (function () {
        try {
          var re = sr && sr.require && sr.require("util").types;
          return re || (ur && ur.binding && ur.binding("util"));
        } catch {}
      })(),
      jr = Yt && Yt.isArrayBuffer,
      Zi = Yt && Yt.isDate,
      Di = Yt && Yt.isMap,
      yn = Yt && Yt.isRegExp,
      Do = Yt && Yt.isSet,
      Ws = Yt && Yt.isTypedArray;
    function br(re, he, oe) {
      switch (oe.length) {
        case 0:
          return re.call(he);
        case 1:
          return re.call(he, oe[0]);
        case 2:
          return re.call(he, oe[0], oe[1]);
        case 3:
          return re.call(he, oe[0], oe[1], oe[2]);
      }
      return re.apply(he, oe);
    }
    function vm(re, he, oe, je) {
      for (var dt = -1, Ft = re == null ? 0 : re.length; ++dt < Ft; ) {
        var dr = re[dt];
        he(je, dr, oe(dr), re);
      }
      return je;
    }
    function Pi(re, he) {
      for (
        var oe = -1, je = re == null ? 0 : re.length;
        ++oe < je && he(re[oe], oe, re) !== !1;

      );
      return re;
    }
    function bm(re, he) {
      for (
        var oe = re == null ? 0 : re.length;
        oe-- && he(re[oe], oe, re) !== !1;

      );
      return re;
    }
    function nd(re, he) {
      for (var oe = -1, je = re == null ? 0 : re.length; ++oe < je; )
        if (!he(re[oe], oe, re)) return !1;
      return !0;
    }
    function _s(re, he) {
      for (
        var oe = -1, je = re == null ? 0 : re.length, dt = 0, Ft = [];
        ++oe < je;

      ) {
        var dr = re[oe];
        he(dr, oe, re) && (Ft[dt++] = dr);
      }
      return Ft;
    }
    function Zc(re, he) {
      var oe = re == null ? 0 : re.length;
      return !!oe && Na(re, he, 0) > -1;
    }
    function nu(re, he, oe) {
      for (var je = -1, dt = re == null ? 0 : re.length; ++je < dt; )
        if (oe(he, re[je])) return !0;
      return !1;
    }
    function Xt(re, he) {
      for (
        var oe = -1, je = re == null ? 0 : re.length, dt = Array(je);
        ++oe < je;

      )
        dt[oe] = he(re[oe], oe, re);
      return dt;
    }
    function As(re, he) {
      for (var oe = -1, je = he.length, dt = re.length; ++oe < je; )
        re[dt + oe] = he[oe];
      return re;
    }
    function su(re, he, oe, je) {
      var dt = -1,
        Ft = re == null ? 0 : re.length;
      for (je && Ft && (oe = re[++dt]); ++dt < Ft; )
        oe = he(oe, re[dt], dt, re);
      return oe;
    }
    function mm(re, he, oe, je) {
      var dt = re == null ? 0 : re.length;
      for (je && dt && (oe = re[--dt]); dt--; ) oe = he(oe, re[dt], dt, re);
      return oe;
    }
    function au(re, he) {
      for (var oe = -1, je = re == null ? 0 : re.length; ++oe < je; )
        if (he(re[oe], oe, re)) return !0;
      return !1;
    }
    var ym = ou("length");
    function wm(re) {
      return re.split("");
    }
    function _m(re) {
      return re.match(ke) || [];
    }
    function sd(re, he, oe) {
      var je;
      return (
        oe(re, function (dt, Ft, dr) {
          if (he(dt, Ft, dr)) return (je = Ft), !1;
        }),
        je
      );
    }
    function eh(re, he, oe, je) {
      for (var dt = re.length, Ft = oe + (je ? 1 : -1); je ? Ft-- : ++Ft < dt; )
        if (he(re[Ft], Ft, re)) return Ft;
      return -1;
    }
    function Na(re, he, oe) {
      return he === he ? Rm(re, he, oe) : eh(re, ad, oe);
    }
    function Am(re, he, oe, je) {
      for (var dt = oe - 1, Ft = re.length; ++dt < Ft; )
        if (je(re[dt], he)) return dt;
      return -1;
    }
    function ad(re) {
      return re !== re;
    }
    function od(re, he) {
      var oe = re == null ? 0 : re.length;
      return oe ? hu(re, he) / oe : d;
    }
    function ou(re) {
      return function (he) {
        return he == null ? t : he[re];
      };
    }
    function cu(re) {
      return function (he) {
        return re == null ? t : re[he];
      };
    }
    function cd(re, he, oe, je, dt) {
      return (
        dt(re, function (Ft, dr, Ht) {
          oe = je ? ((je = !1), Ft) : he(oe, Ft, dr, Ht);
        }),
        oe
      );
    }
    function Em(re, he) {
      var oe = re.length;
      for (re.sort(he); oe--; ) re[oe] = re[oe].value;
      return re;
    }
    function hu(re, he) {
      for (var oe, je = -1, dt = re.length; ++je < dt; ) {
        var Ft = he(re[je]);
        Ft !== t && (oe = oe === t ? Ft : oe + Ft);
      }
      return oe;
    }
    function fu(re, he) {
      for (var oe = -1, je = Array(re); ++oe < re; ) je[oe] = he(oe);
      return je;
    }
    function xm(re, he) {
      return Xt(he, function (oe) {
        return [oe, re[oe]];
      });
    }
    function hd(re) {
      return re && re.slice(0, dd(re) + 1).replace(it, "");
    }
    function vi(re) {
      return function (he) {
        return re(he);
      };
    }
    function uu(re, he) {
      return Xt(he, function (oe) {
        return re[oe];
      });
    }
    function Po(re, he) {
      return re.has(he);
    }
    function fd(re, he) {
      for (var oe = -1, je = re.length; ++oe < je && Na(he, re[oe], 0) > -1; );
      return oe;
    }
    function ud(re, he) {
      for (var oe = re.length; oe-- && Na(he, re[oe], 0) > -1; );
      return oe;
    }
    function Sm(re, he) {
      for (var oe = re.length, je = 0; oe--; ) re[oe] === he && ++je;
      return je;
    }
    var Mm = cu(W),
      Im = cu(te);
    function Dm(re) {
      return "\\" + Ue[re];
    }
    function Pm(re, he) {
      return re == null ? t : re[he];
    }
    function Ra(re) {
      return Qc.test(re);
    }
    function Cm(re) {
      return Gs.test(re);
    }
    function Om(re) {
      for (var he, oe = []; !(he = re.next()).done; ) oe.push(he.value);
      return oe;
    }
    function lu(re) {
      var he = -1,
        oe = Array(re.size);
      return (
        re.forEach(function (je, dt) {
          oe[++he] = [dt, je];
        }),
        oe
      );
    }
    function ld(re, he) {
      return function (oe) {
        return re(he(oe));
      };
    }
    function Es(re, he) {
      for (var oe = -1, je = re.length, dt = 0, Ft = []; ++oe < je; ) {
        var dr = re[oe];
        (dr === he || dr === y) && ((re[oe] = y), (Ft[dt++] = oe));
      }
      return Ft;
    }
    function th(re) {
      var he = -1,
        oe = Array(re.size);
      return (
        re.forEach(function (je) {
          oe[++he] = je;
        }),
        oe
      );
    }
    function Nm(re) {
      var he = -1,
        oe = Array(re.size);
      return (
        re.forEach(function (je) {
          oe[++he] = [je, je];
        }),
        oe
      );
    }
    function Rm(re, he, oe) {
      for (var je = oe - 1, dt = re.length; ++je < dt; )
        if (re[je] === he) return je;
      return -1;
    }
    function Tm(re, he, oe) {
      for (var je = oe + 1; je--; ) if (re[je] === he) return je;
      return je;
    }
    function Ta(re) {
      return Ra(re) ? Bm(re) : ym(re);
    }
    function en(re) {
      return Ra(re) ? Lm(re) : wm(re);
    }
    function dd(re) {
      for (var he = re.length; he-- && st.test(re.charAt(he)); );
      return he;
    }
    var Fm = cu(pe);
    function Bm(re) {
      for (var he = (Oa.lastIndex = 0); Oa.test(re); ) ++he;
      return he;
    }
    function Lm(re) {
      return re.match(Oa) || [];
    }
    function qm(re) {
      return re.match(Yc) || [];
    }
    var Um = function re(he) {
        he = he == null ? Ot : Fa.defaults(Ot.Object(), he, Fa.pick(Ot, Xc));
        var oe = he.Array,
          je = he.Date,
          dt = he.Error,
          Ft = he.Function,
          dr = he.Math,
          Ht = he.Object,
          du = he.RegExp,
          $m = he.String,
          Ci = he.TypeError,
          rh = oe.prototype,
          zm = Ft.prototype,
          Ba = Ht.prototype,
          ih = he["__core-js_shared__"],
          nh = zm.toString,
          qt = Ba.hasOwnProperty,
          km = 0,
          pd = (function () {
            var s = /[^.]+$/.exec((ih && ih.keys && ih.keys.IE_PROTO) || "");
            return s ? "Symbol(src)_1." + s : "";
          })(),
          sh = Ba.toString,
          jm = nh.call(Ht),
          Hm = Ot._,
          Km = du(
            "^" +
              nh
                .call(qt)
                .replace(rt, "\\$&")
                .replace(
                  /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                  "$1.*?"
                ) +
              "$"
          ),
          ah = ii ? he.Buffer : t,
          xs = he.Symbol,
          oh = he.Uint8Array,
          gd = ah ? ah.allocUnsafe : t,
          ch = ld(Ht.getPrototypeOf, Ht),
          vd = Ht.create,
          bd = Ba.propertyIsEnumerable,
          hh = rh.splice,
          md = xs ? xs.isConcatSpreadable : t,
          Co = xs ? xs.iterator : t,
          Js = xs ? xs.toStringTag : t,
          fh = (function () {
            try {
              var s = ea(Ht, "defineProperty");
              return s({}, "", {}), s;
            } catch {}
          })(),
          Vm = he.clearTimeout !== Ot.clearTimeout && he.clearTimeout,
          Gm = je && je.now !== Ot.Date.now && je.now,
          Wm = he.setTimeout !== Ot.setTimeout && he.setTimeout,
          uh = dr.ceil,
          lh = dr.floor,
          pu = Ht.getOwnPropertySymbols,
          Jm = ah ? ah.isBuffer : t,
          yd = he.isFinite,
          Ym = rh.join,
          Qm = ld(Ht.keys, Ht),
          pr = dr.max,
          qr = dr.min,
          Xm = je.now,
          Zm = he.parseInt,
          wd = dr.random,
          e3 = rh.reverse,
          gu = ea(he, "DataView"),
          Oo = ea(he, "Map"),
          vu = ea(he, "Promise"),
          La = ea(he, "Set"),
          No = ea(he, "WeakMap"),
          Ro = ea(Ht, "create"),
          dh = No && new No(),
          qa = {},
          t3 = ta(gu),
          r3 = ta(Oo),
          i3 = ta(vu),
          n3 = ta(La),
          s3 = ta(No),
          ph = xs ? xs.prototype : t,
          To = ph ? ph.valueOf : t,
          _d = ph ? ph.toString : t;
        function T(s) {
          if (tr(s) && !gt(s) && !(s instanceof It)) {
            if (s instanceof Oi) return s;
            if (qt.call(s, "__wrapped__")) return Ap(s);
          }
          return new Oi(s);
        }
        var Ua = (function () {
          function s() {}
          return function (o) {
            if (!Zt(o)) return {};
            if (vd) return vd(o);
            s.prototype = o;
            var u = new s();
            return (s.prototype = t), u;
          };
        })();
        function gh() {}
        function Oi(s, o) {
          (this.__wrapped__ = s),
            (this.__actions__ = []),
            (this.__chain__ = !!o),
            (this.__index__ = 0),
            (this.__values__ = t);
        }
        (T.templateSettings = {
          escape: tt,
          evaluate: Be,
          interpolate: et,
          variable: "",
          imports: { _: T },
        }),
          (T.prototype = gh.prototype),
          (T.prototype.constructor = T),
          (Oi.prototype = Ua(gh.prototype)),
          (Oi.prototype.constructor = Oi);
        function It(s) {
          (this.__wrapped__ = s),
            (this.__actions__ = []),
            (this.__dir__ = 1),
            (this.__filtered__ = !1),
            (this.__iteratees__ = []),
            (this.__takeCount__ = p),
            (this.__views__ = []);
        }
        function a3() {
          var s = new It(this.__wrapped__);
          return (
            (s.__actions__ = ni(this.__actions__)),
            (s.__dir__ = this.__dir__),
            (s.__filtered__ = this.__filtered__),
            (s.__iteratees__ = ni(this.__iteratees__)),
            (s.__takeCount__ = this.__takeCount__),
            (s.__views__ = ni(this.__views__)),
            s
          );
        }
        function o3() {
          if (this.__filtered__) {
            var s = new It(this);
            (s.__dir__ = -1), (s.__filtered__ = !0);
          } else (s = this.clone()), (s.__dir__ *= -1);
          return s;
        }
        function c3() {
          var s = this.__wrapped__.value(),
            o = this.__dir__,
            u = gt(s),
            E = o < 0,
            N = u ? s.length : 0,
            L = w6(0, N, this.__views__),
            J = L.start,
            X = L.end,
            ie = X - J,
            ue = E ? X : J - 1,
            le = this.__iteratees__,
            ge = le.length,
            De = 0,
            We = qr(ie, this.__takeCount__);
          if (!u || (!E && N == ie && We == ie)) return Kd(s, this.__actions__);
          var ot = [];
          e: for (; ie-- && De < We; ) {
            ue += o;
            for (var wt = -1, ct = s[ue]; ++wt < ge; ) {
              var xt = le[wt],
                Nt = xt.iteratee,
                yi = xt.type,
                Vr = Nt(ct);
              if (yi == b) ct = Vr;
              else if (!Vr) {
                if (yi == l) continue e;
                break e;
              }
            }
            ot[De++] = ct;
          }
          return ot;
        }
        (It.prototype = Ua(gh.prototype)), (It.prototype.constructor = It);
        function Ys(s) {
          var o = -1,
            u = s == null ? 0 : s.length;
          for (this.clear(); ++o < u; ) {
            var E = s[o];
            this.set(E[0], E[1]);
          }
        }
        function h3() {
          (this.__data__ = Ro ? Ro(null) : {}), (this.size = 0);
        }
        function f3(s) {
          var o = this.has(s) && delete this.__data__[s];
          return (this.size -= o ? 1 : 0), o;
        }
        function u3(s) {
          var o = this.__data__;
          if (Ro) {
            var u = o[s];
            return u === v ? t : u;
          }
          return qt.call(o, s) ? o[s] : t;
        }
        function l3(s) {
          var o = this.__data__;
          return Ro ? o[s] !== t : qt.call(o, s);
        }
        function d3(s, o) {
          var u = this.__data__;
          return (
            (this.size += this.has(s) ? 0 : 1),
            (u[s] = Ro && o === t ? v : o),
            this
          );
        }
        (Ys.prototype.clear = h3),
          (Ys.prototype.delete = f3),
          (Ys.prototype.get = u3),
          (Ys.prototype.has = l3),
          (Ys.prototype.set = d3);
        function Qn(s) {
          var o = -1,
            u = s == null ? 0 : s.length;
          for (this.clear(); ++o < u; ) {
            var E = s[o];
            this.set(E[0], E[1]);
          }
        }
        function p3() {
          (this.__data__ = []), (this.size = 0);
        }
        function g3(s) {
          var o = this.__data__,
            u = vh(o, s);
          if (u < 0) return !1;
          var E = o.length - 1;
          return u == E ? o.pop() : hh.call(o, u, 1), --this.size, !0;
        }
        function v3(s) {
          var o = this.__data__,
            u = vh(o, s);
          return u < 0 ? t : o[u][1];
        }
        function b3(s) {
          return vh(this.__data__, s) > -1;
        }
        function m3(s, o) {
          var u = this.__data__,
            E = vh(u, s);
          return E < 0 ? (++this.size, u.push([s, o])) : (u[E][1] = o), this;
        }
        (Qn.prototype.clear = p3),
          (Qn.prototype.delete = g3),
          (Qn.prototype.get = v3),
          (Qn.prototype.has = b3),
          (Qn.prototype.set = m3);
        function Xn(s) {
          var o = -1,
            u = s == null ? 0 : s.length;
          for (this.clear(); ++o < u; ) {
            var E = s[o];
            this.set(E[0], E[1]);
          }
        }
        function y3() {
          (this.size = 0),
            (this.__data__ = {
              hash: new Ys(),
              map: new (Oo || Qn)(),
              string: new Ys(),
            });
        }
        function w3(s) {
          var o = Dh(this, s).delete(s);
          return (this.size -= o ? 1 : 0), o;
        }
        function _3(s) {
          return Dh(this, s).get(s);
        }
        function A3(s) {
          return Dh(this, s).has(s);
        }
        function E3(s, o) {
          var u = Dh(this, s),
            E = u.size;
          return u.set(s, o), (this.size += u.size == E ? 0 : 1), this;
        }
        (Xn.prototype.clear = y3),
          (Xn.prototype.delete = w3),
          (Xn.prototype.get = _3),
          (Xn.prototype.has = A3),
          (Xn.prototype.set = E3);
        function Qs(s) {
          var o = -1,
            u = s == null ? 0 : s.length;
          for (this.__data__ = new Xn(); ++o < u; ) this.add(s[o]);
        }
        function x3(s) {
          return this.__data__.set(s, v), this;
        }
        function S3(s) {
          return this.__data__.has(s);
        }
        (Qs.prototype.add = Qs.prototype.push = x3), (Qs.prototype.has = S3);
        function tn(s) {
          var o = (this.__data__ = new Qn(s));
          this.size = o.size;
        }
        function M3() {
          (this.__data__ = new Qn()), (this.size = 0);
        }
        function I3(s) {
          var o = this.__data__,
            u = o.delete(s);
          return (this.size = o.size), u;
        }
        function D3(s) {
          return this.__data__.get(s);
        }
        function P3(s) {
          return this.__data__.has(s);
        }
        function C3(s, o) {
          var u = this.__data__;
          if (u instanceof Qn) {
            var E = u.__data__;
            if (!Oo || E.length < n - 1)
              return E.push([s, o]), (this.size = ++u.size), this;
            u = this.__data__ = new Xn(E);
          }
          return u.set(s, o), (this.size = u.size), this;
        }
        (tn.prototype.clear = M3),
          (tn.prototype.delete = I3),
          (tn.prototype.get = D3),
          (tn.prototype.has = P3),
          (tn.prototype.set = C3);
        function Ad(s, o) {
          var u = gt(s),
            E = !u && ra(s),
            N = !u && !E && Ps(s),
            L = !u && !E && !N && ja(s),
            J = u || E || N || L,
            X = J ? fu(s.length, $m) : [],
            ie = X.length;
          for (var ue in s)
            (o || qt.call(s, ue)) &&
              !(
                J &&
                (ue == "length" ||
                  (N && (ue == "offset" || ue == "parent")) ||
                  (L &&
                    (ue == "buffer" ||
                      ue == "byteLength" ||
                      ue == "byteOffset")) ||
                  rs(ue, ie))
              ) &&
              X.push(ue);
          return X;
        }
        function Ed(s) {
          var o = s.length;
          return o ? s[Iu(0, o - 1)] : t;
        }
        function O3(s, o) {
          return Ph(ni(s), Xs(o, 0, s.length));
        }
        function N3(s) {
          return Ph(ni(s));
        }
        function bu(s, o, u) {
          ((u !== t && !rn(s[o], u)) || (u === t && !(o in s))) && Zn(s, o, u);
        }
        function Fo(s, o, u) {
          var E = s[o];
          (!(qt.call(s, o) && rn(E, u)) || (u === t && !(o in s))) &&
            Zn(s, o, u);
        }
        function vh(s, o) {
          for (var u = s.length; u--; ) if (rn(s[u][0], o)) return u;
          return -1;
        }
        function R3(s, o, u, E) {
          return (
            Ss(s, function (N, L, J) {
              o(E, N, u(N), J);
            }),
            E
          );
        }
        function xd(s, o) {
          return s && _n(o, mr(o), s);
        }
        function T3(s, o) {
          return s && _n(o, ai(o), s);
        }
        function Zn(s, o, u) {
          o == "__proto__" && fh
            ? fh(s, o, {
                configurable: !0,
                enumerable: !0,
                value: u,
                writable: !0,
              })
            : (s[o] = u);
        }
        function mu(s, o) {
          for (var u = -1, E = o.length, N = oe(E), L = s == null; ++u < E; )
            N[u] = L ? t : Xu(s, o[u]);
          return N;
        }
        function Xs(s, o, u) {
          return (
            s === s &&
              (u !== t && (s = s <= u ? s : u),
              o !== t && (s = s >= o ? s : o)),
            s
          );
        }
        function Ni(s, o, u, E, N, L) {
          var J,
            X = o & _,
            ie = o & C,
            ue = o & P;
          if ((u && (J = N ? u(s, E, N, L) : u(s)), J !== t)) return J;
          if (!Zt(s)) return s;
          var le = gt(s);
          if (le) {
            if (((J = A6(s)), !X)) return ni(s, J);
          } else {
            var ge = Ur(s),
              De = ge == ne || ge == ce;
            if (Ps(s)) return Wd(s, X);
            if (ge == Ne || ge == I || (De && !N)) {
              if (((J = ie || De ? {} : dp(s)), !X))
                return ie ? u6(s, T3(J, s)) : f6(s, xd(J, s));
            } else {
              if (!$t[ge]) return N ? s : {};
              J = E6(s, ge, X);
            }
          }
          L || (L = new tn());
          var We = L.get(s);
          if (We) return We;
          L.set(s, J),
            kp(s)
              ? s.forEach(function (ct) {
                  J.add(Ni(ct, o, u, ct, s, L));
                })
              : $p(s) &&
                s.forEach(function (ct, xt) {
                  J.set(xt, Ni(ct, o, u, xt, s, L));
                });
          var ot = ue ? (ie ? qu : Lu) : ie ? ai : mr,
            wt = le ? t : ot(s);
          return (
            Pi(wt || s, function (ct, xt) {
              wt && ((xt = ct), (ct = s[xt])),
                Fo(J, xt, Ni(ct, o, u, xt, s, L));
            }),
            J
          );
        }
        function F3(s) {
          var o = mr(s);
          return function (u) {
            return Sd(u, s, o);
          };
        }
        function Sd(s, o, u) {
          var E = u.length;
          if (s == null) return !E;
          for (s = Ht(s); E--; ) {
            var N = u[E],
              L = o[N],
              J = s[N];
            if ((J === t && !(N in s)) || !L(J)) return !1;
          }
          return !0;
        }
        function Md(s, o, u) {
          if (typeof s != "function") throw new Ci(h);
          return ko(function () {
            s.apply(t, u);
          }, o);
        }
        function Bo(s, o, u, E) {
          var N = -1,
            L = Zc,
            J = !0,
            X = s.length,
            ie = [],
            ue = o.length;
          if (!X) return ie;
          u && (o = Xt(o, vi(u))),
            E
              ? ((L = nu), (J = !1))
              : o.length >= n && ((L = Po), (J = !1), (o = new Qs(o)));
          e: for (; ++N < X; ) {
            var le = s[N],
              ge = u == null ? le : u(le);
            if (((le = E || le !== 0 ? le : 0), J && ge === ge)) {
              for (var De = ue; De--; ) if (o[De] === ge) continue e;
              ie.push(le);
            } else L(o, ge, E) || ie.push(le);
          }
          return ie;
        }
        var Ss = Zd(wn),
          Id = Zd(wu, !0);
        function B3(s, o) {
          var u = !0;
          return (
            Ss(s, function (E, N, L) {
              return (u = !!o(E, N, L)), u;
            }),
            u
          );
        }
        function bh(s, o, u) {
          for (var E = -1, N = s.length; ++E < N; ) {
            var L = s[E],
              J = o(L);
            if (J != null && (X === t ? J === J && !mi(J) : u(J, X)))
              var X = J,
                ie = L;
          }
          return ie;
        }
        function L3(s, o, u, E) {
          var N = s.length;
          for (
            u = yt(u),
              u < 0 && (u = -u > N ? 0 : N + u),
              E = E === t || E > N ? N : yt(E),
              E < 0 && (E += N),
              E = u > E ? 0 : Hp(E);
            u < E;

          )
            s[u++] = o;
          return s;
        }
        function Dd(s, o) {
          var u = [];
          return (
            Ss(s, function (E, N, L) {
              o(E, N, L) && u.push(E);
            }),
            u
          );
        }
        function Ir(s, o, u, E, N) {
          var L = -1,
            J = s.length;
          for (u || (u = S6), N || (N = []); ++L < J; ) {
            var X = s[L];
            o > 0 && u(X)
              ? o > 1
                ? Ir(X, o - 1, u, E, N)
                : As(N, X)
              : E || (N[N.length] = X);
          }
          return N;
        }
        var yu = ep(),
          Pd = ep(!0);
        function wn(s, o) {
          return s && yu(s, o, mr);
        }
        function wu(s, o) {
          return s && Pd(s, o, mr);
        }
        function mh(s, o) {
          return _s(o, function (u) {
            return is(s[u]);
          });
        }
        function Zs(s, o) {
          o = Is(o, s);
          for (var u = 0, E = o.length; s != null && u < E; ) s = s[An(o[u++])];
          return u && u == E ? s : t;
        }
        function Cd(s, o, u) {
          var E = o(s);
          return gt(s) ? E : As(E, u(s));
        }
        function Hr(s) {
          return s == null
            ? s === t
              ? Te
              : we
            : Js && Js in Ht(s)
            ? y6(s)
            : N6(s);
        }
        function _u(s, o) {
          return s > o;
        }
        function q3(s, o) {
          return s != null && qt.call(s, o);
        }
        function U3(s, o) {
          return s != null && o in Ht(s);
        }
        function $3(s, o, u) {
          return s >= qr(o, u) && s < pr(o, u);
        }
        function Au(s, o, u) {
          for (
            var E = u ? nu : Zc,
              N = s[0].length,
              L = s.length,
              J = L,
              X = oe(L),
              ie = 1 / 0,
              ue = [];
            J--;

          ) {
            var le = s[J];
            J && o && (le = Xt(le, vi(o))),
              (ie = qr(le.length, ie)),
              (X[J] =
                !u && (o || (N >= 120 && le.length >= 120))
                  ? new Qs(J && le)
                  : t);
          }
          le = s[0];
          var ge = -1,
            De = X[0];
          e: for (; ++ge < N && ue.length < ie; ) {
            var We = le[ge],
              ot = o ? o(We) : We;
            if (
              ((We = u || We !== 0 ? We : 0), !(De ? Po(De, ot) : E(ue, ot, u)))
            ) {
              for (J = L; --J; ) {
                var wt = X[J];
                if (!(wt ? Po(wt, ot) : E(s[J], ot, u))) continue e;
              }
              De && De.push(ot), ue.push(We);
            }
          }
          return ue;
        }
        function z3(s, o, u, E) {
          return (
            wn(s, function (N, L, J) {
              o(E, u(N), L, J);
            }),
            E
          );
        }
        function Lo(s, o, u) {
          (o = Is(o, s)), (s = bp(s, o));
          var E = s == null ? s : s[An(Ti(o))];
          return E == null ? t : br(E, s, u);
        }
        function Od(s) {
          return tr(s) && Hr(s) == I;
        }
        function k3(s) {
          return tr(s) && Hr(s) == Se;
        }
        function j3(s) {
          return tr(s) && Hr(s) == K;
        }
        function qo(s, o, u, E, N) {
          return s === o
            ? !0
            : s == null || o == null || (!tr(s) && !tr(o))
            ? s !== s && o !== o
            : H3(s, o, u, E, qo, N);
        }
        function H3(s, o, u, E, N, L) {
          var J = gt(s),
            X = gt(o),
            ie = J ? ee : Ur(s),
            ue = X ? ee : Ur(o);
          (ie = ie == I ? Ne : ie), (ue = ue == I ? Ne : ue);
          var le = ie == Ne,
            ge = ue == Ne,
            De = ie == ue;
          if (De && Ps(s)) {
            if (!Ps(o)) return !1;
            (J = !0), (le = !1);
          }
          if (De && !le)
            return (
              L || (L = new tn()),
              J || ja(s) ? fp(s, o, u, E, N, L) : b6(s, o, ie, u, E, N, L)
            );
          if (!(u & O)) {
            var We = le && qt.call(s, "__wrapped__"),
              ot = ge && qt.call(o, "__wrapped__");
            if (We || ot) {
              var wt = We ? s.value() : s,
                ct = ot ? o.value() : o;
              return L || (L = new tn()), N(wt, ct, u, E, L);
            }
          }
          return De ? (L || (L = new tn()), m6(s, o, u, E, N, L)) : !1;
        }
        function K3(s) {
          return tr(s) && Ur(s) == fe;
        }
        function Eu(s, o, u, E) {
          var N = u.length,
            L = N,
            J = !E;
          if (s == null) return !L;
          for (s = Ht(s); N--; ) {
            var X = u[N];
            if (J && X[2] ? X[1] !== s[X[0]] : !(X[0] in s)) return !1;
          }
          for (; ++N < L; ) {
            X = u[N];
            var ie = X[0],
              ue = s[ie],
              le = X[1];
            if (J && X[2]) {
              if (ue === t && !(ie in s)) return !1;
            } else {
              var ge = new tn();
              if (E) var De = E(ue, le, ie, s, o, ge);
              if (!(De === t ? qo(le, ue, O | H, E, ge) : De)) return !1;
            }
          }
          return !0;
        }
        function Nd(s) {
          if (!Zt(s) || I6(s)) return !1;
          var o = is(s) ? Km : Fr;
          return o.test(ta(s));
        }
        function V3(s) {
          return tr(s) && Hr(s) == Re;
        }
        function G3(s) {
          return tr(s) && Ur(s) == Me;
        }
        function W3(s) {
          return tr(s) && Fh(s.length) && !!zt[Hr(s)];
        }
        function Rd(s) {
          return typeof s == "function"
            ? s
            : s == null
            ? oi
            : typeof s == "object"
            ? gt(s)
              ? Bd(s[0], s[1])
              : Fd(s)
            : t1(s);
        }
        function xu(s) {
          if (!zo(s)) return Qm(s);
          var o = [];
          for (var u in Ht(s)) qt.call(s, u) && u != "constructor" && o.push(u);
          return o;
        }
        function J3(s) {
          if (!Zt(s)) return O6(s);
          var o = zo(s),
            u = [];
          for (var E in s)
            (E == "constructor" && (o || !qt.call(s, E))) || u.push(E);
          return u;
        }
        function Su(s, o) {
          return s < o;
        }
        function Td(s, o) {
          var u = -1,
            E = si(s) ? oe(s.length) : [];
          return (
            Ss(s, function (N, L, J) {
              E[++u] = o(N, L, J);
            }),
            E
          );
        }
        function Fd(s) {
          var o = $u(s);
          return o.length == 1 && o[0][2]
            ? gp(o[0][0], o[0][1])
            : function (u) {
                return u === s || Eu(u, s, o);
              };
        }
        function Bd(s, o) {
          return ku(s) && pp(o)
            ? gp(An(s), o)
            : function (u) {
                var E = Xu(u, s);
                return E === t && E === o ? Zu(u, s) : qo(o, E, O | H);
              };
        }
        function yh(s, o, u, E, N) {
          s !== o &&
            yu(
              o,
              function (L, J) {
                if ((N || (N = new tn()), Zt(L))) Y3(s, o, J, u, yh, E, N);
                else {
                  var X = E ? E(Hu(s, J), L, J + "", s, o, N) : t;
                  X === t && (X = L), bu(s, J, X);
                }
              },
              ai
            );
        }
        function Y3(s, o, u, E, N, L, J) {
          var X = Hu(s, u),
            ie = Hu(o, u),
            ue = J.get(ie);
          if (ue) {
            bu(s, u, ue);
            return;
          }
          var le = L ? L(X, ie, u + "", s, o, J) : t,
            ge = le === t;
          if (ge) {
            var De = gt(ie),
              We = !De && Ps(ie),
              ot = !De && !We && ja(ie);
            (le = ie),
              De || We || ot
                ? gt(X)
                  ? (le = X)
                  : ar(X)
                  ? (le = ni(X))
                  : We
                  ? ((ge = !1), (le = Wd(ie, !0)))
                  : ot
                  ? ((ge = !1), (le = Jd(ie, !0)))
                  : (le = [])
                : jo(ie) || ra(ie)
                ? ((le = X),
                  ra(X) ? (le = Kp(X)) : (!Zt(X) || is(X)) && (le = dp(ie)))
                : (ge = !1);
          }
          ge && (J.set(ie, le), N(le, ie, E, L, J), J.delete(ie)), bu(s, u, le);
        }
        function Ld(s, o) {
          var u = s.length;
          if (u) return (o += o < 0 ? u : 0), rs(o, u) ? s[o] : t;
        }
        function qd(s, o, u) {
          o.length
            ? (o = Xt(o, function (L) {
                return gt(L)
                  ? function (J) {
                      return Zs(J, L.length === 1 ? L[0] : L);
                    }
                  : L;
              }))
            : (o = [oi]);
          var E = -1;
          o = Xt(o, vi(nt()));
          var N = Td(s, function (L, J, X) {
            var ie = Xt(o, function (ue) {
              return ue(L);
            });
            return { criteria: ie, index: ++E, value: L };
          });
          return Em(N, function (L, J) {
            return h6(L, J, u);
          });
        }
        function Q3(s, o) {
          return Ud(s, o, function (u, E) {
            return Zu(s, E);
          });
        }
        function Ud(s, o, u) {
          for (var E = -1, N = o.length, L = {}; ++E < N; ) {
            var J = o[E],
              X = Zs(s, J);
            u(X, J) && Uo(L, Is(J, s), X);
          }
          return L;
        }
        function X3(s) {
          return function (o) {
            return Zs(o, s);
          };
        }
        function Mu(s, o, u, E) {
          var N = E ? Am : Na,
            L = -1,
            J = o.length,
            X = s;
          for (s === o && (o = ni(o)), u && (X = Xt(s, vi(u))); ++L < J; )
            for (
              var ie = 0, ue = o[L], le = u ? u(ue) : ue;
              (ie = N(X, le, ie, E)) > -1;

            )
              X !== s && hh.call(X, ie, 1), hh.call(s, ie, 1);
          return s;
        }
        function $d(s, o) {
          for (var u = s ? o.length : 0, E = u - 1; u--; ) {
            var N = o[u];
            if (u == E || N !== L) {
              var L = N;
              rs(N) ? hh.call(s, N, 1) : Cu(s, N);
            }
          }
          return s;
        }
        function Iu(s, o) {
          return s + lh(wd() * (o - s + 1));
        }
        function Z3(s, o, u, E) {
          for (var N = -1, L = pr(uh((o - s) / (u || 1)), 0), J = oe(L); L--; )
            (J[E ? L : ++N] = s), (s += u);
          return J;
        }
        function Du(s, o) {
          var u = "";
          if (!s || o < 1 || o > D) return u;
          do o % 2 && (u += s), (o = lh(o / 2)), o && (s += s);
          while (o);
          return u;
        }
        function At(s, o) {
          return Ku(vp(s, o, oi), s + "");
        }
        function e6(s) {
          return Ed(Ha(s));
        }
        function t6(s, o) {
          var u = Ha(s);
          return Ph(u, Xs(o, 0, u.length));
        }
        function Uo(s, o, u, E) {
          if (!Zt(s)) return s;
          o = Is(o, s);
          for (
            var N = -1, L = o.length, J = L - 1, X = s;
            X != null && ++N < L;

          ) {
            var ie = An(o[N]),
              ue = u;
            if (
              ie === "__proto__" ||
              ie === "constructor" ||
              ie === "prototype"
            )
              return s;
            if (N != J) {
              var le = X[ie];
              (ue = E ? E(le, ie, X) : t),
                ue === t && (ue = Zt(le) ? le : rs(o[N + 1]) ? [] : {});
            }
            Fo(X, ie, ue), (X = X[ie]);
          }
          return s;
        }
        var zd = dh
            ? function (s, o) {
                return dh.set(s, o), s;
              }
            : oi,
          r6 = fh
            ? function (s, o) {
                return fh(s, "toString", {
                  configurable: !0,
                  enumerable: !1,
                  value: tl(o),
                  writable: !0,
                });
              }
            : oi;
        function i6(s) {
          return Ph(Ha(s));
        }
        function Ri(s, o, u) {
          var E = -1,
            N = s.length;
          o < 0 && (o = -o > N ? 0 : N + o),
            (u = u > N ? N : u),
            u < 0 && (u += N),
            (N = o > u ? 0 : (u - o) >>> 0),
            (o >>>= 0);
          for (var L = oe(N); ++E < N; ) L[E] = s[E + o];
          return L;
        }
        function n6(s, o) {
          var u;
          return (
            Ss(s, function (E, N, L) {
              return (u = o(E, N, L)), !u;
            }),
            !!u
          );
        }
        function wh(s, o, u) {
          var E = 0,
            N = s == null ? E : s.length;
          if (typeof o == "number" && o === o && N <= Z) {
            for (; E < N; ) {
              var L = (E + N) >>> 1,
                J = s[L];
              J !== null && !mi(J) && (u ? J <= o : J < o)
                ? (E = L + 1)
                : (N = L);
            }
            return N;
          }
          return Pu(s, o, oi, u);
        }
        function Pu(s, o, u, E) {
          var N = 0,
            L = s == null ? 0 : s.length;
          if (L === 0) return 0;
          o = u(o);
          for (
            var J = o !== o, X = o === null, ie = mi(o), ue = o === t;
            N < L;

          ) {
            var le = lh((N + L) / 2),
              ge = u(s[le]),
              De = ge !== t,
              We = ge === null,
              ot = ge === ge,
              wt = mi(ge);
            if (J) var ct = E || ot;
            else
              ue
                ? (ct = ot && (E || De))
                : X
                ? (ct = ot && De && (E || !We))
                : ie
                ? (ct = ot && De && !We && (E || !wt))
                : We || wt
                ? (ct = !1)
                : (ct = E ? ge <= o : ge < o);
            ct ? (N = le + 1) : (L = le);
          }
          return qr(L, R);
        }
        function kd(s, o) {
          for (var u = -1, E = s.length, N = 0, L = []; ++u < E; ) {
            var J = s[u],
              X = o ? o(J) : J;
            if (!u || !rn(X, ie)) {
              var ie = X;
              L[N++] = J === 0 ? 0 : J;
            }
          }
          return L;
        }
        function jd(s) {
          return typeof s == "number" ? s : mi(s) ? d : +s;
        }
        function bi(s) {
          if (typeof s == "string") return s;
          if (gt(s)) return Xt(s, bi) + "";
          if (mi(s)) return _d ? _d.call(s) : "";
          var o = s + "";
          return o == "0" && 1 / s == -M ? "-0" : o;
        }
        function Ms(s, o, u) {
          var E = -1,
            N = Zc,
            L = s.length,
            J = !0,
            X = [],
            ie = X;
          if (u) (J = !1), (N = nu);
          else if (L >= n) {
            var ue = o ? null : g6(s);
            if (ue) return th(ue);
            (J = !1), (N = Po), (ie = new Qs());
          } else ie = o ? [] : X;
          e: for (; ++E < L; ) {
            var le = s[E],
              ge = o ? o(le) : le;
            if (((le = u || le !== 0 ? le : 0), J && ge === ge)) {
              for (var De = ie.length; De--; ) if (ie[De] === ge) continue e;
              o && ie.push(ge), X.push(le);
            } else N(ie, ge, u) || (ie !== X && ie.push(ge), X.push(le));
          }
          return X;
        }
        function Cu(s, o) {
          return (
            (o = Is(o, s)), (s = bp(s, o)), s == null || delete s[An(Ti(o))]
          );
        }
        function Hd(s, o, u, E) {
          return Uo(s, o, u(Zs(s, o)), E);
        }
        function _h(s, o, u, E) {
          for (
            var N = s.length, L = E ? N : -1;
            (E ? L-- : ++L < N) && o(s[L], L, s);

          );
          return u
            ? Ri(s, E ? 0 : L, E ? L + 1 : N)
            : Ri(s, E ? L + 1 : 0, E ? N : L);
        }
        function Kd(s, o) {
          var u = s;
          return (
            u instanceof It && (u = u.value()),
            su(
              o,
              function (E, N) {
                return N.func.apply(N.thisArg, As([E], N.args));
              },
              u
            )
          );
        }
        function Ou(s, o, u) {
          var E = s.length;
          if (E < 2) return E ? Ms(s[0]) : [];
          for (var N = -1, L = oe(E); ++N < E; )
            for (var J = s[N], X = -1; ++X < E; )
              X != N && (L[N] = Bo(L[N] || J, s[X], o, u));
          return Ms(Ir(L, 1), o, u);
        }
        function Vd(s, o, u) {
          for (var E = -1, N = s.length, L = o.length, J = {}; ++E < N; ) {
            var X = E < L ? o[E] : t;
            u(J, s[E], X);
          }
          return J;
        }
        function Nu(s) {
          return ar(s) ? s : [];
        }
        function Ru(s) {
          return typeof s == "function" ? s : oi;
        }
        function Is(s, o) {
          return gt(s) ? s : ku(s, o) ? [s] : _p(Bt(s));
        }
        var s6 = At;
        function Ds(s, o, u) {
          var E = s.length;
          return (u = u === t ? E : u), !o && u >= E ? s : Ri(s, o, u);
        }
        var Gd =
          Vm ||
          function (s) {
            return Ot.clearTimeout(s);
          };
        function Wd(s, o) {
          if (o) return s.slice();
          var u = s.length,
            E = gd ? gd(u) : new s.constructor(u);
          return s.copy(E), E;
        }
        function Tu(s) {
          var o = new s.constructor(s.byteLength);
          return new oh(o).set(new oh(s)), o;
        }
        function a6(s, o) {
          var u = o ? Tu(s.buffer) : s.buffer;
          return new s.constructor(u, s.byteOffset, s.byteLength);
        }
        function o6(s) {
          var o = new s.constructor(s.source, bt.exec(s));
          return (o.lastIndex = s.lastIndex), o;
        }
        function c6(s) {
          return To ? Ht(To.call(s)) : {};
        }
        function Jd(s, o) {
          var u = o ? Tu(s.buffer) : s.buffer;
          return new s.constructor(u, s.byteOffset, s.length);
        }
        function Yd(s, o) {
          if (s !== o) {
            var u = s !== t,
              E = s === null,
              N = s === s,
              L = mi(s),
              J = o !== t,
              X = o === null,
              ie = o === o,
              ue = mi(o);
            if (
              (!X && !ue && !L && s > o) ||
              (L && J && ie && !X && !ue) ||
              (E && J && ie) ||
              (!u && ie) ||
              !N
            )
              return 1;
            if (
              (!E && !L && !ue && s < o) ||
              (ue && u && N && !E && !L) ||
              (X && u && N) ||
              (!J && N) ||
              !ie
            )
              return -1;
          }
          return 0;
        }
        function h6(s, o, u) {
          for (
            var E = -1,
              N = s.criteria,
              L = o.criteria,
              J = N.length,
              X = u.length;
            ++E < J;

          ) {
            var ie = Yd(N[E], L[E]);
            if (ie) {
              if (E >= X) return ie;
              var ue = u[E];
              return ie * (ue == "desc" ? -1 : 1);
            }
          }
          return s.index - o.index;
        }
        function Qd(s, o, u, E) {
          for (
            var N = -1,
              L = s.length,
              J = u.length,
              X = -1,
              ie = o.length,
              ue = pr(L - J, 0),
              le = oe(ie + ue),
              ge = !E;
            ++X < ie;

          )
            le[X] = o[X];
          for (; ++N < J; ) (ge || N < L) && (le[u[N]] = s[N]);
          for (; ue--; ) le[X++] = s[N++];
          return le;
        }
        function Xd(s, o, u, E) {
          for (
            var N = -1,
              L = s.length,
              J = -1,
              X = u.length,
              ie = -1,
              ue = o.length,
              le = pr(L - X, 0),
              ge = oe(le + ue),
              De = !E;
            ++N < le;

          )
            ge[N] = s[N];
          for (var We = N; ++ie < ue; ) ge[We + ie] = o[ie];
          for (; ++J < X; ) (De || N < L) && (ge[We + u[J]] = s[N++]);
          return ge;
        }
        function ni(s, o) {
          var u = -1,
            E = s.length;
          for (o || (o = oe(E)); ++u < E; ) o[u] = s[u];
          return o;
        }
        function _n(s, o, u, E) {
          var N = !u;
          u || (u = {});
          for (var L = -1, J = o.length; ++L < J; ) {
            var X = o[L],
              ie = E ? E(u[X], s[X], X, u, s) : t;
            ie === t && (ie = s[X]), N ? Zn(u, X, ie) : Fo(u, X, ie);
          }
          return u;
        }
        function f6(s, o) {
          return _n(s, zu(s), o);
        }
        function u6(s, o) {
          return _n(s, up(s), o);
        }
        function Ah(s, o) {
          return function (u, E) {
            var N = gt(u) ? vm : R3,
              L = o ? o() : {};
            return N(u, s, nt(E, 2), L);
          };
        }
        function $a(s) {
          return At(function (o, u) {
            var E = -1,
              N = u.length,
              L = N > 1 ? u[N - 1] : t,
              J = N > 2 ? u[2] : t;
            for (
              L = s.length > 3 && typeof L == "function" ? (N--, L) : t,
                J && Kr(u[0], u[1], J) && ((L = N < 3 ? t : L), (N = 1)),
                o = Ht(o);
              ++E < N;

            ) {
              var X = u[E];
              X && s(o, X, E, L);
            }
            return o;
          });
        }
        function Zd(s, o) {
          return function (u, E) {
            if (u == null) return u;
            if (!si(u)) return s(u, E);
            for (
              var N = u.length, L = o ? N : -1, J = Ht(u);
              (o ? L-- : ++L < N) && E(J[L], L, J) !== !1;

            );
            return u;
          };
        }
        function ep(s) {
          return function (o, u, E) {
            for (var N = -1, L = Ht(o), J = E(o), X = J.length; X--; ) {
              var ie = J[s ? X : ++N];
              if (u(L[ie], ie, L) === !1) break;
            }
            return o;
          };
        }
        function l6(s, o, u) {
          var E = o & G,
            N = $o(s);
          function L() {
            var J = this && this !== Ot && this instanceof L ? N : s;
            return J.apply(E ? u : this, arguments);
          }
          return L;
        }
        function tp(s) {
          return function (o) {
            o = Bt(o);
            var u = Ra(o) ? en(o) : t,
              E = u ? u[0] : o.charAt(0),
              N = u ? Ds(u, 1).join("") : o.slice(1);
            return E[s]() + N;
          };
        }
        function za(s) {
          return function (o) {
            return su(Zp(Xp(o).replace(Io, "")), s, "");
          };
        }
        function $o(s) {
          return function () {
            var o = arguments;
            switch (o.length) {
              case 0:
                return new s();
              case 1:
                return new s(o[0]);
              case 2:
                return new s(o[0], o[1]);
              case 3:
                return new s(o[0], o[1], o[2]);
              case 4:
                return new s(o[0], o[1], o[2], o[3]);
              case 5:
                return new s(o[0], o[1], o[2], o[3], o[4]);
              case 6:
                return new s(o[0], o[1], o[2], o[3], o[4], o[5]);
              case 7:
                return new s(o[0], o[1], o[2], o[3], o[4], o[5], o[6]);
            }
            var u = Ua(s.prototype),
              E = s.apply(u, o);
            return Zt(E) ? E : u;
          };
        }
        function d6(s, o, u) {
          var E = $o(s);
          function N() {
            for (var L = arguments.length, J = oe(L), X = L, ie = ka(N); X--; )
              J[X] = arguments[X];
            var ue = L < 3 && J[0] !== ie && J[L - 1] !== ie ? [] : Es(J, ie);
            if (((L -= ue.length), L < u))
              return ap(s, o, Eh, N.placeholder, t, J, ue, t, t, u - L);
            var le = this && this !== Ot && this instanceof N ? E : s;
            return br(le, this, J);
          }
          return N;
        }
        function rp(s) {
          return function (o, u, E) {
            var N = Ht(o);
            if (!si(o)) {
              var L = nt(u, 3);
              (o = mr(o)),
                (u = function (X) {
                  return L(N[X], X, N);
                });
            }
            var J = s(o, u, E);
            return J > -1 ? N[L ? o[J] : J] : t;
          };
        }
        function ip(s) {
          return ts(function (o) {
            var u = o.length,
              E = u,
              N = Oi.prototype.thru;
            for (s && o.reverse(); E--; ) {
              var L = o[E];
              if (typeof L != "function") throw new Ci(h);
              if (N && !J && Ih(L) == "wrapper") var J = new Oi([], !0);
            }
            for (E = J ? E : u; ++E < u; ) {
              L = o[E];
              var X = Ih(L),
                ie = X == "wrapper" ? Uu(L) : t;
              ie &&
              ju(ie[0]) &&
              ie[1] == (A | Y | k | F) &&
              !ie[4].length &&
              ie[9] == 1
                ? (J = J[Ih(ie[0])].apply(J, ie[3]))
                : (J = L.length == 1 && ju(L) ? J[X]() : J.thru(L));
            }
            return function () {
              var ue = arguments,
                le = ue[0];
              if (J && ue.length == 1 && gt(le)) return J.plant(le).value();
              for (var ge = 0, De = u ? o[ge].apply(this, ue) : le; ++ge < u; )
                De = o[ge].call(this, De);
              return De;
            };
          });
        }
        function Eh(s, o, u, E, N, L, J, X, ie, ue) {
          var le = o & A,
            ge = o & G,
            De = o & Q,
            We = o & (Y | q),
            ot = o & ae,
            wt = De ? t : $o(s);
          function ct() {
            for (var xt = arguments.length, Nt = oe(xt), yi = xt; yi--; )
              Nt[yi] = arguments[yi];
            if (We)
              var Vr = ka(ct),
                wi = Sm(Nt, Vr);
            if (
              (E && (Nt = Qd(Nt, E, N, We)),
              L && (Nt = Xd(Nt, L, J, We)),
              (xt -= wi),
              We && xt < ue)
            ) {
              var or = Es(Nt, Vr);
              return ap(s, o, Eh, ct.placeholder, u, Nt, or, X, ie, ue - xt);
            }
            var nn = ge ? u : this,
              ss = De ? nn[s] : s;
            return (
              (xt = Nt.length),
              X ? (Nt = R6(Nt, X)) : ot && xt > 1 && Nt.reverse(),
              le && ie < xt && (Nt.length = ie),
              this && this !== Ot && this instanceof ct && (ss = wt || $o(ss)),
              ss.apply(nn, Nt)
            );
          }
          return ct;
        }
        function np(s, o) {
          return function (u, E) {
            return z3(u, s, o(E), {});
          };
        }
        function xh(s, o) {
          return function (u, E) {
            var N;
            if (u === t && E === t) return o;
            if ((u !== t && (N = u), E !== t)) {
              if (N === t) return E;
              typeof u == "string" || typeof E == "string"
                ? ((u = bi(u)), (E = bi(E)))
                : ((u = jd(u)), (E = jd(E))),
                (N = s(u, E));
            }
            return N;
          };
        }
        function Fu(s) {
          return ts(function (o) {
            return (
              (o = Xt(o, vi(nt()))),
              At(function (u) {
                var E = this;
                return s(o, function (N) {
                  return br(N, E, u);
                });
              })
            );
          });
        }
        function Sh(s, o) {
          o = o === t ? " " : bi(o);
          var u = o.length;
          if (u < 2) return u ? Du(o, s) : o;
          var E = Du(o, uh(s / Ta(o)));
          return Ra(o) ? Ds(en(E), 0, s).join("") : E.slice(0, s);
        }
        function p6(s, o, u, E) {
          var N = o & G,
            L = $o(s);
          function J() {
            for (
              var X = -1,
                ie = arguments.length,
                ue = -1,
                le = E.length,
                ge = oe(le + ie),
                De = this && this !== Ot && this instanceof J ? L : s;
              ++ue < le;

            )
              ge[ue] = E[ue];
            for (; ie--; ) ge[ue++] = arguments[++X];
            return br(De, N ? u : this, ge);
          }
          return J;
        }
        function sp(s) {
          return function (o, u, E) {
            return (
              E && typeof E != "number" && Kr(o, u, E) && (u = E = t),
              (o = ns(o)),
              u === t ? ((u = o), (o = 0)) : (u = ns(u)),
              (E = E === t ? (o < u ? 1 : -1) : ns(E)),
              Z3(o, u, E, s)
            );
          };
        }
        function Mh(s) {
          return function (o, u) {
            return (
              (typeof o == "string" && typeof u == "string") ||
                ((o = Fi(o)), (u = Fi(u))),
              s(o, u)
            );
          };
        }
        function ap(s, o, u, E, N, L, J, X, ie, ue) {
          var le = o & Y,
            ge = le ? J : t,
            De = le ? t : J,
            We = le ? L : t,
            ot = le ? t : L;
          (o |= le ? k : V), (o &= ~(le ? V : k)), o & z || (o &= ~(G | Q));
          var wt = [s, o, N, We, ge, ot, De, X, ie, ue],
            ct = u.apply(t, wt);
          return ju(s) && mp(ct, wt), (ct.placeholder = E), yp(ct, s, o);
        }
        function Bu(s) {
          var o = dr[s];
          return function (u, E) {
            if (
              ((u = Fi(u)), (E = E == null ? 0 : qr(yt(E), 292)), E && yd(u))
            ) {
              var N = (Bt(u) + "e").split("e"),
                L = o(N[0] + "e" + (+N[1] + E));
              return (
                (N = (Bt(L) + "e").split("e")), +(N[0] + "e" + (+N[1] - E))
              );
            }
            return o(u);
          };
        }
        var g6 =
          La && 1 / th(new La([, -0]))[1] == M
            ? function (s) {
                return new La(s);
              }
            : nl;
        function op(s) {
          return function (o) {
            var u = Ur(o);
            return u == fe ? lu(o) : u == Me ? Nm(o) : xm(o, s(o));
          };
        }
        function es(s, o, u, E, N, L, J, X) {
          var ie = o & Q;
          if (!ie && typeof s != "function") throw new Ci(h);
          var ue = E ? E.length : 0;
          if (
            (ue || ((o &= ~(k | V)), (E = N = t)),
            (J = J === t ? J : pr(yt(J), 0)),
            (X = X === t ? X : yt(X)),
            (ue -= N ? N.length : 0),
            o & V)
          ) {
            var le = E,
              ge = N;
            E = N = t;
          }
          var De = ie ? t : Uu(s),
            We = [s, o, u, E, N, le, ge, L, J, X];
          if (
            (De && C6(We, De),
            (s = We[0]),
            (o = We[1]),
            (u = We[2]),
            (E = We[3]),
            (N = We[4]),
            (X = We[9] = We[9] === t ? (ie ? 0 : s.length) : pr(We[9] - ue, 0)),
            !X && o & (Y | q) && (o &= ~(Y | q)),
            !o || o == G)
          )
            var ot = l6(s, o, u);
          else
            o == Y || o == q
              ? (ot = d6(s, o, X))
              : (o == k || o == (G | k)) && !N.length
              ? (ot = p6(s, o, u, E))
              : (ot = Eh.apply(t, We));
          var wt = De ? zd : mp;
          return yp(wt(ot, We), s, o);
        }
        function cp(s, o, u, E) {
          return s === t || (rn(s, Ba[u]) && !qt.call(E, u)) ? o : s;
        }
        function hp(s, o, u, E, N, L) {
          return (
            Zt(s) && Zt(o) && (L.set(o, s), yh(s, o, t, hp, L), L.delete(o)), s
          );
        }
        function v6(s) {
          return jo(s) ? t : s;
        }
        function fp(s, o, u, E, N, L) {
          var J = u & O,
            X = s.length,
            ie = o.length;
          if (X != ie && !(J && ie > X)) return !1;
          var ue = L.get(s),
            le = L.get(o);
          if (ue && le) return ue == o && le == s;
          var ge = -1,
            De = !0,
            We = u & H ? new Qs() : t;
          for (L.set(s, o), L.set(o, s); ++ge < X; ) {
            var ot = s[ge],
              wt = o[ge];
            if (E) var ct = J ? E(wt, ot, ge, o, s, L) : E(ot, wt, ge, s, o, L);
            if (ct !== t) {
              if (ct) continue;
              De = !1;
              break;
            }
            if (We) {
              if (
                !au(o, function (xt, Nt) {
                  if (!Po(We, Nt) && (ot === xt || N(ot, xt, u, E, L)))
                    return We.push(Nt);
                })
              ) {
                De = !1;
                break;
              }
            } else if (!(ot === wt || N(ot, wt, u, E, L))) {
              De = !1;
              break;
            }
          }
          return L.delete(s), L.delete(o), De;
        }
        function b6(s, o, u, E, N, L, J) {
          switch (u) {
            case be:
              if (s.byteLength != o.byteLength || s.byteOffset != o.byteOffset)
                return !1;
              (s = s.buffer), (o = o.buffer);
            case Se:
              return !(
                s.byteLength != o.byteLength || !L(new oh(s), new oh(o))
              );
            case j:
            case K:
            case ye:
              return rn(+s, +o);
            case $:
              return s.name == o.name && s.message == o.message;
            case Re:
            case me:
              return s == o + "";
            case fe:
              var X = lu;
            case Me:
              var ie = E & O;
              if ((X || (X = th), s.size != o.size && !ie)) return !1;
              var ue = J.get(s);
              if (ue) return ue == o;
              (E |= H), J.set(s, o);
              var le = fp(X(s), X(o), E, N, L, J);
              return J.delete(s), le;
            case Ce:
              if (To) return To.call(s) == To.call(o);
          }
          return !1;
        }
        function m6(s, o, u, E, N, L) {
          var J = u & O,
            X = Lu(s),
            ie = X.length,
            ue = Lu(o),
            le = ue.length;
          if (ie != le && !J) return !1;
          for (var ge = ie; ge--; ) {
            var De = X[ge];
            if (!(J ? De in o : qt.call(o, De))) return !1;
          }
          var We = L.get(s),
            ot = L.get(o);
          if (We && ot) return We == o && ot == s;
          var wt = !0;
          L.set(s, o), L.set(o, s);
          for (var ct = J; ++ge < ie; ) {
            De = X[ge];
            var xt = s[De],
              Nt = o[De];
            if (E) var yi = J ? E(Nt, xt, De, o, s, L) : E(xt, Nt, De, s, o, L);
            if (!(yi === t ? xt === Nt || N(xt, Nt, u, E, L) : yi)) {
              wt = !1;
              break;
            }
            ct || (ct = De == "constructor");
          }
          if (wt && !ct) {
            var Vr = s.constructor,
              wi = o.constructor;
            Vr != wi &&
              "constructor" in s &&
              "constructor" in o &&
              !(
                typeof Vr == "function" &&
                Vr instanceof Vr &&
                typeof wi == "function" &&
                wi instanceof wi
              ) &&
              (wt = !1);
          }
          return L.delete(s), L.delete(o), wt;
        }
        function ts(s) {
          return Ku(vp(s, t, Sp), s + "");
        }
        function Lu(s) {
          return Cd(s, mr, zu);
        }
        function qu(s) {
          return Cd(s, ai, up);
        }
        var Uu = dh
          ? function (s) {
              return dh.get(s);
            }
          : nl;
        function Ih(s) {
          for (
            var o = s.name + "", u = qa[o], E = qt.call(qa, o) ? u.length : 0;
            E--;

          ) {
            var N = u[E],
              L = N.func;
            if (L == null || L == s) return N.name;
          }
          return o;
        }
        function ka(s) {
          var o = qt.call(T, "placeholder") ? T : s;
          return o.placeholder;
        }
        function nt() {
          var s = T.iteratee || rl;
          return (
            (s = s === rl ? Rd : s),
            arguments.length ? s(arguments[0], arguments[1]) : s
          );
        }
        function Dh(s, o) {
          var u = s.__data__;
          return M6(o) ? u[typeof o == "string" ? "string" : "hash"] : u.map;
        }
        function $u(s) {
          for (var o = mr(s), u = o.length; u--; ) {
            var E = o[u],
              N = s[E];
            o[u] = [E, N, pp(N)];
          }
          return o;
        }
        function ea(s, o) {
          var u = Pm(s, o);
          return Nd(u) ? u : t;
        }
        function y6(s) {
          var o = qt.call(s, Js),
            u = s[Js];
          try {
            s[Js] = t;
            var E = !0;
          } catch {}
          var N = sh.call(s);
          return E && (o ? (s[Js] = u) : delete s[Js]), N;
        }
        var zu = pu
            ? function (s) {
                return s == null
                  ? []
                  : ((s = Ht(s)),
                    _s(pu(s), function (o) {
                      return bd.call(s, o);
                    }));
              }
            : sl,
          up = pu
            ? function (s) {
                for (var o = []; s; ) As(o, zu(s)), (s = ch(s));
                return o;
              }
            : sl,
          Ur = Hr;
        ((gu && Ur(new gu(new ArrayBuffer(1))) != be) ||
          (Oo && Ur(new Oo()) != fe) ||
          (vu && Ur(vu.resolve()) != Qe) ||
          (La && Ur(new La()) != Me) ||
          (No && Ur(new No()) != ve)) &&
          (Ur = function (s) {
            var o = Hr(s),
              u = o == Ne ? s.constructor : t,
              E = u ? ta(u) : "";
            if (E)
              switch (E) {
                case t3:
                  return be;
                case r3:
                  return fe;
                case i3:
                  return Qe;
                case n3:
                  return Me;
                case s3:
                  return ve;
              }
            return o;
          });
        function w6(s, o, u) {
          for (var E = -1, N = u.length; ++E < N; ) {
            var L = u[E],
              J = L.size;
            switch (L.type) {
              case "drop":
                s += J;
                break;
              case "dropRight":
                o -= J;
                break;
              case "take":
                o = qr(o, s + J);
                break;
              case "takeRight":
                s = pr(s, o - J);
                break;
            }
          }
          return { start: s, end: o };
        }
        function _6(s) {
          var o = s.match(Ye);
          return o ? o[1].split(ft) : [];
        }
        function lp(s, o, u) {
          o = Is(o, s);
          for (var E = -1, N = o.length, L = !1; ++E < N; ) {
            var J = An(o[E]);
            if (!(L = s != null && u(s, J))) break;
            s = s[J];
          }
          return L || ++E != N
            ? L
            : ((N = s == null ? 0 : s.length),
              !!N && Fh(N) && rs(J, N) && (gt(s) || ra(s)));
        }
        function A6(s) {
          var o = s.length,
            u = new s.constructor(o);
          return (
            o &&
              typeof s[0] == "string" &&
              qt.call(s, "index") &&
              ((u.index = s.index), (u.input = s.input)),
            u
          );
        }
        function dp(s) {
          return typeof s.constructor == "function" && !zo(s) ? Ua(ch(s)) : {};
        }
        function E6(s, o, u) {
          var E = s.constructor;
          switch (o) {
            case Se:
              return Tu(s);
            case j:
            case K:
              return new E(+s);
            case be:
              return a6(s, u);
            case qe:
            case Ie:
            case _e:
            case He:
            case Ve:
            case Ee:
            case Ke:
            case ut:
            case Ge:
              return Jd(s, u);
            case fe:
              return new E();
            case ye:
            case me:
              return new E(s);
            case Re:
              return o6(s);
            case Me:
              return new E();
            case Ce:
              return c6(s);
          }
        }
        function x6(s, o) {
          var u = o.length;
          if (!u) return s;
          var E = u - 1;
          return (
            (o[E] = (u > 1 ? "& " : "") + o[E]),
            (o = o.join(u > 2 ? ", " : " ")),
            s.replace(
              Le,
              `{
/* [wrapped with ` +
                o +
                `] */
`
            )
          );
        }
        function S6(s) {
          return gt(s) || ra(s) || !!(md && s && s[md]);
        }
        function rs(s, o) {
          var u = typeof s;
          return (
            (o = o ?? D),
            !!o &&
              (u == "number" || (u != "symbol" && Lr.test(s))) &&
              s > -1 &&
              s % 1 == 0 &&
              s < o
          );
        }
        function Kr(s, o, u) {
          if (!Zt(u)) return !1;
          var E = typeof o;
          return (
            E == "number" ? si(u) && rs(o, u.length) : E == "string" && o in u
          )
            ? rn(u[o], s)
            : !1;
        }
        function ku(s, o) {
          if (gt(s)) return !1;
          var u = typeof s;
          return u == "number" ||
            u == "symbol" ||
            u == "boolean" ||
            s == null ||
            mi(s)
            ? !0
            : $e.test(s) || !Ze.test(s) || (o != null && s in Ht(o));
        }
        function M6(s) {
          var o = typeof s;
          return o == "string" ||
            o == "number" ||
            o == "symbol" ||
            o == "boolean"
            ? s !== "__proto__"
            : s === null;
        }
        function ju(s) {
          var o = Ih(s),
            u = T[o];
          if (typeof u != "function" || !(o in It.prototype)) return !1;
          if (s === u) return !0;
          var E = Uu(u);
          return !!E && s === E[0];
        }
        function I6(s) {
          return !!pd && pd in s;
        }
        var D6 = ih ? is : al;
        function zo(s) {
          var o = s && s.constructor,
            u = (typeof o == "function" && o.prototype) || Ba;
          return s === u;
        }
        function pp(s) {
          return s === s && !Zt(s);
        }
        function gp(s, o) {
          return function (u) {
            return u == null ? !1 : u[s] === o && (o !== t || s in Ht(u));
          };
        }
        function P6(s) {
          var o = Rh(s, function (E) {
              return u.size === g && u.clear(), E;
            }),
            u = o.cache;
          return o;
        }
        function C6(s, o) {
          var u = s[1],
            E = o[1],
            N = u | E,
            L = N < (G | Q | A),
            J =
              (E == A && u == Y) ||
              (E == A && u == F && s[7].length <= o[8]) ||
              (E == (A | F) && o[7].length <= o[8] && u == Y);
          if (!(L || J)) return s;
          E & G && ((s[2] = o[2]), (N |= u & G ? 0 : z));
          var X = o[3];
          if (X) {
            var ie = s[3];
            (s[3] = ie ? Qd(ie, X, o[4]) : X), (s[4] = ie ? Es(s[3], y) : o[4]);
          }
          return (
            (X = o[5]),
            X &&
              ((ie = s[5]),
              (s[5] = ie ? Xd(ie, X, o[6]) : X),
              (s[6] = ie ? Es(s[5], y) : o[6])),
            (X = o[7]),
            X && (s[7] = X),
            E & A && (s[8] = s[8] == null ? o[8] : qr(s[8], o[8])),
            s[9] == null && (s[9] = o[9]),
            (s[0] = o[0]),
            (s[1] = N),
            s
          );
        }
        function O6(s) {
          var o = [];
          if (s != null) for (var u in Ht(s)) o.push(u);
          return o;
        }
        function N6(s) {
          return sh.call(s);
        }
        function vp(s, o, u) {
          return (
            (o = pr(o === t ? s.length - 1 : o, 0)),
            function () {
              for (
                var E = arguments, N = -1, L = pr(E.length - o, 0), J = oe(L);
                ++N < L;

              )
                J[N] = E[o + N];
              N = -1;
              for (var X = oe(o + 1); ++N < o; ) X[N] = E[N];
              return (X[o] = u(J)), br(s, this, X);
            }
          );
        }
        function bp(s, o) {
          return o.length < 2 ? s : Zs(s, Ri(o, 0, -1));
        }
        function R6(s, o) {
          for (var u = s.length, E = qr(o.length, u), N = ni(s); E--; ) {
            var L = o[E];
            s[E] = rs(L, u) ? N[L] : t;
          }
          return s;
        }
        function Hu(s, o) {
          if (
            !(o === "constructor" && typeof s[o] == "function") &&
            o != "__proto__"
          )
            return s[o];
        }
        var mp = wp(zd),
          ko =
            Wm ||
            function (s, o) {
              return Ot.setTimeout(s, o);
            },
          Ku = wp(r6);
        function yp(s, o, u) {
          var E = o + "";
          return Ku(s, x6(E, T6(_6(E), u)));
        }
        function wp(s) {
          var o = 0,
            u = 0;
          return function () {
            var E = Xm(),
              N = c - (E - u);
            if (((u = E), N > 0)) {
              if (++o >= m) return arguments[0];
            } else o = 0;
            return s.apply(t, arguments);
          };
        }
        function Ph(s, o) {
          var u = -1,
            E = s.length,
            N = E - 1;
          for (o = o === t ? E : o; ++u < o; ) {
            var L = Iu(u, N),
              J = s[L];
            (s[L] = s[u]), (s[u] = J);
          }
          return (s.length = o), s;
        }
        var _p = P6(function (s) {
          var o = [];
          return (
            s.charCodeAt(0) === 46 && o.push(""),
            s.replace(ht, function (u, E, N, L) {
              o.push(N ? L.replace(Tt, "$1") : E || u);
            }),
            o
          );
        });
        function An(s) {
          if (typeof s == "string" || mi(s)) return s;
          var o = s + "";
          return o == "0" && 1 / s == -M ? "-0" : o;
        }
        function ta(s) {
          if (s != null) {
            try {
              return nh.call(s);
            } catch {}
            try {
              return s + "";
            } catch {}
          }
          return "";
        }
        function T6(s, o) {
          return (
            Pi(se, function (u) {
              var E = "_." + u[0];
              o & u[1] && !Zc(s, E) && s.push(E);
            }),
            s.sort()
          );
        }
        function Ap(s) {
          if (s instanceof It) return s.clone();
          var o = new Oi(s.__wrapped__, s.__chain__);
          return (
            (o.__actions__ = ni(s.__actions__)),
            (o.__index__ = s.__index__),
            (o.__values__ = s.__values__),
            o
          );
        }
        function F6(s, o, u) {
          (u ? Kr(s, o, u) : o === t) ? (o = 1) : (o = pr(yt(o), 0));
          var E = s == null ? 0 : s.length;
          if (!E || o < 1) return [];
          for (var N = 0, L = 0, J = oe(uh(E / o)); N < E; )
            J[L++] = Ri(s, N, (N += o));
          return J;
        }
        function B6(s) {
          for (
            var o = -1, u = s == null ? 0 : s.length, E = 0, N = [];
            ++o < u;

          ) {
            var L = s[o];
            L && (N[E++] = L);
          }
          return N;
        }
        function L6() {
          var s = arguments.length;
          if (!s) return [];
          for (var o = oe(s - 1), u = arguments[0], E = s; E--; )
            o[E - 1] = arguments[E];
          return As(gt(u) ? ni(u) : [u], Ir(o, 1));
        }
        var q6 = At(function (s, o) {
            return ar(s) ? Bo(s, Ir(o, 1, ar, !0)) : [];
          }),
          U6 = At(function (s, o) {
            var u = Ti(o);
            return (
              ar(u) && (u = t), ar(s) ? Bo(s, Ir(o, 1, ar, !0), nt(u, 2)) : []
            );
          }),
          $6 = At(function (s, o) {
            var u = Ti(o);
            return ar(u) && (u = t), ar(s) ? Bo(s, Ir(o, 1, ar, !0), t, u) : [];
          });
        function z6(s, o, u) {
          var E = s == null ? 0 : s.length;
          return E
            ? ((o = u || o === t ? 1 : yt(o)), Ri(s, o < 0 ? 0 : o, E))
            : [];
        }
        function k6(s, o, u) {
          var E = s == null ? 0 : s.length;
          return E
            ? ((o = u || o === t ? 1 : yt(o)),
              (o = E - o),
              Ri(s, 0, o < 0 ? 0 : o))
            : [];
        }
        function j6(s, o) {
          return s && s.length ? _h(s, nt(o, 3), !0, !0) : [];
        }
        function H6(s, o) {
          return s && s.length ? _h(s, nt(o, 3), !0) : [];
        }
        function K6(s, o, u, E) {
          var N = s == null ? 0 : s.length;
          return N
            ? (u && typeof u != "number" && Kr(s, o, u) && ((u = 0), (E = N)),
              L3(s, o, u, E))
            : [];
        }
        function Ep(s, o, u) {
          var E = s == null ? 0 : s.length;
          if (!E) return -1;
          var N = u == null ? 0 : yt(u);
          return N < 0 && (N = pr(E + N, 0)), eh(s, nt(o, 3), N);
        }
        function xp(s, o, u) {
          var E = s == null ? 0 : s.length;
          if (!E) return -1;
          var N = E - 1;
          return (
            u !== t && ((N = yt(u)), (N = u < 0 ? pr(E + N, 0) : qr(N, E - 1))),
            eh(s, nt(o, 3), N, !0)
          );
        }
        function Sp(s) {
          var o = s == null ? 0 : s.length;
          return o ? Ir(s, 1) : [];
        }
        function V6(s) {
          var o = s == null ? 0 : s.length;
          return o ? Ir(s, M) : [];
        }
        function G6(s, o) {
          var u = s == null ? 0 : s.length;
          return u ? ((o = o === t ? 1 : yt(o)), Ir(s, o)) : [];
        }
        function W6(s) {
          for (var o = -1, u = s == null ? 0 : s.length, E = {}; ++o < u; ) {
            var N = s[o];
            E[N[0]] = N[1];
          }
          return E;
        }
        function Mp(s) {
          return s && s.length ? s[0] : t;
        }
        function J6(s, o, u) {
          var E = s == null ? 0 : s.length;
          if (!E) return -1;
          var N = u == null ? 0 : yt(u);
          return N < 0 && (N = pr(E + N, 0)), Na(s, o, N);
        }
        function Y6(s) {
          var o = s == null ? 0 : s.length;
          return o ? Ri(s, 0, -1) : [];
        }
        var Q6 = At(function (s) {
            var o = Xt(s, Nu);
            return o.length && o[0] === s[0] ? Au(o) : [];
          }),
          X6 = At(function (s) {
            var o = Ti(s),
              u = Xt(s, Nu);
            return (
              o === Ti(u) ? (o = t) : u.pop(),
              u.length && u[0] === s[0] ? Au(u, nt(o, 2)) : []
            );
          }),
          Z6 = At(function (s) {
            var o = Ti(s),
              u = Xt(s, Nu);
            return (
              (o = typeof o == "function" ? o : t),
              o && u.pop(),
              u.length && u[0] === s[0] ? Au(u, t, o) : []
            );
          });
        function ey(s, o) {
          return s == null ? "" : Ym.call(s, o);
        }
        function Ti(s) {
          var o = s == null ? 0 : s.length;
          return o ? s[o - 1] : t;
        }
        function ty(s, o, u) {
          var E = s == null ? 0 : s.length;
          if (!E) return -1;
          var N = E;
          return (
            u !== t && ((N = yt(u)), (N = N < 0 ? pr(E + N, 0) : qr(N, E - 1))),
            o === o ? Tm(s, o, N) : eh(s, ad, N, !0)
          );
        }
        function ry(s, o) {
          return s && s.length ? Ld(s, yt(o)) : t;
        }
        var iy = At(Ip);
        function Ip(s, o) {
          return s && s.length && o && o.length ? Mu(s, o) : s;
        }
        function ny(s, o, u) {
          return s && s.length && o && o.length ? Mu(s, o, nt(u, 2)) : s;
        }
        function sy(s, o, u) {
          return s && s.length && o && o.length ? Mu(s, o, t, u) : s;
        }
        var ay = ts(function (s, o) {
          var u = s == null ? 0 : s.length,
            E = mu(s, o);
          return (
            $d(
              s,
              Xt(o, function (N) {
                return rs(N, u) ? +N : N;
              }).sort(Yd)
            ),
            E
          );
        });
        function oy(s, o) {
          var u = [];
          if (!(s && s.length)) return u;
          var E = -1,
            N = [],
            L = s.length;
          for (o = nt(o, 3); ++E < L; ) {
            var J = s[E];
            o(J, E, s) && (u.push(J), N.push(E));
          }
          return $d(s, N), u;
        }
        function Vu(s) {
          return s == null ? s : e3.call(s);
        }
        function cy(s, o, u) {
          var E = s == null ? 0 : s.length;
          return E
            ? (u && typeof u != "number" && Kr(s, o, u)
                ? ((o = 0), (u = E))
                : ((o = o == null ? 0 : yt(o)), (u = u === t ? E : yt(u))),
              Ri(s, o, u))
            : [];
        }
        function hy(s, o) {
          return wh(s, o);
        }
        function fy(s, o, u) {
          return Pu(s, o, nt(u, 2));
        }
        function uy(s, o) {
          var u = s == null ? 0 : s.length;
          if (u) {
            var E = wh(s, o);
            if (E < u && rn(s[E], o)) return E;
          }
          return -1;
        }
        function ly(s, o) {
          return wh(s, o, !0);
        }
        function dy(s, o, u) {
          return Pu(s, o, nt(u, 2), !0);
        }
        function py(s, o) {
          var u = s == null ? 0 : s.length;
          if (u) {
            var E = wh(s, o, !0) - 1;
            if (rn(s[E], o)) return E;
          }
          return -1;
        }
        function gy(s) {
          return s && s.length ? kd(s) : [];
        }
        function vy(s, o) {
          return s && s.length ? kd(s, nt(o, 2)) : [];
        }
        function by(s) {
          var o = s == null ? 0 : s.length;
          return o ? Ri(s, 1, o) : [];
        }
        function my(s, o, u) {
          return s && s.length
            ? ((o = u || o === t ? 1 : yt(o)), Ri(s, 0, o < 0 ? 0 : o))
            : [];
        }
        function yy(s, o, u) {
          var E = s == null ? 0 : s.length;
          return E
            ? ((o = u || o === t ? 1 : yt(o)),
              (o = E - o),
              Ri(s, o < 0 ? 0 : o, E))
            : [];
        }
        function wy(s, o) {
          return s && s.length ? _h(s, nt(o, 3), !1, !0) : [];
        }
        function _y(s, o) {
          return s && s.length ? _h(s, nt(o, 3)) : [];
        }
        var Ay = At(function (s) {
            return Ms(Ir(s, 1, ar, !0));
          }),
          Ey = At(function (s) {
            var o = Ti(s);
            return ar(o) && (o = t), Ms(Ir(s, 1, ar, !0), nt(o, 2));
          }),
          xy = At(function (s) {
            var o = Ti(s);
            return (
              (o = typeof o == "function" ? o : t), Ms(Ir(s, 1, ar, !0), t, o)
            );
          });
        function Sy(s) {
          return s && s.length ? Ms(s) : [];
        }
        function My(s, o) {
          return s && s.length ? Ms(s, nt(o, 2)) : [];
        }
        function Iy(s, o) {
          return (
            (o = typeof o == "function" ? o : t),
            s && s.length ? Ms(s, t, o) : []
          );
        }
        function Gu(s) {
          if (!(s && s.length)) return [];
          var o = 0;
          return (
            (s = _s(s, function (u) {
              if (ar(u)) return (o = pr(u.length, o)), !0;
            })),
            fu(o, function (u) {
              return Xt(s, ou(u));
            })
          );
        }
        function Dp(s, o) {
          if (!(s && s.length)) return [];
          var u = Gu(s);
          return o == null
            ? u
            : Xt(u, function (E) {
                return br(o, t, E);
              });
        }
        var Dy = At(function (s, o) {
            return ar(s) ? Bo(s, o) : [];
          }),
          Py = At(function (s) {
            return Ou(_s(s, ar));
          }),
          Cy = At(function (s) {
            var o = Ti(s);
            return ar(o) && (o = t), Ou(_s(s, ar), nt(o, 2));
          }),
          Oy = At(function (s) {
            var o = Ti(s);
            return (o = typeof o == "function" ? o : t), Ou(_s(s, ar), t, o);
          }),
          Ny = At(Gu);
        function Ry(s, o) {
          return Vd(s || [], o || [], Fo);
        }
        function Ty(s, o) {
          return Vd(s || [], o || [], Uo);
        }
        var Fy = At(function (s) {
          var o = s.length,
            u = o > 1 ? s[o - 1] : t;
          return (u = typeof u == "function" ? (s.pop(), u) : t), Dp(s, u);
        });
        function Pp(s) {
          var o = T(s);
          return (o.__chain__ = !0), o;
        }
        function By(s, o) {
          return o(s), s;
        }
        function Ch(s, o) {
          return o(s);
        }
        var Ly = ts(function (s) {
          var o = s.length,
            u = o ? s[0] : 0,
            E = this.__wrapped__,
            N = function (L) {
              return mu(L, s);
            };
          return o > 1 ||
            this.__actions__.length ||
            !(E instanceof It) ||
            !rs(u)
            ? this.thru(N)
            : ((E = E.slice(u, +u + (o ? 1 : 0))),
              E.__actions__.push({ func: Ch, args: [N], thisArg: t }),
              new Oi(E, this.__chain__).thru(function (L) {
                return o && !L.length && L.push(t), L;
              }));
        });
        function qy() {
          return Pp(this);
        }
        function Uy() {
          return new Oi(this.value(), this.__chain__);
        }
        function $y() {
          this.__values__ === t && (this.__values__ = jp(this.value()));
          var s = this.__index__ >= this.__values__.length,
            o = s ? t : this.__values__[this.__index__++];
          return { done: s, value: o };
        }
        function zy() {
          return this;
        }
        function ky(s) {
          for (var o, u = this; u instanceof gh; ) {
            var E = Ap(u);
            (E.__index__ = 0),
              (E.__values__ = t),
              o ? (N.__wrapped__ = E) : (o = E);
            var N = E;
            u = u.__wrapped__;
          }
          return (N.__wrapped__ = s), o;
        }
        function jy() {
          var s = this.__wrapped__;
          if (s instanceof It) {
            var o = s;
            return (
              this.__actions__.length && (o = new It(this)),
              (o = o.reverse()),
              o.__actions__.push({ func: Ch, args: [Vu], thisArg: t }),
              new Oi(o, this.__chain__)
            );
          }
          return this.thru(Vu);
        }
        function Hy() {
          return Kd(this.__wrapped__, this.__actions__);
        }
        var Ky = Ah(function (s, o, u) {
          qt.call(s, u) ? ++s[u] : Zn(s, u, 1);
        });
        function Vy(s, o, u) {
          var E = gt(s) ? nd : B3;
          return u && Kr(s, o, u) && (o = t), E(s, nt(o, 3));
        }
        function Gy(s, o) {
          var u = gt(s) ? _s : Dd;
          return u(s, nt(o, 3));
        }
        var Wy = rp(Ep),
          Jy = rp(xp);
        function Yy(s, o) {
          return Ir(Oh(s, o), 1);
        }
        function Qy(s, o) {
          return Ir(Oh(s, o), M);
        }
        function Xy(s, o, u) {
          return (u = u === t ? 1 : yt(u)), Ir(Oh(s, o), u);
        }
        function Cp(s, o) {
          var u = gt(s) ? Pi : Ss;
          return u(s, nt(o, 3));
        }
        function Op(s, o) {
          var u = gt(s) ? bm : Id;
          return u(s, nt(o, 3));
        }
        var Zy = Ah(function (s, o, u) {
          qt.call(s, u) ? s[u].push(o) : Zn(s, u, [o]);
        });
        function e5(s, o, u, E) {
          (s = si(s) ? s : Ha(s)), (u = u && !E ? yt(u) : 0);
          var N = s.length;
          return (
            u < 0 && (u = pr(N + u, 0)),
            Bh(s) ? u <= N && s.indexOf(o, u) > -1 : !!N && Na(s, o, u) > -1
          );
        }
        var t5 = At(function (s, o, u) {
            var E = -1,
              N = typeof o == "function",
              L = si(s) ? oe(s.length) : [];
            return (
              Ss(s, function (J) {
                L[++E] = N ? br(o, J, u) : Lo(J, o, u);
              }),
              L
            );
          }),
          r5 = Ah(function (s, o, u) {
            Zn(s, u, o);
          });
        function Oh(s, o) {
          var u = gt(s) ? Xt : Td;
          return u(s, nt(o, 3));
        }
        function i5(s, o, u, E) {
          return s == null
            ? []
            : (gt(o) || (o = o == null ? [] : [o]),
              (u = E ? t : u),
              gt(u) || (u = u == null ? [] : [u]),
              qd(s, o, u));
        }
        var n5 = Ah(
          function (s, o, u) {
            s[u ? 0 : 1].push(o);
          },
          function () {
            return [[], []];
          }
        );
        function s5(s, o, u) {
          var E = gt(s) ? su : cd,
            N = arguments.length < 3;
          return E(s, nt(o, 4), u, N, Ss);
        }
        function a5(s, o, u) {
          var E = gt(s) ? mm : cd,
            N = arguments.length < 3;
          return E(s, nt(o, 4), u, N, Id);
        }
        function o5(s, o) {
          var u = gt(s) ? _s : Dd;
          return u(s, Th(nt(o, 3)));
        }
        function c5(s) {
          var o = gt(s) ? Ed : e6;
          return o(s);
        }
        function h5(s, o, u) {
          (u ? Kr(s, o, u) : o === t) ? (o = 1) : (o = yt(o));
          var E = gt(s) ? O3 : t6;
          return E(s, o);
        }
        function f5(s) {
          var o = gt(s) ? N3 : i6;
          return o(s);
        }
        function u5(s) {
          if (s == null) return 0;
          if (si(s)) return Bh(s) ? Ta(s) : s.length;
          var o = Ur(s);
          return o == fe || o == Me ? s.size : xu(s).length;
        }
        function l5(s, o, u) {
          var E = gt(s) ? au : n6;
          return u && Kr(s, o, u) && (o = t), E(s, nt(o, 3));
        }
        var d5 = At(function (s, o) {
            if (s == null) return [];
            var u = o.length;
            return (
              u > 1 && Kr(s, o[0], o[1])
                ? (o = [])
                : u > 2 && Kr(o[0], o[1], o[2]) && (o = [o[0]]),
              qd(s, Ir(o, 1), [])
            );
          }),
          Nh =
            Gm ||
            function () {
              return Ot.Date.now();
            };
        function p5(s, o) {
          if (typeof o != "function") throw new Ci(h);
          return (
            (s = yt(s)),
            function () {
              if (--s < 1) return o.apply(this, arguments);
            }
          );
        }
        function Np(s, o, u) {
          return (
            (o = u ? t : o),
            (o = s && o == null ? s.length : o),
            es(s, A, t, t, t, t, o)
          );
        }
        function Rp(s, o) {
          var u;
          if (typeof o != "function") throw new Ci(h);
          return (
            (s = yt(s)),
            function () {
              return (
                --s > 0 && (u = o.apply(this, arguments)), s <= 1 && (o = t), u
              );
            }
          );
        }
        var Wu = At(function (s, o, u) {
            var E = G;
            if (u.length) {
              var N = Es(u, ka(Wu));
              E |= k;
            }
            return es(s, E, o, u, N);
          }),
          Tp = At(function (s, o, u) {
            var E = G | Q;
            if (u.length) {
              var N = Es(u, ka(Tp));
              E |= k;
            }
            return es(o, E, s, u, N);
          });
        function Fp(s, o, u) {
          o = u ? t : o;
          var E = es(s, Y, t, t, t, t, t, o);
          return (E.placeholder = Fp.placeholder), E;
        }
        function Bp(s, o, u) {
          o = u ? t : o;
          var E = es(s, q, t, t, t, t, t, o);
          return (E.placeholder = Bp.placeholder), E;
        }
        function Lp(s, o, u) {
          var E,
            N,
            L,
            J,
            X,
            ie,
            ue = 0,
            le = !1,
            ge = !1,
            De = !0;
          if (typeof s != "function") throw new Ci(h);
          (o = Fi(o) || 0),
            Zt(u) &&
              ((le = !!u.leading),
              (ge = "maxWait" in u),
              (L = ge ? pr(Fi(u.maxWait) || 0, o) : L),
              (De = "trailing" in u ? !!u.trailing : De));
          function We(or) {
            var nn = E,
              ss = N;
            return (E = N = t), (ue = or), (J = s.apply(ss, nn)), J;
          }
          function ot(or) {
            return (ue = or), (X = ko(xt, o)), le ? We(or) : J;
          }
          function wt(or) {
            var nn = or - ie,
              ss = or - ue,
              r1 = o - nn;
            return ge ? qr(r1, L - ss) : r1;
          }
          function ct(or) {
            var nn = or - ie,
              ss = or - ue;
            return ie === t || nn >= o || nn < 0 || (ge && ss >= L);
          }
          function xt() {
            var or = Nh();
            if (ct(or)) return Nt(or);
            X = ko(xt, wt(or));
          }
          function Nt(or) {
            return (X = t), De && E ? We(or) : ((E = N = t), J);
          }
          function yi() {
            X !== t && Gd(X), (ue = 0), (E = ie = N = X = t);
          }
          function Vr() {
            return X === t ? J : Nt(Nh());
          }
          function wi() {
            var or = Nh(),
              nn = ct(or);
            if (((E = arguments), (N = this), (ie = or), nn)) {
              if (X === t) return ot(ie);
              if (ge) return Gd(X), (X = ko(xt, o)), We(ie);
            }
            return X === t && (X = ko(xt, o)), J;
          }
          return (wi.cancel = yi), (wi.flush = Vr), wi;
        }
        var g5 = At(function (s, o) {
            return Md(s, 1, o);
          }),
          v5 = At(function (s, o, u) {
            return Md(s, Fi(o) || 0, u);
          });
        function b5(s) {
          return es(s, ae);
        }
        function Rh(s, o) {
          if (typeof s != "function" || (o != null && typeof o != "function"))
            throw new Ci(h);
          var u = function () {
            var E = arguments,
              N = o ? o.apply(this, E) : E[0],
              L = u.cache;
            if (L.has(N)) return L.get(N);
            var J = s.apply(this, E);
            return (u.cache = L.set(N, J) || L), J;
          };
          return (u.cache = new (Rh.Cache || Xn)()), u;
        }
        Rh.Cache = Xn;
        function Th(s) {
          if (typeof s != "function") throw new Ci(h);
          return function () {
            var o = arguments;
            switch (o.length) {
              case 0:
                return !s.call(this);
              case 1:
                return !s.call(this, o[0]);
              case 2:
                return !s.call(this, o[0], o[1]);
              case 3:
                return !s.call(this, o[0], o[1], o[2]);
            }
            return !s.apply(this, o);
          };
        }
        function m5(s) {
          return Rp(2, s);
        }
        var y5 = s6(function (s, o) {
            o =
              o.length == 1 && gt(o[0])
                ? Xt(o[0], vi(nt()))
                : Xt(Ir(o, 1), vi(nt()));
            var u = o.length;
            return At(function (E) {
              for (var N = -1, L = qr(E.length, u); ++N < L; )
                E[N] = o[N].call(this, E[N]);
              return br(s, this, E);
            });
          }),
          Ju = At(function (s, o) {
            var u = Es(o, ka(Ju));
            return es(s, k, t, o, u);
          }),
          qp = At(function (s, o) {
            var u = Es(o, ka(qp));
            return es(s, V, t, o, u);
          }),
          w5 = ts(function (s, o) {
            return es(s, F, t, t, t, o);
          });
        function _5(s, o) {
          if (typeof s != "function") throw new Ci(h);
          return (o = o === t ? o : yt(o)), At(s, o);
        }
        function A5(s, o) {
          if (typeof s != "function") throw new Ci(h);
          return (
            (o = o == null ? 0 : pr(yt(o), 0)),
            At(function (u) {
              var E = u[o],
                N = Ds(u, 0, o);
              return E && As(N, E), br(s, this, N);
            })
          );
        }
        function E5(s, o, u) {
          var E = !0,
            N = !0;
          if (typeof s != "function") throw new Ci(h);
          return (
            Zt(u) &&
              ((E = "leading" in u ? !!u.leading : E),
              (N = "trailing" in u ? !!u.trailing : N)),
            Lp(s, o, { leading: E, maxWait: o, trailing: N })
          );
        }
        function x5(s) {
          return Np(s, 1);
        }
        function S5(s, o) {
          return Ju(Ru(o), s);
        }
        function M5() {
          if (!arguments.length) return [];
          var s = arguments[0];
          return gt(s) ? s : [s];
        }
        function I5(s) {
          return Ni(s, P);
        }
        function D5(s, o) {
          return (o = typeof o == "function" ? o : t), Ni(s, P, o);
        }
        function P5(s) {
          return Ni(s, _ | P);
        }
        function C5(s, o) {
          return (o = typeof o == "function" ? o : t), Ni(s, _ | P, o);
        }
        function O5(s, o) {
          return o == null || Sd(s, o, mr(o));
        }
        function rn(s, o) {
          return s === o || (s !== s && o !== o);
        }
        var N5 = Mh(_u),
          R5 = Mh(function (s, o) {
            return s >= o;
          }),
          ra = Od(
            (function () {
              return arguments;
            })()
          )
            ? Od
            : function (s) {
                return tr(s) && qt.call(s, "callee") && !bd.call(s, "callee");
              },
          gt = oe.isArray,
          T5 = jr ? vi(jr) : k3;
        function si(s) {
          return s != null && Fh(s.length) && !is(s);
        }
        function ar(s) {
          return tr(s) && si(s);
        }
        function F5(s) {
          return s === !0 || s === !1 || (tr(s) && Hr(s) == j);
        }
        var Ps = Jm || al,
          B5 = Zi ? vi(Zi) : j3;
        function L5(s) {
          return tr(s) && s.nodeType === 1 && !jo(s);
        }
        function q5(s) {
          if (s == null) return !0;
          if (
            si(s) &&
            (gt(s) ||
              typeof s == "string" ||
              typeof s.splice == "function" ||
              Ps(s) ||
              ja(s) ||
              ra(s))
          )
            return !s.length;
          var o = Ur(s);
          if (o == fe || o == Me) return !s.size;
          if (zo(s)) return !xu(s).length;
          for (var u in s) if (qt.call(s, u)) return !1;
          return !0;
        }
        function U5(s, o) {
          return qo(s, o);
        }
        function $5(s, o, u) {
          u = typeof u == "function" ? u : t;
          var E = u ? u(s, o) : t;
          return E === t ? qo(s, o, t, u) : !!E;
        }
        function Yu(s) {
          if (!tr(s)) return !1;
          var o = Hr(s);
          return (
            o == $ ||
            o == w ||
            (typeof s.message == "string" &&
              typeof s.name == "string" &&
              !jo(s))
          );
        }
        function z5(s) {
          return typeof s == "number" && yd(s);
        }
        function is(s) {
          if (!Zt(s)) return !1;
          var o = Hr(s);
          return o == ne || o == ce || o == B || o == Pe;
        }
        function Up(s) {
          return typeof s == "number" && s == yt(s);
        }
        function Fh(s) {
          return typeof s == "number" && s > -1 && s % 1 == 0 && s <= D;
        }
        function Zt(s) {
          var o = typeof s;
          return s != null && (o == "object" || o == "function");
        }
        function tr(s) {
          return s != null && typeof s == "object";
        }
        var $p = Di ? vi(Di) : K3;
        function k5(s, o) {
          return s === o || Eu(s, o, $u(o));
        }
        function j5(s, o, u) {
          return (u = typeof u == "function" ? u : t), Eu(s, o, $u(o), u);
        }
        function H5(s) {
          return zp(s) && s != +s;
        }
        function K5(s) {
          if (D6(s)) throw new dt(a);
          return Nd(s);
        }
        function V5(s) {
          return s === null;
        }
        function G5(s) {
          return s == null;
        }
        function zp(s) {
          return typeof s == "number" || (tr(s) && Hr(s) == ye);
        }
        function jo(s) {
          if (!tr(s) || Hr(s) != Ne) return !1;
          var o = ch(s);
          if (o === null) return !0;
          var u = qt.call(o, "constructor") && o.constructor;
          return typeof u == "function" && u instanceof u && nh.call(u) == jm;
        }
        var Qu = yn ? vi(yn) : V3;
        function W5(s) {
          return Up(s) && s >= -D && s <= D;
        }
        var kp = Do ? vi(Do) : G3;
        function Bh(s) {
          return typeof s == "string" || (!gt(s) && tr(s) && Hr(s) == me);
        }
        function mi(s) {
          return typeof s == "symbol" || (tr(s) && Hr(s) == Ce);
        }
        var ja = Ws ? vi(Ws) : W3;
        function J5(s) {
          return s === t;
        }
        function Y5(s) {
          return tr(s) && Ur(s) == ve;
        }
        function Q5(s) {
          return tr(s) && Hr(s) == Oe;
        }
        var X5 = Mh(Su),
          Z5 = Mh(function (s, o) {
            return s <= o;
          });
        function jp(s) {
          if (!s) return [];
          if (si(s)) return Bh(s) ? en(s) : ni(s);
          if (Co && s[Co]) return Om(s[Co]());
          var o = Ur(s),
            u = o == fe ? lu : o == Me ? th : Ha;
          return u(s);
        }
        function ns(s) {
          if (!s) return s === 0 ? s : 0;
          if (((s = Fi(s)), s === M || s === -M)) {
            var o = s < 0 ? -1 : 1;
            return o * S;
          }
          return s === s ? s : 0;
        }
        function yt(s) {
          var o = ns(s),
            u = o % 1;
          return o === o ? (u ? o - u : o) : 0;
        }
        function Hp(s) {
          return s ? Xs(yt(s), 0, p) : 0;
        }
        function Fi(s) {
          if (typeof s == "number") return s;
          if (mi(s)) return d;
          if (Zt(s)) {
            var o = typeof s.valueOf == "function" ? s.valueOf() : s;
            s = Zt(o) ? o + "" : o;
          }
          if (typeof s != "string") return s === 0 ? s : +s;
          s = hd(s);
          var u = Tr.test(s);
          return u || Br.test(s)
            ? pt(s.slice(2), u ? 2 : 8)
            : Rr.test(s)
            ? d
            : +s;
        }
        function Kp(s) {
          return _n(s, ai(s));
        }
        function ew(s) {
          return s ? Xs(yt(s), -D, D) : s === 0 ? s : 0;
        }
        function Bt(s) {
          return s == null ? "" : bi(s);
        }
        var tw = $a(function (s, o) {
            if (zo(o) || si(o)) {
              _n(o, mr(o), s);
              return;
            }
            for (var u in o) qt.call(o, u) && Fo(s, u, o[u]);
          }),
          Vp = $a(function (s, o) {
            _n(o, ai(o), s);
          }),
          Lh = $a(function (s, o, u, E) {
            _n(o, ai(o), s, E);
          }),
          rw = $a(function (s, o, u, E) {
            _n(o, mr(o), s, E);
          }),
          iw = ts(mu);
        function nw(s, o) {
          var u = Ua(s);
          return o == null ? u : xd(u, o);
        }
        var sw = At(function (s, o) {
            s = Ht(s);
            var u = -1,
              E = o.length,
              N = E > 2 ? o[2] : t;
            for (N && Kr(o[0], o[1], N) && (E = 1); ++u < E; )
              for (var L = o[u], J = ai(L), X = -1, ie = J.length; ++X < ie; ) {
                var ue = J[X],
                  le = s[ue];
                (le === t || (rn(le, Ba[ue]) && !qt.call(s, ue))) &&
                  (s[ue] = L[ue]);
              }
            return s;
          }),
          aw = At(function (s) {
            return s.push(t, hp), br(Gp, t, s);
          });
        function ow(s, o) {
          return sd(s, nt(o, 3), wn);
        }
        function cw(s, o) {
          return sd(s, nt(o, 3), wu);
        }
        function hw(s, o) {
          return s == null ? s : yu(s, nt(o, 3), ai);
        }
        function fw(s, o) {
          return s == null ? s : Pd(s, nt(o, 3), ai);
        }
        function uw(s, o) {
          return s && wn(s, nt(o, 3));
        }
        function lw(s, o) {
          return s && wu(s, nt(o, 3));
        }
        function dw(s) {
          return s == null ? [] : mh(s, mr(s));
        }
        function pw(s) {
          return s == null ? [] : mh(s, ai(s));
        }
        function Xu(s, o, u) {
          var E = s == null ? t : Zs(s, o);
          return E === t ? u : E;
        }
        function gw(s, o) {
          return s != null && lp(s, o, q3);
        }
        function Zu(s, o) {
          return s != null && lp(s, o, U3);
        }
        var vw = np(function (s, o, u) {
            o != null && typeof o.toString != "function" && (o = sh.call(o)),
              (s[o] = u);
          }, tl(oi)),
          bw = np(function (s, o, u) {
            o != null && typeof o.toString != "function" && (o = sh.call(o)),
              qt.call(s, o) ? s[o].push(u) : (s[o] = [u]);
          }, nt),
          mw = At(Lo);
        function mr(s) {
          return si(s) ? Ad(s) : xu(s);
        }
        function ai(s) {
          return si(s) ? Ad(s, !0) : J3(s);
        }
        function yw(s, o) {
          var u = {};
          return (
            (o = nt(o, 3)),
            wn(s, function (E, N, L) {
              Zn(u, o(E, N, L), E);
            }),
            u
          );
        }
        function ww(s, o) {
          var u = {};
          return (
            (o = nt(o, 3)),
            wn(s, function (E, N, L) {
              Zn(u, N, o(E, N, L));
            }),
            u
          );
        }
        var _w = $a(function (s, o, u) {
            yh(s, o, u);
          }),
          Gp = $a(function (s, o, u, E) {
            yh(s, o, u, E);
          }),
          Aw = ts(function (s, o) {
            var u = {};
            if (s == null) return u;
            var E = !1;
            (o = Xt(o, function (L) {
              return (L = Is(L, s)), E || (E = L.length > 1), L;
            })),
              _n(s, qu(s), u),
              E && (u = Ni(u, _ | C | P, v6));
            for (var N = o.length; N--; ) Cu(u, o[N]);
            return u;
          });
        function Ew(s, o) {
          return Wp(s, Th(nt(o)));
        }
        var xw = ts(function (s, o) {
          return s == null ? {} : Q3(s, o);
        });
        function Wp(s, o) {
          if (s == null) return {};
          var u = Xt(qu(s), function (E) {
            return [E];
          });
          return (
            (o = nt(o)),
            Ud(s, u, function (E, N) {
              return o(E, N[0]);
            })
          );
        }
        function Sw(s, o, u) {
          o = Is(o, s);
          var E = -1,
            N = o.length;
          for (N || ((N = 1), (s = t)); ++E < N; ) {
            var L = s == null ? t : s[An(o[E])];
            L === t && ((E = N), (L = u)), (s = is(L) ? L.call(s) : L);
          }
          return s;
        }
        function Mw(s, o, u) {
          return s == null ? s : Uo(s, o, u);
        }
        function Iw(s, o, u, E) {
          return (
            (E = typeof E == "function" ? E : t), s == null ? s : Uo(s, o, u, E)
          );
        }
        var Jp = op(mr),
          Yp = op(ai);
        function Dw(s, o, u) {
          var E = gt(s),
            N = E || Ps(s) || ja(s);
          if (((o = nt(o, 4)), u == null)) {
            var L = s && s.constructor;
            N
              ? (u = E ? new L() : [])
              : Zt(s)
              ? (u = is(L) ? Ua(ch(s)) : {})
              : (u = {});
          }
          return (
            (N ? Pi : wn)(s, function (J, X, ie) {
              return o(u, J, X, ie);
            }),
            u
          );
        }
        function Pw(s, o) {
          return s == null ? !0 : Cu(s, o);
        }
        function Cw(s, o, u) {
          return s == null ? s : Hd(s, o, Ru(u));
        }
        function Ow(s, o, u, E) {
          return (
            (E = typeof E == "function" ? E : t),
            s == null ? s : Hd(s, o, Ru(u), E)
          );
        }
        function Ha(s) {
          return s == null ? [] : uu(s, mr(s));
        }
        function Nw(s) {
          return s == null ? [] : uu(s, ai(s));
        }
        function Rw(s, o, u) {
          return (
            u === t && ((u = o), (o = t)),
            u !== t && ((u = Fi(u)), (u = u === u ? u : 0)),
            o !== t && ((o = Fi(o)), (o = o === o ? o : 0)),
            Xs(Fi(s), o, u)
          );
        }
        function Tw(s, o, u) {
          return (
            (o = ns(o)),
            u === t ? ((u = o), (o = 0)) : (u = ns(u)),
            (s = Fi(s)),
            $3(s, o, u)
          );
        }
        function Fw(s, o, u) {
          if (
            (u && typeof u != "boolean" && Kr(s, o, u) && (o = u = t),
            u === t &&
              (typeof o == "boolean"
                ? ((u = o), (o = t))
                : typeof s == "boolean" && ((u = s), (s = t))),
            s === t && o === t
              ? ((s = 0), (o = 1))
              : ((s = ns(s)), o === t ? ((o = s), (s = 0)) : (o = ns(o))),
            s > o)
          ) {
            var E = s;
            (s = o), (o = E);
          }
          if (u || s % 1 || o % 1) {
            var N = wd();
            return qr(s + N * (o - s + kt("1e-" + ((N + "").length - 1))), o);
          }
          return Iu(s, o);
        }
        var Bw = za(function (s, o, u) {
          return (o = o.toLowerCase()), s + (u ? Qp(o) : o);
        });
        function Qp(s) {
          return el(Bt(s).toLowerCase());
        }
        function Xp(s) {
          return (s = Bt(s)), s && s.replace(er, Mm).replace(ru, "");
        }
        function Lw(s, o, u) {
          (s = Bt(s)), (o = bi(o));
          var E = s.length;
          u = u === t ? E : Xs(yt(u), 0, E);
          var N = u;
          return (u -= o.length), u >= 0 && s.slice(u, N) == o;
        }
        function qw(s) {
          return (s = Bt(s)), s && Xe.test(s) ? s.replace(Mt, Im) : s;
        }
        function Uw(s) {
          return (s = Bt(s)), s && ze.test(s) ? s.replace(rt, "\\$&") : s;
        }
        var $w = za(function (s, o, u) {
            return s + (u ? "-" : "") + o.toLowerCase();
          }),
          zw = za(function (s, o, u) {
            return s + (u ? " " : "") + o.toLowerCase();
          }),
          kw = tp("toLowerCase");
        function jw(s, o, u) {
          (s = Bt(s)), (o = yt(o));
          var E = o ? Ta(s) : 0;
          if (!o || E >= o) return s;
          var N = (o - E) / 2;
          return Sh(lh(N), u) + s + Sh(uh(N), u);
        }
        function Hw(s, o, u) {
          (s = Bt(s)), (o = yt(o));
          var E = o ? Ta(s) : 0;
          return o && E < o ? s + Sh(o - E, u) : s;
        }
        function Kw(s, o, u) {
          (s = Bt(s)), (o = yt(o));
          var E = o ? Ta(s) : 0;
          return o && E < o ? Sh(o - E, u) + s : s;
        }
        function Vw(s, o, u) {
          return (
            u || o == null ? (o = 0) : o && (o = +o),
            Zm(Bt(s).replace(it, ""), o || 0)
          );
        }
        function Gw(s, o, u) {
          return (
            (u ? Kr(s, o, u) : o === t) ? (o = 1) : (o = yt(o)), Du(Bt(s), o)
          );
        }
        function Ww() {
          var s = arguments,
            o = Bt(s[0]);
          return s.length < 3 ? o : o.replace(s[1], s[2]);
        }
        var Jw = za(function (s, o, u) {
          return s + (u ? "_" : "") + o.toLowerCase();
        });
        function Yw(s, o, u) {
          return (
            u && typeof u != "number" && Kr(s, o, u) && (o = u = t),
            (u = u === t ? p : u >>> 0),
            u
              ? ((s = Bt(s)),
                s &&
                (typeof o == "string" || (o != null && !Qu(o))) &&
                ((o = bi(o)), !o && Ra(s))
                  ? Ds(en(s), 0, u)
                  : s.split(o, u))
              : []
          );
        }
        var Qw = za(function (s, o, u) {
          return s + (u ? " " : "") + el(o);
        });
        function Xw(s, o, u) {
          return (
            (s = Bt(s)),
            (u = u == null ? 0 : Xs(yt(u), 0, s.length)),
            (o = bi(o)),
            s.slice(u, u + o.length) == o
          );
        }
        function Zw(s, o, u) {
          var E = T.templateSettings;
          u && Kr(s, o, u) && (o = t), (s = Bt(s)), (o = Lh({}, o, E, cp));
          var N = Lh({}, o.imports, E.imports, cp),
            L = mr(N),
            J = uu(N, L),
            X,
            ie,
            ue = 0,
            le = o.interpolate || ei,
            ge = "__p += '",
            De = du(
              (o.escape || ei).source +
                "|" +
                le.source +
                "|" +
                (le === et ? at : ei).source +
                "|" +
                (o.evaluate || ei).source +
                "|$",
              "g"
            ),
            We =
              "//# sourceURL=" +
              (qt.call(o, "sourceURL")
                ? (o.sourceURL + "").replace(/\s/g, " ")
                : "lodash.templateSources[" + ++iu + "]") +
              `
`;
          s.replace(De, function (ct, xt, Nt, yi, Vr, wi) {
            return (
              Nt || (Nt = yi),
              (ge += s.slice(ue, wi).replace(Gi, Dm)),
              xt &&
                ((X = !0),
                (ge +=
                  `' +
__e(` +
                  xt +
                  `) +
'`)),
              Vr &&
                ((ie = !0),
                (ge +=
                  `';
` +
                  Vr +
                  `;
__p += '`)),
              Nt &&
                (ge +=
                  `' +
((__t = (` +
                  Nt +
                  `)) == null ? '' : __t) +
'`),
              (ue = wi + ct.length),
              ct
            );
          }),
            (ge += `';
`);
          var ot = qt.call(o, "variable") && o.variable;
          if (!ot)
            ge =
              `with (obj) {
` +
              ge +
              `
}
`;
          else if (Rt.test(ot)) throw new dt(f);
          (ge = (ie ? ge.replace(_t, "") : ge)
            .replace(lt, "$1")
            .replace(Je, "$1;")),
            (ge =
              "function(" +
              (ot || "obj") +
              `) {
` +
              (ot
                ? ""
                : `obj || (obj = {});
`) +
              "var __t, __p = ''" +
              (X ? ", __e = _.escape" : "") +
              (ie
                ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`
                : `;
`) +
              ge +
              `return __p
}`);
          var wt = e1(function () {
            return Ft(L, We + "return " + ge).apply(t, J);
          });
          if (((wt.source = ge), Yu(wt))) throw wt;
          return wt;
        }
        function e8(s) {
          return Bt(s).toLowerCase();
        }
        function t8(s) {
          return Bt(s).toUpperCase();
        }
        function r8(s, o, u) {
          if (((s = Bt(s)), s && (u || o === t))) return hd(s);
          if (!s || !(o = bi(o))) return s;
          var E = en(s),
            N = en(o),
            L = fd(E, N),
            J = ud(E, N) + 1;
          return Ds(E, L, J).join("");
        }
        function i8(s, o, u) {
          if (((s = Bt(s)), s && (u || o === t))) return s.slice(0, dd(s) + 1);
          if (!s || !(o = bi(o))) return s;
          var E = en(s),
            N = ud(E, en(o)) + 1;
          return Ds(E, 0, N).join("");
        }
        function n8(s, o, u) {
          if (((s = Bt(s)), s && (u || o === t))) return s.replace(it, "");
          if (!s || !(o = bi(o))) return s;
          var E = en(s),
            N = fd(E, en(o));
          return Ds(E, N).join("");
        }
        function s8(s, o) {
          var u = de,
            E = U;
          if (Zt(o)) {
            var N = "separator" in o ? o.separator : N;
            (u = "length" in o ? yt(o.length) : u),
              (E = "omission" in o ? bi(o.omission) : E);
          }
          s = Bt(s);
          var L = s.length;
          if (Ra(s)) {
            var J = en(s);
            L = J.length;
          }
          if (u >= L) return s;
          var X = u - Ta(E);
          if (X < 1) return E;
          var ie = J ? Ds(J, 0, X).join("") : s.slice(0, X);
          if (N === t) return ie + E;
          if ((J && (X += ie.length - X), Qu(N))) {
            if (s.slice(X).search(N)) {
              var ue,
                le = ie;
              for (
                N.global || (N = du(N.source, Bt(bt.exec(N)) + "g")),
                  N.lastIndex = 0;
                (ue = N.exec(le));

              )
                var ge = ue.index;
              ie = ie.slice(0, ge === t ? X : ge);
            }
          } else if (s.indexOf(bi(N), X) != X) {
            var De = ie.lastIndexOf(N);
            De > -1 && (ie = ie.slice(0, De));
          }
          return ie + E;
        }
        function a8(s) {
          return (s = Bt(s)), s && Fe.test(s) ? s.replace(Et, Fm) : s;
        }
        var o8 = za(function (s, o, u) {
            return s + (u ? " " : "") + o.toUpperCase();
          }),
          el = tp("toUpperCase");
        function Zp(s, o, u) {
          return (
            (s = Bt(s)),
            (o = u ? t : o),
            o === t ? (Cm(s) ? qm(s) : _m(s)) : s.match(o) || []
          );
        }
        var e1 = At(function (s, o) {
            try {
              return br(s, t, o);
            } catch (u) {
              return Yu(u) ? u : new dt(u);
            }
          }),
          c8 = ts(function (s, o) {
            return (
              Pi(o, function (u) {
                (u = An(u)), Zn(s, u, Wu(s[u], s));
              }),
              s
            );
          });
        function h8(s) {
          var o = s == null ? 0 : s.length,
            u = nt();
          return (
            (s = o
              ? Xt(s, function (E) {
                  if (typeof E[1] != "function") throw new Ci(h);
                  return [u(E[0]), E[1]];
                })
              : []),
            At(function (E) {
              for (var N = -1; ++N < o; ) {
                var L = s[N];
                if (br(L[0], this, E)) return br(L[1], this, E);
              }
            })
          );
        }
        function f8(s) {
          return F3(Ni(s, _));
        }
        function tl(s) {
          return function () {
            return s;
          };
        }
        function u8(s, o) {
          return s == null || s !== s ? o : s;
        }
        var l8 = ip(),
          d8 = ip(!0);
        function oi(s) {
          return s;
        }
        function rl(s) {
          return Rd(typeof s == "function" ? s : Ni(s, _));
        }
        function p8(s) {
          return Fd(Ni(s, _));
        }
        function g8(s, o) {
          return Bd(s, Ni(o, _));
        }
        var v8 = At(function (s, o) {
            return function (u) {
              return Lo(u, s, o);
            };
          }),
          b8 = At(function (s, o) {
            return function (u) {
              return Lo(s, u, o);
            };
          });
        function il(s, o, u) {
          var E = mr(o),
            N = mh(o, E);
          u == null &&
            !(Zt(o) && (N.length || !E.length)) &&
            ((u = o), (o = s), (s = this), (N = mh(o, mr(o))));
          var L = !(Zt(u) && "chain" in u) || !!u.chain,
            J = is(s);
          return (
            Pi(N, function (X) {
              var ie = o[X];
              (s[X] = ie),
                J &&
                  (s.prototype[X] = function () {
                    var ue = this.__chain__;
                    if (L || ue) {
                      var le = s(this.__wrapped__),
                        ge = (le.__actions__ = ni(this.__actions__));
                      return (
                        ge.push({ func: ie, args: arguments, thisArg: s }),
                        (le.__chain__ = ue),
                        le
                      );
                    }
                    return ie.apply(s, As([this.value()], arguments));
                  });
            }),
            s
          );
        }
        function m8() {
          return Ot._ === this && (Ot._ = Hm), this;
        }
        function nl() {}
        function y8(s) {
          return (
            (s = yt(s)),
            At(function (o) {
              return Ld(o, s);
            })
          );
        }
        var w8 = Fu(Xt),
          _8 = Fu(nd),
          A8 = Fu(au);
        function t1(s) {
          return ku(s) ? ou(An(s)) : X3(s);
        }
        function E8(s) {
          return function (o) {
            return s == null ? t : Zs(s, o);
          };
        }
        var x8 = sp(),
          S8 = sp(!0);
        function sl() {
          return [];
        }
        function al() {
          return !1;
        }
        function M8() {
          return {};
        }
        function I8() {
          return "";
        }
        function D8() {
          return !0;
        }
        function P8(s, o) {
          if (((s = yt(s)), s < 1 || s > D)) return [];
          var u = p,
            E = qr(s, p);
          (o = nt(o)), (s -= p);
          for (var N = fu(E, o); ++u < s; ) o(u);
          return N;
        }
        function C8(s) {
          return gt(s) ? Xt(s, An) : mi(s) ? [s] : ni(_p(Bt(s)));
        }
        function O8(s) {
          var o = ++km;
          return Bt(s) + o;
        }
        var N8 = xh(function (s, o) {
            return s + o;
          }, 0),
          R8 = Bu("ceil"),
          T8 = xh(function (s, o) {
            return s / o;
          }, 1),
          F8 = Bu("floor");
        function B8(s) {
          return s && s.length ? bh(s, oi, _u) : t;
        }
        function L8(s, o) {
          return s && s.length ? bh(s, nt(o, 2), _u) : t;
        }
        function q8(s) {
          return od(s, oi);
        }
        function U8(s, o) {
          return od(s, nt(o, 2));
        }
        function $8(s) {
          return s && s.length ? bh(s, oi, Su) : t;
        }
        function z8(s, o) {
          return s && s.length ? bh(s, nt(o, 2), Su) : t;
        }
        var k8 = xh(function (s, o) {
            return s * o;
          }, 1),
          j8 = Bu("round"),
          H8 = xh(function (s, o) {
            return s - o;
          }, 0);
        function K8(s) {
          return s && s.length ? hu(s, oi) : 0;
        }
        function V8(s, o) {
          return s && s.length ? hu(s, nt(o, 2)) : 0;
        }
        return (
          (T.after = p5),
          (T.ary = Np),
          (T.assign = tw),
          (T.assignIn = Vp),
          (T.assignInWith = Lh),
          (T.assignWith = rw),
          (T.at = iw),
          (T.before = Rp),
          (T.bind = Wu),
          (T.bindAll = c8),
          (T.bindKey = Tp),
          (T.castArray = M5),
          (T.chain = Pp),
          (T.chunk = F6),
          (T.compact = B6),
          (T.concat = L6),
          (T.cond = h8),
          (T.conforms = f8),
          (T.constant = tl),
          (T.countBy = Ky),
          (T.create = nw),
          (T.curry = Fp),
          (T.curryRight = Bp),
          (T.debounce = Lp),
          (T.defaults = sw),
          (T.defaultsDeep = aw),
          (T.defer = g5),
          (T.delay = v5),
          (T.difference = q6),
          (T.differenceBy = U6),
          (T.differenceWith = $6),
          (T.drop = z6),
          (T.dropRight = k6),
          (T.dropRightWhile = j6),
          (T.dropWhile = H6),
          (T.fill = K6),
          (T.filter = Gy),
          (T.flatMap = Yy),
          (T.flatMapDeep = Qy),
          (T.flatMapDepth = Xy),
          (T.flatten = Sp),
          (T.flattenDeep = V6),
          (T.flattenDepth = G6),
          (T.flip = b5),
          (T.flow = l8),
          (T.flowRight = d8),
          (T.fromPairs = W6),
          (T.functions = dw),
          (T.functionsIn = pw),
          (T.groupBy = Zy),
          (T.initial = Y6),
          (T.intersection = Q6),
          (T.intersectionBy = X6),
          (T.intersectionWith = Z6),
          (T.invert = vw),
          (T.invertBy = bw),
          (T.invokeMap = t5),
          (T.iteratee = rl),
          (T.keyBy = r5),
          (T.keys = mr),
          (T.keysIn = ai),
          (T.map = Oh),
          (T.mapKeys = yw),
          (T.mapValues = ww),
          (T.matches = p8),
          (T.matchesProperty = g8),
          (T.memoize = Rh),
          (T.merge = _w),
          (T.mergeWith = Gp),
          (T.method = v8),
          (T.methodOf = b8),
          (T.mixin = il),
          (T.negate = Th),
          (T.nthArg = y8),
          (T.omit = Aw),
          (T.omitBy = Ew),
          (T.once = m5),
          (T.orderBy = i5),
          (T.over = w8),
          (T.overArgs = y5),
          (T.overEvery = _8),
          (T.overSome = A8),
          (T.partial = Ju),
          (T.partialRight = qp),
          (T.partition = n5),
          (T.pick = xw),
          (T.pickBy = Wp),
          (T.property = t1),
          (T.propertyOf = E8),
          (T.pull = iy),
          (T.pullAll = Ip),
          (T.pullAllBy = ny),
          (T.pullAllWith = sy),
          (T.pullAt = ay),
          (T.range = x8),
          (T.rangeRight = S8),
          (T.rearg = w5),
          (T.reject = o5),
          (T.remove = oy),
          (T.rest = _5),
          (T.reverse = Vu),
          (T.sampleSize = h5),
          (T.set = Mw),
          (T.setWith = Iw),
          (T.shuffle = f5),
          (T.slice = cy),
          (T.sortBy = d5),
          (T.sortedUniq = gy),
          (T.sortedUniqBy = vy),
          (T.split = Yw),
          (T.spread = A5),
          (T.tail = by),
          (T.take = my),
          (T.takeRight = yy),
          (T.takeRightWhile = wy),
          (T.takeWhile = _y),
          (T.tap = By),
          (T.throttle = E5),
          (T.thru = Ch),
          (T.toArray = jp),
          (T.toPairs = Jp),
          (T.toPairsIn = Yp),
          (T.toPath = C8),
          (T.toPlainObject = Kp),
          (T.transform = Dw),
          (T.unary = x5),
          (T.union = Ay),
          (T.unionBy = Ey),
          (T.unionWith = xy),
          (T.uniq = Sy),
          (T.uniqBy = My),
          (T.uniqWith = Iy),
          (T.unset = Pw),
          (T.unzip = Gu),
          (T.unzipWith = Dp),
          (T.update = Cw),
          (T.updateWith = Ow),
          (T.values = Ha),
          (T.valuesIn = Nw),
          (T.without = Dy),
          (T.words = Zp),
          (T.wrap = S5),
          (T.xor = Py),
          (T.xorBy = Cy),
          (T.xorWith = Oy),
          (T.zip = Ny),
          (T.zipObject = Ry),
          (T.zipObjectDeep = Ty),
          (T.zipWith = Fy),
          (T.entries = Jp),
          (T.entriesIn = Yp),
          (T.extend = Vp),
          (T.extendWith = Lh),
          il(T, T),
          (T.add = N8),
          (T.attempt = e1),
          (T.camelCase = Bw),
          (T.capitalize = Qp),
          (T.ceil = R8),
          (T.clamp = Rw),
          (T.clone = I5),
          (T.cloneDeep = P5),
          (T.cloneDeepWith = C5),
          (T.cloneWith = D5),
          (T.conformsTo = O5),
          (T.deburr = Xp),
          (T.defaultTo = u8),
          (T.divide = T8),
          (T.endsWith = Lw),
          (T.eq = rn),
          (T.escape = qw),
          (T.escapeRegExp = Uw),
          (T.every = Vy),
          (T.find = Wy),
          (T.findIndex = Ep),
          (T.findKey = ow),
          (T.findLast = Jy),
          (T.findLastIndex = xp),
          (T.findLastKey = cw),
          (T.floor = F8),
          (T.forEach = Cp),
          (T.forEachRight = Op),
          (T.forIn = hw),
          (T.forInRight = fw),
          (T.forOwn = uw),
          (T.forOwnRight = lw),
          (T.get = Xu),
          (T.gt = N5),
          (T.gte = R5),
          (T.has = gw),
          (T.hasIn = Zu),
          (T.head = Mp),
          (T.identity = oi),
          (T.includes = e5),
          (T.indexOf = J6),
          (T.inRange = Tw),
          (T.invoke = mw),
          (T.isArguments = ra),
          (T.isArray = gt),
          (T.isArrayBuffer = T5),
          (T.isArrayLike = si),
          (T.isArrayLikeObject = ar),
          (T.isBoolean = F5),
          (T.isBuffer = Ps),
          (T.isDate = B5),
          (T.isElement = L5),
          (T.isEmpty = q5),
          (T.isEqual = U5),
          (T.isEqualWith = $5),
          (T.isError = Yu),
          (T.isFinite = z5),
          (T.isFunction = is),
          (T.isInteger = Up),
          (T.isLength = Fh),
          (T.isMap = $p),
          (T.isMatch = k5),
          (T.isMatchWith = j5),
          (T.isNaN = H5),
          (T.isNative = K5),
          (T.isNil = G5),
          (T.isNull = V5),
          (T.isNumber = zp),
          (T.isObject = Zt),
          (T.isObjectLike = tr),
          (T.isPlainObject = jo),
          (T.isRegExp = Qu),
          (T.isSafeInteger = W5),
          (T.isSet = kp),
          (T.isString = Bh),
          (T.isSymbol = mi),
          (T.isTypedArray = ja),
          (T.isUndefined = J5),
          (T.isWeakMap = Y5),
          (T.isWeakSet = Q5),
          (T.join = ey),
          (T.kebabCase = $w),
          (T.last = Ti),
          (T.lastIndexOf = ty),
          (T.lowerCase = zw),
          (T.lowerFirst = kw),
          (T.lt = X5),
          (T.lte = Z5),
          (T.max = B8),
          (T.maxBy = L8),
          (T.mean = q8),
          (T.meanBy = U8),
          (T.min = $8),
          (T.minBy = z8),
          (T.stubArray = sl),
          (T.stubFalse = al),
          (T.stubObject = M8),
          (T.stubString = I8),
          (T.stubTrue = D8),
          (T.multiply = k8),
          (T.nth = ry),
          (T.noConflict = m8),
          (T.noop = nl),
          (T.now = Nh),
          (T.pad = jw),
          (T.padEnd = Hw),
          (T.padStart = Kw),
          (T.parseInt = Vw),
          (T.random = Fw),
          (T.reduce = s5),
          (T.reduceRight = a5),
          (T.repeat = Gw),
          (T.replace = Ww),
          (T.result = Sw),
          (T.round = j8),
          (T.runInContext = re),
          (T.sample = c5),
          (T.size = u5),
          (T.snakeCase = Jw),
          (T.some = l5),
          (T.sortedIndex = hy),
          (T.sortedIndexBy = fy),
          (T.sortedIndexOf = uy),
          (T.sortedLastIndex = ly),
          (T.sortedLastIndexBy = dy),
          (T.sortedLastIndexOf = py),
          (T.startCase = Qw),
          (T.startsWith = Xw),
          (T.subtract = H8),
          (T.sum = K8),
          (T.sumBy = V8),
          (T.template = Zw),
          (T.times = P8),
          (T.toFinite = ns),
          (T.toInteger = yt),
          (T.toLength = Hp),
          (T.toLower = e8),
          (T.toNumber = Fi),
          (T.toSafeInteger = ew),
          (T.toString = Bt),
          (T.toUpper = t8),
          (T.trim = r8),
          (T.trimEnd = i8),
          (T.trimStart = n8),
          (T.truncate = s8),
          (T.unescape = a8),
          (T.uniqueId = O8),
          (T.upperCase = o8),
          (T.upperFirst = el),
          (T.each = Cp),
          (T.eachRight = Op),
          (T.first = Mp),
          il(
            T,
            (function () {
              var s = {};
              return (
                wn(T, function (o, u) {
                  qt.call(T.prototype, u) || (s[u] = o);
                }),
                s
              );
            })(),
            { chain: !1 }
          ),
          (T.VERSION = i),
          Pi(
            [
              "bind",
              "bindKey",
              "curry",
              "curryRight",
              "partial",
              "partialRight",
            ],
            function (s) {
              T[s].placeholder = T;
            }
          ),
          Pi(["drop", "take"], function (s, o) {
            (It.prototype[s] = function (u) {
              u = u === t ? 1 : pr(yt(u), 0);
              var E = this.__filtered__ && !o ? new It(this) : this.clone();
              return (
                E.__filtered__
                  ? (E.__takeCount__ = qr(u, E.__takeCount__))
                  : E.__views__.push({
                      size: qr(u, p),
                      type: s + (E.__dir__ < 0 ? "Right" : ""),
                    }),
                E
              );
            }),
              (It.prototype[s + "Right"] = function (u) {
                return this.reverse()[s](u).reverse();
              });
          }),
          Pi(["filter", "map", "takeWhile"], function (s, o) {
            var u = o + 1,
              E = u == l || u == x;
            It.prototype[s] = function (N) {
              var L = this.clone();
              return (
                L.__iteratees__.push({ iteratee: nt(N, 3), type: u }),
                (L.__filtered__ = L.__filtered__ || E),
                L
              );
            };
          }),
          Pi(["head", "last"], function (s, o) {
            var u = "take" + (o ? "Right" : "");
            It.prototype[s] = function () {
              return this[u](1).value()[0];
            };
          }),
          Pi(["initial", "tail"], function (s, o) {
            var u = "drop" + (o ? "" : "Right");
            It.prototype[s] = function () {
              return this.__filtered__ ? new It(this) : this[u](1);
            };
          }),
          (It.prototype.compact = function () {
            return this.filter(oi);
          }),
          (It.prototype.find = function (s) {
            return this.filter(s).head();
          }),
          (It.prototype.findLast = function (s) {
            return this.reverse().find(s);
          }),
          (It.prototype.invokeMap = At(function (s, o) {
            return typeof s == "function"
              ? new It(this)
              : this.map(function (u) {
                  return Lo(u, s, o);
                });
          })),
          (It.prototype.reject = function (s) {
            return this.filter(Th(nt(s)));
          }),
          (It.prototype.slice = function (s, o) {
            s = yt(s);
            var u = this;
            return u.__filtered__ && (s > 0 || o < 0)
              ? new It(u)
              : (s < 0 ? (u = u.takeRight(-s)) : s && (u = u.drop(s)),
                o !== t &&
                  ((o = yt(o)), (u = o < 0 ? u.dropRight(-o) : u.take(o - s))),
                u);
          }),
          (It.prototype.takeRightWhile = function (s) {
            return this.reverse().takeWhile(s).reverse();
          }),
          (It.prototype.toArray = function () {
            return this.take(p);
          }),
          wn(It.prototype, function (s, o) {
            var u = /^(?:filter|find|map|reject)|While$/.test(o),
              E = /^(?:head|last)$/.test(o),
              N = T[E ? "take" + (o == "last" ? "Right" : "") : o],
              L = E || /^find/.test(o);
            N &&
              (T.prototype[o] = function () {
                var J = this.__wrapped__,
                  X = E ? [1] : arguments,
                  ie = J instanceof It,
                  ue = X[0],
                  le = ie || gt(J),
                  ge = function (xt) {
                    var Nt = N.apply(T, As([xt], X));
                    return E && De ? Nt[0] : Nt;
                  };
                le &&
                  u &&
                  typeof ue == "function" &&
                  ue.length != 1 &&
                  (ie = le = !1);
                var De = this.__chain__,
                  We = !!this.__actions__.length,
                  ot = L && !De,
                  wt = ie && !We;
                if (!L && le) {
                  J = wt ? J : new It(this);
                  var ct = s.apply(J, X);
                  return (
                    ct.__actions__.push({ func: Ch, args: [ge], thisArg: t }),
                    new Oi(ct, De)
                  );
                }
                return ot && wt
                  ? s.apply(this, X)
                  : ((ct = this.thru(ge)),
                    ot ? (E ? ct.value()[0] : ct.value()) : ct);
              });
          }),
          Pi(
            ["pop", "push", "shift", "sort", "splice", "unshift"],
            function (s) {
              var o = rh[s],
                u = /^(?:push|sort|unshift)$/.test(s) ? "tap" : "thru",
                E = /^(?:pop|shift)$/.test(s);
              T.prototype[s] = function () {
                var N = arguments;
                if (E && !this.__chain__) {
                  var L = this.value();
                  return o.apply(gt(L) ? L : [], N);
                }
                return this[u](function (J) {
                  return o.apply(gt(J) ? J : [], N);
                });
              };
            }
          ),
          wn(It.prototype, function (s, o) {
            var u = T[o];
            if (u) {
              var E = u.name + "";
              qt.call(qa, E) || (qa[E] = []), qa[E].push({ name: o, func: u });
            }
          }),
          (qa[Eh(t, Q).name] = [{ name: "wrapper", func: t }]),
          (It.prototype.clone = a3),
          (It.prototype.reverse = o3),
          (It.prototype.value = c3),
          (T.prototype.at = Ly),
          (T.prototype.chain = qy),
          (T.prototype.commit = Uy),
          (T.prototype.next = $y),
          (T.prototype.plant = ky),
          (T.prototype.reverse = jy),
          (T.prototype.toJSON = T.prototype.valueOf = T.prototype.value = Hy),
          (T.prototype.first = T.prototype.head),
          Co && (T.prototype[Co] = zy),
          T
        );
      },
      Fa = Um();
    sr ? (((sr.exports = Fa)._ = Fa), (jt._ = Fa)) : (Ot._ = Fa);
  }.call(ic));
})(_0, _0.exports);
var GN = Object.defineProperty,
  WN = Object.defineProperties,
  JN = Object.getOwnPropertyDescriptors,
  Sv = Object.getOwnPropertySymbols,
  YN = Object.prototype.hasOwnProperty,
  QN = Object.prototype.propertyIsEnumerable,
  Mv = (r, e, t) =>
    e in r
      ? GN(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Wh = (r, e) => {
    for (var t in e || (e = {})) YN.call(e, t) && Mv(r, t, e[t]);
    if (Sv) for (var t of Sv(e)) QN.call(e, t) && Mv(r, t, e[t]);
    return r;
  },
  XN = (r, e) => WN(r, JN(e));
function gn(r, e, t) {
  var i;
  const n = oc(r);
  return (
    ((i = e.rpcMap) == null ? void 0 : i[n.reference]) ||
    `${dm}?chainId=${n.namespace}:${n.reference}&projectId=${t}`
  );
}
function Ia(r) {
  return r.includes(":") ? r.split(":")[1] : r;
}
function pm(r) {
  return r.map((e) => `${e.split(":")[0]}:${e.split(":")[1]}`);
}
function ZN(r, e) {
  const t = Object.keys(e.namespaces).filter((n) => n.includes(r));
  if (!t.length) return [];
  const i = [];
  return (
    t.forEach((n) => {
      const a = e.namespaces[n].accounts;
      i.push(...a);
    }),
    i
  );
}
function Hl(r = {}, e = {}) {
  const t = Iv(r),
    i = Iv(e);
  return _0.exports.merge(t, i);
}
function Iv(r) {
  var e, t, i, n;
  const a = {};
  if (!mc(r)) return a;
  for (const [h, f] of Object.entries(r)) {
    const v = G0(h) ? [h] : f.chains,
      g = f.methods || [],
      y = f.events || [],
      _ = f.rpcMap || {},
      C = ac(h);
    a[C] = XN(Wh(Wh({}, a[C]), f), {
      chains: Xh(v, (e = a[C]) == null ? void 0 : e.chains),
      methods: Xh(g, (t = a[C]) == null ? void 0 : t.methods),
      events: Xh(y, (i = a[C]) == null ? void 0 : i.events),
      rpcMap: Wh(Wh({}, _), (n = a[C]) == null ? void 0 : n.rpcMap),
    });
  }
  return a;
}
function eR(r) {
  return r.includes(":") ? r.split(":")[2] : r;
}
function Dv(r) {
  const e = {};
  for (const [t, i] of Object.entries(r)) {
    const n = i.methods || [],
      a = i.events || [],
      h = i.accounts || [],
      f = G0(t) ? [t] : i.chains ? i.chains : pm(i.accounts);
    e[t] = { chains: f, methods: n, events: a, accounts: h };
  }
  return e;
}
function Kl(r) {
  return typeof r == "number"
    ? r
    : r.includes("0x")
    ? parseInt(r, 16)
    : ((r = r.includes(":") ? r.split(":")[1] : r),
      isNaN(Number(r)) ? r : Number(r));
}
const gm = {},
  Lt = (r) => gm[r],
  Vl = (r, e) => {
    gm[r] = e;
  };
class tR {
  constructor(e) {
    (this.name = "polkadot"),
      (this.namespace = e.namespace),
      (this.events = Lt("events")),
      (this.client = Lt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(bn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? e
          .filter((t) => t.split(":")[1] === this.chainId.toString())
          .map((t) => t.split(":")[2]) || []
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = Ia(t);
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || gn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new vn(new Jn(i, Lt("disableProviderPing")));
  }
}
var rR = Object.defineProperty,
  iR = Object.defineProperties,
  nR = Object.getOwnPropertyDescriptors,
  Pv = Object.getOwnPropertySymbols,
  sR = Object.prototype.hasOwnProperty,
  aR = Object.prototype.propertyIsEnumerable,
  Cv = (r, e, t) =>
    e in r
      ? rR(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Ov = (r, e) => {
    for (var t in e || (e = {})) sR.call(e, t) && Cv(r, t, e[t]);
    if (Pv) for (var t of Pv(e)) aR.call(e, t) && Cv(r, t, e[t]);
    return r;
  },
  Nv = (r, e) => iR(r, nR(e));
class oR {
  constructor(e) {
    (this.name = "eip155"),
      (this.namespace = e.namespace),
      (this.events = Lt("events")),
      (this.client = Lt("client")),
      (this.httpProviders = this.createHttpProviders()),
      (this.chainId = parseInt(this.getDefaultChain()));
  }
  async request(e) {
    switch (e.request.method) {
      case "eth_requestAccounts":
        return this.getAccounts();
      case "eth_accounts":
        return this.getAccounts();
      case "wallet_switchEthereumChain":
        return await this.handleSwitchChain(e);
      case "eth_chainId":
        return parseInt(this.getDefaultChain());
      case "wallet_getCapabilities":
        return await this.getCapabilities(e);
      case "wallet_getCallsStatus":
        return await this.getCallStatus(e);
    }
    return this.namespace.methods.includes(e.request.method)
      ? await this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(parseInt(e), t),
      (this.chainId = parseInt(e)),
      this.events.emit(bn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId.toString();
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  createHttpProvider(e, t) {
    const i =
      t || gn(`${this.name}:${e}`, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new vn(new Jn(i, Lt("disableProviderPing")));
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = parseInt(Ia(t));
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  getHttpProvider() {
    const e = this.chainId,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  async handleSwitchChain(e) {
    var t, i;
    let n = e.request.params
      ? (t = e.request.params[0]) == null
        ? void 0
        : t.chainId
      : "0x0";
    n = n.startsWith("0x") ? n : `0x${n}`;
    const a = parseInt(n, 16);
    if (this.isChainApproved(a)) this.setDefaultChain(`${a}`);
    else if (this.namespace.methods.includes("wallet_switchEthereumChain"))
      await this.client.request({
        topic: e.topic,
        request: { method: e.request.method, params: [{ chainId: n }] },
        chainId: (i = this.namespace.chains) == null ? void 0 : i[0],
      }),
        this.setDefaultChain(`${a}`);
    else
      throw new Error(
        `Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`
      );
    return null;
  }
  isChainApproved(e) {
    return this.namespace.chains.includes(`${this.name}:${e}`);
  }
  async getCapabilities(e) {
    var t, i, n;
    const a =
      (i = (t = e.request) == null ? void 0 : t.params) == null ? void 0 : i[0];
    if (!a)
      throw new Error(
        "Missing address parameter in `wallet_getCapabilities` request"
      );
    const h = this.client.session.get(e.topic),
      f =
        ((n = h == null ? void 0 : h.sessionProperties) == null
          ? void 0
          : n.capabilities) || {};
    if (f != null && f[a]) return f == null ? void 0 : f[a];
    const v = await this.client.request(e);
    try {
      await this.client.session.update(e.topic, {
        sessionProperties: Nv(Ov({}, h.sessionProperties || {}), {
          capabilities: Nv(Ov({}, f || {}), { [a]: v }),
        }),
      });
    } catch (g) {
      console.warn("Failed to update session with capabilities", g);
    }
    return v;
  }
  async getCallStatus(e) {
    var t, i;
    const n = this.client.session.get(e.topic),
      a = (t = n.sessionProperties) == null ? void 0 : t.bundler_name;
    if (a) {
      const f = this.getBundlerUrl(e.chainId, a);
      try {
        return await this.getUserOperationReceipt(f, e);
      } catch (v) {
        console.warn("Failed to fetch call status from bundler", v, f);
      }
    }
    const h = (i = n.sessionProperties) == null ? void 0 : i.bundler_url;
    if (h)
      try {
        return await this.getUserOperationReceipt(h, e);
      } catch (f) {
        console.warn("Failed to fetch call status from custom bundler", f, h);
      }
    if (this.namespace.methods.includes(e.request.method))
      return await this.client.request(e);
    throw new Error("Fetching call status not approved by the wallet.");
  }
  async getUserOperationReceipt(e, t) {
    var i;
    const n = new URL(e),
      a = await fetch(n, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(
          qs("eth_getUserOperationReceipt", [
            (i = t.request.params) == null ? void 0 : i[0],
          ])
        ),
      });
    if (!a.ok)
      throw new Error(`Failed to fetch user operation receipt - ${a.status}`);
    return await a.json();
  }
  getBundlerUrl(e, t) {
    return `${VN}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`;
  }
}
class cR {
  constructor(e) {
    (this.name = "solana"),
      (this.namespace = e.namespace),
      (this.events = Lt("events")),
      (this.client = Lt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(bn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = Ia(t);
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || gn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new vn(new Jn(i, Lt("disableProviderPing")));
  }
}
class hR {
  constructor(e) {
    (this.name = "cosmos"),
      (this.namespace = e.namespace),
      (this.events = Lt("events")),
      (this.client = Lt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(
        bn.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`
      );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = Ia(t);
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || gn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new vn(new Jn(i, Lt("disableProviderPing")));
  }
}
class fR {
  constructor(e) {
    (this.name = "algorand"),
      (this.namespace = e.namespace),
      (this.events = Lt("events")),
      (this.client = Lt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    if (!this.httpProviders[e]) {
      const i =
        t ||
        gn(`${this.name}:${e}`, this.namespace, this.client.core.projectId);
      if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
      this.setHttpProvider(e, i);
    }
    (this.chainId = e),
      this.events.emit(
        bn.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`
      );
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        e[t] = this.createHttpProvider(
          t,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || gn(e, this.namespace, this.client.core.projectId);
    return typeof i > "u"
      ? void 0
      : new vn(new Jn(i, Lt("disableProviderPing")));
  }
}
class uR {
  constructor(e) {
    (this.name = "cip34"),
      (this.namespace = e.namespace),
      (this.events = Lt("events")),
      (this.client = Lt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(
        bn.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`
      );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        const i = this.getCardanoRPCUrl(t),
          n = Ia(t);
        e[n] = this.createHttpProvider(n, i);
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  getCardanoRPCUrl(e) {
    const t = this.namespace.rpcMap;
    if (t) return t[e];
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || this.getCardanoRPCUrl(e);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new vn(new Jn(i, Lt("disableProviderPing")));
  }
}
class lR {
  constructor(e) {
    (this.name = "elrond"),
      (this.namespace = e.namespace),
      (this.events = Lt("events")),
      (this.client = Lt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(bn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = Ia(t);
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || gn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new vn(new Jn(i, Lt("disableProviderPing")));
  }
}
class dR {
  constructor(e) {
    (this.name = "multiversx"),
      (this.namespace = e.namespace),
      (this.events = Lt("events")),
      (this.client = Lt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(bn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const n = Ia(t);
        e[n] = this.createHttpProvider(
          n,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || gn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new vn(new Jn(i, Lt("disableProviderPing")));
  }
}
class pR {
  constructor(e) {
    (this.name = "near"),
      (this.namespace = e.namespace),
      (this.events = Lt("events")),
      (this.client = Lt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    if (((this.chainId = e), !this.httpProviders[e])) {
      const i = t || gn(`${this.name}:${e}`, this.namespace);
      if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
      this.setHttpProvider(e, i);
    }
    this.events.emit(bn.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? e
          .filter((t) => t.split(":")[1] === this.chainId.toString())
          .map((t) => t.split(":")[2]) || []
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        e[t] = this.createHttpProvider(
          t,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || gn(e, this.namespace);
    return typeof i > "u"
      ? void 0
      : new vn(new Jn(i, Lt("disableProviderPing")));
  }
}
class gR {
  constructor(e) {
    (this.name = Qa),
      (this.namespace = e.namespace),
      (this.events = Lt("events")),
      (this.client = Lt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    (this.namespace.chains = [
      ...new Set((this.namespace.chains || []).concat(e.chains || [])),
    ]),
      (this.namespace.accounts = [
        ...new Set((this.namespace.accounts || []).concat(e.accounts || [])),
      ]),
      (this.namespace.methods = [
        ...new Set((this.namespace.methods || []).concat(e.methods || [])),
      ]),
      (this.namespace.events = [
        ...new Set((this.namespace.events || []).concat(e.events || [])),
      ]),
      (this.httpProviders = this.createHttpProviders());
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider(e.chainId).request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(bn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    var e, t;
    const i = {};
    return (
      (t = (e = this.namespace) == null ? void 0 : e.accounts) == null ||
        t.forEach((n) => {
          const a = oc(n);
          i[`${a.namespace}:${a.reference}`] = this.createHttpProvider(n);
        }),
      i
    );
  }
  getHttpProvider(e) {
    const t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || gn(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new vn(new Jn(i, Lt("disableProviderPing")));
  }
}
var vR = Object.defineProperty,
  bR = Object.defineProperties,
  mR = Object.getOwnPropertyDescriptors,
  Rv = Object.getOwnPropertySymbols,
  yR = Object.prototype.hasOwnProperty,
  wR = Object.prototype.propertyIsEnumerable,
  Tv = (r, e, t) =>
    e in r
      ? vR(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Jh = (r, e) => {
    for (var t in e || (e = {})) yR.call(e, t) && Tv(r, t, e[t]);
    if (Rv) for (var t of Rv(e)) wR.call(e, t) && Tv(r, t, e[t]);
    return r;
  },
  Gl = (r, e) => bR(r, mR(e));
class rd {
  constructor(e) {
    (this.events = new x0()),
      (this.rpcProviders = {}),
      (this.shouldAbortPairingAttempt = !1),
      (this.maxPairingAttempts = 10),
      (this.disableProviderPing = !1),
      (this.providerOpts = e),
      (this.logger =
        typeof (e == null ? void 0 : e.logger) < "u" &&
        typeof (e == null ? void 0 : e.logger) != "string"
          ? e.logger
          : Rc(Vf({ level: (e == null ? void 0 : e.logger) || Ev }))),
      (this.disableProviderPing =
        (e == null ? void 0 : e.disableProviderPing) || !1);
  }
  static async init(e) {
    const t = new rd(e);
    return await t.initialize(), t;
  }
  async request(e, t, i) {
    const [n, a] = this.validateChain(t);
    if (!this.session)
      throw new Error("Please call connect() before request()");
    return await this.getProvider(n).request({
      request: Jh({}, e),
      chainId: `${n}:${a}`,
      topic: this.session.topic,
      expiry: i,
    });
  }
  sendAsync(e, t, i, n) {
    const a = new Date().getTime();
    this.request(e, i, n)
      .then((h) => t(null, Gf(a, h)))
      .catch((h) => t(h, void 0));
  }
  async enable() {
    if (!this.client) throw new Error("Sign Client not initialized");
    return (
      this.session ||
        (await this.connect({
          namespaces: this.namespaces,
          optionalNamespaces: this.optionalNamespaces,
          sessionProperties: this.sessionProperties,
        })),
      await this.requestAccounts()
    );
  }
  async disconnect() {
    var e;
    if (!this.session) throw new Error("Please call connect() before enable()");
    await this.client.disconnect({
      topic: (e = this.session) == null ? void 0 : e.topic,
      reason: Ut("USER_DISCONNECTED"),
    }),
      await this.cleanup();
  }
  async connect(e) {
    if (!this.client) throw new Error("Sign Client not initialized");
    if (
      (this.setNamespaces(e),
      await this.cleanupPendingPairings(),
      !e.skipPairing)
    )
      return await this.pair(e.pairingTopic);
  }
  async authenticate(e, t) {
    if (!this.client) throw new Error("Sign Client not initialized");
    this.setNamespaces(e), await this.cleanupPendingPairings();
    const { uri: i, response: n } = await this.client.authenticate(e, t);
    i && ((this.uri = i), this.events.emit("display_uri", i));
    const a = await n();
    if (((this.session = a.session), this.session)) {
      const h = Dv(this.session.namespaces);
      (this.namespaces = Hl(this.namespaces, h)),
        this.persist("namespaces", this.namespaces),
        this.onConnect();
    }
    return a;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  get isWalletConnect() {
    return !0;
  }
  async pair(e) {
    this.shouldAbortPairingAttempt = !1;
    let t = 0;
    do {
      if (this.shouldAbortPairingAttempt) throw new Error("Pairing aborted");
      if (t >= this.maxPairingAttempts)
        throw new Error("Max auto pairing attempts reached");
      const { uri: i, approval: n } = await this.client.connect({
        pairingTopic: e,
        requiredNamespaces: this.namespaces,
        optionalNamespaces: this.optionalNamespaces,
        sessionProperties: this.sessionProperties,
      });
      i && ((this.uri = i), this.events.emit("display_uri", i)),
        await n()
          .then((a) => {
            this.session = a;
            const h = Dv(a.namespaces);
            (this.namespaces = Hl(this.namespaces, h)),
              this.persist("namespaces", this.namespaces);
          })
          .catch((a) => {
            if (a.message !== lm) throw a;
            t++;
          });
    } while (!this.session);
    return this.onConnect(), this.session;
  }
  setDefaultChain(e, t) {
    try {
      if (!this.session) return;
      const [i, n] = this.validateChain(e),
        a = this.getProvider(i);
      a.name === Qa
        ? a.setDefaultChain(`${i}:${n}`, t)
        : a.setDefaultChain(n, t);
    } catch (i) {
      if (!/Please call connect/.test(i.message)) throw i;
    }
  }
  async cleanupPendingPairings(e = {}) {
    this.logger.info("Cleaning up inactive pairings...");
    const t = this.client.pairing.getAll();
    if (Hn(t)) {
      for (const i of t)
        e.deletePairings
          ? this.client.core.expirer.set(i.topic, 0)
          : await this.client.core.relayer.subscriber.unsubscribe(i.topic);
      this.logger.info(`Inactive pairings cleared: ${t.length}`);
    }
  }
  abortPairingAttempt() {
    this.shouldAbortPairingAttempt = !0;
  }
  async checkStorage() {
    if (
      ((this.namespaces = await this.getFromStore("namespaces")),
      (this.optionalNamespaces =
        (await this.getFromStore("optionalNamespaces")) || {}),
      this.client.session.length)
    ) {
      const e = this.client.session.keys.length - 1;
      (this.session = this.client.session.get(this.client.session.keys[e])),
        this.createProviders();
    }
  }
  async initialize() {
    this.logger.trace("Initialized"),
      await this.createClient(),
      await this.checkStorage(),
      this.registerEventListeners();
  }
  async createClient() {
    (this.client =
      this.providerOpts.client ||
      (await td.init({
        core: this.providerOpts.core,
        logger: this.providerOpts.logger || Ev,
        relayUrl: this.providerOpts.relayUrl || jN,
        projectId: this.providerOpts.projectId,
        metadata: this.providerOpts.metadata,
        storageOptions: this.providerOpts.storageOptions,
        storage: this.providerOpts.storage,
        name: this.providerOpts.name,
        customStoragePrefix: this.providerOpts.customStoragePrefix,
        telemetryEnabled: this.providerOpts.telemetryEnabled,
      }))),
      this.logger.trace("SignClient Initialized");
  }
  createProviders() {
    if (!this.client) throw new Error("Sign Client not initialized");
    if (!this.session)
      throw new Error(
        "Session not initialized. Please call connect() before enable()"
      );
    const e = [
      ...new Set(Object.keys(this.session.namespaces).map((t) => ac(t))),
    ];
    Vl("client", this.client),
      Vl("events", this.events),
      Vl("disableProviderPing", this.disableProviderPing),
      e.forEach((t) => {
        if (!this.session) return;
        const i = ZN(t, this.session),
          n = pm(i),
          a = Hl(this.namespaces, this.optionalNamespaces),
          h = Gl(Jh({}, a[t]), { accounts: i, chains: n });
        switch (t) {
          case "eip155":
            this.rpcProviders[t] = new oR({ namespace: h });
            break;
          case "algorand":
            this.rpcProviders[t] = new fR({ namespace: h });
            break;
          case "solana":
            this.rpcProviders[t] = new cR({ namespace: h });
            break;
          case "cosmos":
            this.rpcProviders[t] = new hR({ namespace: h });
            break;
          case "polkadot":
            this.rpcProviders[t] = new tR({ namespace: h });
            break;
          case "cip34":
            this.rpcProviders[t] = new uR({ namespace: h });
            break;
          case "elrond":
            this.rpcProviders[t] = new lR({ namespace: h });
            break;
          case "multiversx":
            this.rpcProviders[t] = new dR({ namespace: h });
            break;
          case "near":
            this.rpcProviders[t] = new pR({ namespace: h });
            break;
          default:
            this.rpcProviders[Qa]
              ? this.rpcProviders[Qa].updateNamespace(h)
              : (this.rpcProviders[Qa] = new gR({ namespace: h }));
        }
      });
  }
  registerEventListeners() {
    if (typeof this.client > "u")
      throw new Error("Sign Client is not initialized");
    this.client.on("session_ping", (e) => {
      this.events.emit("session_ping", e);
    }),
      this.client.on("session_event", (e) => {
        const { params: t } = e,
          { event: i } = t;
        if (i.name === "accountsChanged") {
          const n = i.data;
          n && Hn(n) && this.events.emit("accountsChanged", n.map(eR));
        } else if (i.name === "chainChanged") {
          const n = t.chainId,
            a = t.event.data,
            h = ac(n),
            f = Kl(n) !== Kl(a) ? `${h}:${Kl(a)}` : n;
          this.onChainChanged(f);
        } else this.events.emit(i.name, i.data);
        this.events.emit("session_event", e);
      }),
      this.client.on("session_update", ({ topic: e, params: t }) => {
        var i;
        const { namespaces: n } = t,
          a = (i = this.client) == null ? void 0 : i.session.get(e);
        (this.session = Gl(Jh({}, a), { namespaces: n })),
          this.onSessionUpdate(),
          this.events.emit("session_update", { topic: e, params: t });
      }),
      this.client.on("session_delete", async (e) => {
        await this.cleanup(),
          this.events.emit("session_delete", e),
          this.events.emit(
            "disconnect",
            Gl(Jh({}, Ut("USER_DISCONNECTED")), { data: e.topic })
          );
      }),
      this.on(bn.DEFAULT_CHAIN_CHANGED, (e) => {
        this.onChainChanged(e, !0);
      });
  }
  getProvider(e) {
    return this.rpcProviders[e] || this.rpcProviders[Qa];
  }
  onSessionUpdate() {
    Object.keys(this.rpcProviders).forEach((e) => {
      var t;
      this.getProvider(e).updateNamespace(
        (t = this.session) == null ? void 0 : t.namespaces[e]
      );
    });
  }
  setNamespaces(e) {
    const { namespaces: t, optionalNamespaces: i, sessionProperties: n } = e;
    t && Object.keys(t).length && (this.namespaces = t),
      i && Object.keys(i).length && (this.optionalNamespaces = i),
      (this.sessionProperties = n),
      this.persist("namespaces", t),
      this.persist("optionalNamespaces", i);
  }
  validateChain(e) {
    const [t, i] = (e == null ? void 0 : e.split(":")) || ["", ""];
    if (!this.namespaces || !Object.keys(this.namespaces).length) return [t, i];
    if (
      t &&
      !Object.keys(this.namespaces || {})
        .map((h) => ac(h))
        .includes(t)
    )
      throw new Error(
        `Namespace '${t}' is not configured. Please call connect() first with namespace config.`
      );
    if (t && i) return [t, i];
    const n = ac(Object.keys(this.namespaces)[0]),
      a = this.rpcProviders[n].getDefaultChain();
    return [n, a];
  }
  async requestAccounts() {
    const [e] = this.validateChain();
    return await this.getProvider(e).requestAccounts();
  }
  onChainChanged(e, t = !1) {
    if (!this.namespaces) return;
    const [i, n] = this.validateChain(e);
    n &&
      (t || this.getProvider(i).setDefaultChain(n),
      this.namespaces[i]
        ? (this.namespaces[i].defaultChain = n)
        : this.namespaces[`${i}:${n}`]
        ? (this.namespaces[`${i}:${n}`].defaultChain = n)
        : (this.namespaces[`${i}:${n}`] = { defaultChain: n }),
      this.persist("namespaces", this.namespaces),
      this.events.emit("chainChanged", n));
  }
  onConnect() {
    this.createProviders(),
      this.events.emit("connect", { session: this.session });
  }
  async cleanup() {
    (this.session = void 0),
      (this.namespaces = void 0),
      (this.optionalNamespaces = void 0),
      (this.sessionProperties = void 0),
      this.persist("namespaces", void 0),
      this.persist("optionalNamespaces", void 0),
      this.persist("sessionProperties", void 0),
      await this.cleanupPendingPairings({ deletePairings: !0 });
  }
  persist(e, t) {
    this.client.core.storage.setItem(`${xv}/${e}`, t);
  }
  async getFromStore(e) {
    return await this.client.core.storage.getItem(`${xv}/${e}`);
  }
}
const _R = rd,
  AR = "wc",
  ER = "ethereum_provider",
  xR = `${AR}@2:${ER}:`,
  SR = "https://rpc.walletconnect.org/v1/",
  A0 = ["eth_sendTransaction", "personal_sign"],
  MR = [
    "eth_accounts",
    "eth_requestAccounts",
    "eth_sendRawTransaction",
    "eth_sign",
    "eth_signTransaction",
    "eth_signTypedData",
    "eth_signTypedData_v3",
    "eth_signTypedData_v4",
    "eth_sendTransaction",
    "personal_sign",
    "wallet_switchEthereumChain",
    "wallet_addEthereumChain",
    "wallet_getPermissions",
    "wallet_requestPermissions",
    "wallet_registerOnboarding",
    "wallet_watchAsset",
    "wallet_scanQRCode",
    "wallet_sendCalls",
    "wallet_getCapabilities",
    "wallet_getCallsStatus",
    "wallet_showCallsStatus",
  ],
  E0 = ["chainChanged", "accountsChanged"],
  IR = ["chainChanged", "accountsChanged", "message", "disconnect", "connect"];
var DR = Object.defineProperty,
  PR = Object.defineProperties,
  CR = Object.getOwnPropertyDescriptors,
  Fv = Object.getOwnPropertySymbols,
  OR = Object.prototype.hasOwnProperty,
  NR = Object.prototype.propertyIsEnumerable,
  Bv = (r, e, t) =>
    e in r
      ? DR(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Xa = (r, e) => {
    for (var t in e || (e = {})) OR.call(e, t) && Bv(r, t, e[t]);
    if (Fv) for (var t of Fv(e)) NR.call(e, t) && Bv(r, t, e[t]);
    return r;
  },
  Wl = (r, e) => PR(r, CR(e));
function Sf(r) {
  return Number(r[0].split(":")[1]);
}
function Yh(r) {
  return `0x${r.toString(16)}`;
}
function RR(r) {
  const {
    chains: e,
    optionalChains: t,
    methods: i,
    optionalMethods: n,
    events: a,
    optionalEvents: h,
    rpcMap: f,
  } = r;
  if (!Hn(e)) throw new Error("Invalid chains");
  const v = {
      chains: e,
      methods: i || A0,
      events: a || E0,
      rpcMap: Xa({}, e.length ? { [Sf(e)]: f[Sf(e)] } : {}),
    },
    g = a == null ? void 0 : a.filter((P) => !E0.includes(P)),
    y = i == null ? void 0 : i.filter((P) => !A0.includes(P));
  if (!t && !h && !n && !(g != null && g.length) && !(y != null && y.length))
    return { required: e.length ? v : void 0 };
  const _ =
      ((g == null ? void 0 : g.length) && (y == null ? void 0 : y.length)) ||
      !t,
    C = {
      chains: [...new Set(_ ? v.chains.concat(t || []) : t)],
      methods: [...new Set(v.methods.concat(n != null && n.length ? n : MR))],
      events: [...new Set(v.events.concat(h != null && h.length ? h : IR))],
      rpcMap: f,
    };
  return { required: e.length ? v : void 0, optional: t.length ? C : void 0 };
}
class id {
  constructor() {
    (this.events = new Hi.EventEmitter()),
      (this.namespace = "eip155"),
      (this.accounts = []),
      (this.chainId = 1),
      (this.STORAGE_KEY = xR),
      (this.on = (e, t) => (this.events.on(e, t), this)),
      (this.once = (e, t) => (this.events.once(e, t), this)),
      (this.removeListener = (e, t) => (
        this.events.removeListener(e, t), this
      )),
      (this.off = (e, t) => (this.events.off(e, t), this)),
      (this.parseAccount = (e) =>
        this.isCompatibleChainId(e) ? this.parseAccountId(e).address : e),
      (this.signer = {}),
      (this.rpc = {});
  }
  static async init(e) {
    const t = new id();
    return await t.initialize(e), t;
  }
  async request(e, t) {
    return await this.signer.request(e, this.formatChainId(this.chainId), t);
  }
  sendAsync(e, t, i) {
    this.signer.sendAsync(e, t, this.formatChainId(this.chainId), i);
  }
  get connected() {
    return this.signer.client ? this.signer.client.core.relayer.connected : !1;
  }
  get connecting() {
    return this.signer.client ? this.signer.client.core.relayer.connecting : !1;
  }
  async enable() {
    return (
      this.session || (await this.connect()),
      await this.request({ method: "eth_requestAccounts" })
    );
  }
  async connect(e) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts(e);
    const { required: t, optional: i } = RR(this.rpc);
    try {
      const n = await new Promise(async (h, f) => {
        var v;
        this.rpc.showQrModal &&
          ((v = this.modal) == null ||
            v.subscribeModal((g) => {
              !g.open &&
                !this.signer.session &&
                (this.signer.abortPairingAttempt(),
                f(new Error("Connection request reset. Please try again.")));
            })),
          await this.signer
            .connect(
              Wl(
                Xa(
                  { namespaces: Xa({}, t && { [this.namespace]: t }) },
                  i && { optionalNamespaces: { [this.namespace]: i } }
                ),
                { pairingTopic: e == null ? void 0 : e.pairingTopic }
              )
            )
            .then((g) => {
              h(g);
            })
            .catch((g) => {
              f(new Error(g.message));
            });
      });
      if (!n) return;
      const a = q1(n.namespaces, [this.namespace]);
      this.setChainIds(this.rpc.chains.length ? this.rpc.chains : a),
        this.setAccounts(a),
        this.events.emit("connect", { chainId: Yh(this.chainId) });
    } catch (n) {
      throw (this.signer.logger.error(n), n);
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async authenticate(e, t) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts({ chains: e == null ? void 0 : e.chains });
    try {
      const i = await new Promise(async (a, h) => {
          var f;
          this.rpc.showQrModal &&
            ((f = this.modal) == null ||
              f.subscribeModal((v) => {
                !v.open &&
                  !this.signer.session &&
                  (this.signer.abortPairingAttempt(),
                  h(new Error("Connection request reset. Please try again.")));
              })),
            await this.signer
              .authenticate(Wl(Xa({}, e), { chains: this.rpc.chains }), t)
              .then((v) => {
                a(v);
              })
              .catch((v) => {
                h(new Error(v.message));
              });
        }),
        n = i.session;
      if (n) {
        const a = q1(n.namespaces, [this.namespace]);
        this.setChainIds(this.rpc.chains.length ? this.rpc.chains : a),
          this.setAccounts(a),
          this.events.emit("connect", { chainId: Yh(this.chainId) });
      }
      return i;
    } catch (i) {
      throw (this.signer.logger.error(i), i);
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async disconnect() {
    this.session && (await this.signer.disconnect()), this.reset();
  }
  get isWalletConnect() {
    return !0;
  }
  get session() {
    return this.signer.session;
  }
  registerEventListeners() {
    this.signer.on("session_event", (e) => {
      const { params: t } = e,
        { event: i } = t;
      i.name === "accountsChanged"
        ? ((this.accounts = this.parseAccounts(i.data)),
          this.events.emit("accountsChanged", this.accounts))
        : i.name === "chainChanged"
        ? this.setChainId(this.formatChainId(i.data))
        : this.events.emit(i.name, i.data),
        this.events.emit("session_event", e);
    }),
      this.signer.on("chainChanged", (e) => {
        const t = parseInt(e);
        (this.chainId = t),
          this.events.emit("chainChanged", Yh(this.chainId)),
          this.persist();
      }),
      this.signer.on("session_update", (e) => {
        this.events.emit("session_update", e);
      }),
      this.signer.on("session_delete", (e) => {
        this.reset(),
          this.events.emit("session_delete", e),
          this.events.emit(
            "disconnect",
            Wl(Xa({}, Ut("USER_DISCONNECTED")), {
              data: e.topic,
              name: "USER_DISCONNECTED",
            })
          );
      }),
      this.signer.on("display_uri", (e) => {
        var t, i;
        this.rpc.showQrModal &&
          ((t = this.modal) == null || t.closeModal(),
          (i = this.modal) == null || i.openModal({ uri: e })),
          this.events.emit("display_uri", e);
      });
  }
  switchEthereumChain(e) {
    this.request({
      method: "wallet_switchEthereumChain",
      params: [{ chainId: e.toString(16) }],
    });
  }
  isCompatibleChainId(e) {
    return typeof e == "string" ? e.startsWith(`${this.namespace}:`) : !1;
  }
  formatChainId(e) {
    return `${this.namespace}:${e}`;
  }
  parseChainId(e) {
    return Number(e.split(":")[1]);
  }
  setChainIds(e) {
    const t = e
      .filter((i) => this.isCompatibleChainId(i))
      .map((i) => this.parseChainId(i));
    t.length &&
      ((this.chainId = t[0]),
      this.events.emit("chainChanged", Yh(this.chainId)),
      this.persist());
  }
  setChainId(e) {
    if (this.isCompatibleChainId(e)) {
      const t = this.parseChainId(e);
      (this.chainId = t), this.switchEthereumChain(t);
    }
  }
  parseAccountId(e) {
    const [t, i, n] = e.split(":");
    return { chainId: `${t}:${i}`, address: n };
  }
  setAccounts(e) {
    (this.accounts = e
      .filter(
        (t) =>
          this.parseChainId(this.parseAccountId(t).chainId) === this.chainId
      )
      .map((t) => this.parseAccountId(t).address)),
      this.events.emit("accountsChanged", this.accounts);
  }
  getRpcConfig(e) {
    var t, i;
    const n = (t = e == null ? void 0 : e.chains) != null ? t : [],
      a = (i = e == null ? void 0 : e.optionalChains) != null ? i : [],
      h = n.concat(a);
    if (!h.length)
      throw new Error(
        "No chains specified in either `chains` or `optionalChains`"
      );
    const f = n.length ? (e == null ? void 0 : e.methods) || A0 : [],
      v = n.length ? (e == null ? void 0 : e.events) || E0 : [],
      g = (e == null ? void 0 : e.optionalMethods) || [],
      y = (e == null ? void 0 : e.optionalEvents) || [],
      _ = (e == null ? void 0 : e.rpcMap) || this.buildRpcMap(h, e.projectId),
      C = (e == null ? void 0 : e.qrModalOptions) || void 0;
    return {
      chains: n == null ? void 0 : n.map((P) => this.formatChainId(P)),
      optionalChains: a.map((P) => this.formatChainId(P)),
      methods: f,
      events: v,
      optionalMethods: g,
      optionalEvents: y,
      rpcMap: _,
      showQrModal: !!(e != null && e.showQrModal),
      qrModalOptions: C,
      projectId: e.projectId,
      metadata: e.metadata,
    };
  }
  buildRpcMap(e, t) {
    const i = {};
    return (
      e.forEach((n) => {
        i[n] = this.getRpcUrl(n, t);
      }),
      i
    );
  }
  async initialize(e) {
    if (
      ((this.rpc = this.getRpcConfig(e)),
      (this.chainId = this.rpc.chains.length
        ? Sf(this.rpc.chains)
        : Sf(this.rpc.optionalChains)),
      (this.signer = await _R.init({
        projectId: this.rpc.projectId,
        metadata: this.rpc.metadata,
        disableProviderPing: e.disableProviderPing,
        relayUrl: e.relayUrl,
        storageOptions: e.storageOptions,
        customStoragePrefix: e.customStoragePrefix,
        telemetryEnabled: e.telemetryEnabled,
      })),
      this.registerEventListeners(),
      await this.loadPersistedSession(),
      this.rpc.showQrModal)
    ) {
      let t;
      try {
        const { WalletConnectModal: i } = await W8(
          () => import("./index-400a3491.js").then((n) => n.i),
          [
            "assets/index-400a3491.js",
            "assets/index-29f8386e.js",
            "assets/index-3e4fdf76.css",
          ]
        );
        t = i;
      } catch {
        throw new Error(
          "To use QR modal, please install @walletconnect/modal package"
        );
      }
      if (t)
        try {
          this.modal = new t(
            Xa({ projectId: this.rpc.projectId }, this.rpc.qrModalOptions)
          );
        } catch (i) {
          throw (
            (this.signer.logger.error(i),
            new Error("Could not generate WalletConnectModal Instance"))
          );
        }
    }
  }
  loadConnectOpts(e) {
    if (!e) return;
    const { chains: t, optionalChains: i, rpcMap: n } = e;
    t &&
      Hn(t) &&
      ((this.rpc.chains = t.map((a) => this.formatChainId(a))),
      t.forEach((a) => {
        this.rpc.rpcMap[a] = (n == null ? void 0 : n[a]) || this.getRpcUrl(a);
      })),
      i &&
        Hn(i) &&
        ((this.rpc.optionalChains = []),
        (this.rpc.optionalChains =
          i == null ? void 0 : i.map((a) => this.formatChainId(a))),
        i.forEach((a) => {
          this.rpc.rpcMap[a] = (n == null ? void 0 : n[a]) || this.getRpcUrl(a);
        }));
  }
  getRpcUrl(e, t) {
    var i;
    return (
      ((i = this.rpc.rpcMap) == null ? void 0 : i[e]) ||
      `${SR}?chainId=eip155:${e}&projectId=${t || this.rpc.projectId}`
    );
  }
  async loadPersistedSession() {
    if (this.session)
      try {
        const e = await this.signer.client.core.storage.getItem(
            `${this.STORAGE_KEY}/chainId`
          ),
          t = this.session.namespaces[`${this.namespace}:${e}`]
            ? this.session.namespaces[`${this.namespace}:${e}`]
            : this.session.namespaces[this.namespace];
        this.setChainIds(
          e ? [this.formatChainId(e)] : t == null ? void 0 : t.accounts
        ),
          this.setAccounts(t == null ? void 0 : t.accounts);
      } catch (e) {
        this.signer.logger.error(
          "Failed to load persisted session, clearing state..."
        ),
          this.signer.logger.error(e),
          await this.disconnect().catch((t) => this.signer.logger.warn(t));
      }
  }
  reset() {
    (this.chainId = 1), (this.accounts = []);
  }
  persist() {
    this.session &&
      this.signer.client.core.storage.setItem(
        `${this.STORAGE_KEY}/chainId`,
        this.chainId
      );
  }
  parseAccounts(e) {
    return typeof e == "string" || e instanceof String
      ? [this.parseAccount(e)]
      : e.map((t) => this.parseAccount(t));
  }
}
const nT = id;
export {
  nT as EthereumProvider,
  IR as OPTIONAL_EVENTS,
  MR as OPTIONAL_METHODS,
  E0 as REQUIRED_EVENTS,
  A0 as REQUIRED_METHODS,
  id as default,
};
